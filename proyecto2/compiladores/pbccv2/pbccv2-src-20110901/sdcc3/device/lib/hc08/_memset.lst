                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:21 2015
                              5 ;--------------------------------------------------------
                              6 	.module _memset
                              7 	.optsdcc -mhc08
                              8 	
                              9 	.area HOME (CODE)
                             10 	.area GSINIT0 (CODE)
                             11 	.area GSINIT (CODE)
                             12 	.area GSFINAL (CODE)
                             13 	.area CSEG (CODE)
                             14 	.area XINIT
                             15 	.area CONST   (CODE)
                             16 	.area DSEG
                             17 	.area OSEG    (OVR)
                             18 	.area BSEG
                             19 	.area XSEG
                             20 	.area XISEG
                             21 ;--------------------------------------------------------
                             22 ; Public variables in this module
                             23 ;--------------------------------------------------------
                             24 	.globl _memset_PARM_3
                             25 	.globl _memset_PARM_2
                             26 	.globl _memset
                             27 ;--------------------------------------------------------
                             28 ;  ram data
                             29 ;--------------------------------------------------------
                             30 	.area DSEG
                             31 ;--------------------------------------------------------
                             32 ; overlayable items in  ram 
                             33 ;--------------------------------------------------------
                             34 	.area	OSEG    (OVR)
   0000                      35 _memset_sloc0_1_0::
   0000                      36 	.ds 2
   0002                      37 _memset_sloc1_1_0::
   0002                      38 	.ds 2
   0004                      39 _memset_sloc2_1_0::
   0004                      40 	.ds 2
                             41 ;--------------------------------------------------------
                             42 ; absolute external ram data
                             43 ;--------------------------------------------------------
                             44 	.area XABS    (ABS)
                             45 ;--------------------------------------------------------
                             46 ; external initialized ram data
                             47 ;--------------------------------------------------------
                             48 	.area XISEG
                             49 ;--------------------------------------------------------
                             50 ; extended address mode data
                             51 ;--------------------------------------------------------
                             52 	.area XSEG
   0000                      53 _memset_PARM_2:
   0000                      54 	.ds 1
   0001                      55 _memset_PARM_3:
   0001                      56 	.ds 2
   0003                      57 _memset_buf_1_1:
   0003                      58 	.ds 2
                             59 ;--------------------------------------------------------
                             60 ; global & static initialisations
                             61 ;--------------------------------------------------------
                             62 	.area HOME (CODE)
                             63 	.area GSINIT (CODE)
                             64 	.area GSFINAL (CODE)
                             65 	.area GSINIT (CODE)
                             66 ;--------------------------------------------------------
                             67 ; Home
                             68 ;--------------------------------------------------------
                             69 	.area HOME (CODE)
                             70 	.area HOME (CODE)
                             71 ;--------------------------------------------------------
                             72 ; code
                             73 ;--------------------------------------------------------
                             74 	.area CSEG (CODE)
                             75 ;------------------------------------------------------------
                             76 ;Allocation info for local variables in function 'memset'
                             77 ;------------------------------------------------------------
                             78 ;ch                        Allocated with name '_memset_PARM_2'
                             79 ;count                     Allocated with name '_memset_PARM_3'
                             80 ;buf                       Allocated with name '_memset_buf_1_1'
                             81 ;ret                       Allocated to registers 
                             82 ;sloc0                     Allocated with name '_memset_sloc0_1_0'
                             83 ;sloc1                     Allocated with name '_memset_sloc1_1_0'
                             84 ;sloc2                     Allocated with name '_memset_sloc2_1_0'
                             85 ;------------------------------------------------------------
                             86 ;../_memset.c:36: void * memset (
                             87 ;	-----------------------------------------
                             88 ;	 function memset
                             89 ;	-----------------------------------------
   0000                      90 _memset:
   0000 C7s00r04             91 	sta	(_memset_buf_1_1 + 1)
   0003 CFs00r03             92 	stx	_memset_buf_1_1
                             93 ;../_memset.c:43: while (count--) {
   0006 C6s00r03             94 	lda	_memset_buf_1_1
   0009 B7*00                95 	sta	*_memset_sloc0_1_0
   000B C6s00r04             96 	lda	(_memset_buf_1_1 + 1)
   000E B7*01                97 	sta	*(_memset_sloc0_1_0 + 1)
   0010 C6s00r01             98 	lda	_memset_PARM_3
   0013 B7*02                99 	sta	*_memset_sloc1_1_0
   0015 C6s00r02            100 	lda	(_memset_PARM_3 + 1)
   0018 B7*03               101 	sta	*(_memset_sloc1_1_0 + 1)
   001A                     102 00101$:
   001A 4E*02*04            103 	mov	*_memset_sloc1_1_0,*_memset_sloc2_1_0
   001D 4E*03*05            104 	mov	*(_memset_sloc1_1_0 + 1),*(_memset_sloc2_1_0 + 1)
   0020 B6*03               105 	lda	*(_memset_sloc1_1_0 + 1)
   0022 A0 01               106 	sub	#0x01
   0024 B7*03               107 	sta	*(_memset_sloc1_1_0 + 1)
   0026 B6*02               108 	lda	*_memset_sloc1_1_0
   0028 A2 00               109 	sbc	#0x00
   002A B7*02               110 	sta	*_memset_sloc1_1_0
   002C B6*05               111 	lda	*(_memset_sloc2_1_0 + 1)
   002E BA*04               112 	ora	*_memset_sloc2_1_0
   0030 27 0C               113 	beq	00103$
   0032                     114 00109$:
                            115 ;../_memset.c:44: *(unsigned char *) ret = ch;
   0032 55*00               116 	ldhx	*_memset_sloc0_1_0
   0034 C6s00r00            117 	lda	_memset_PARM_2
   0037 F7                  118 	sta	,x
   0038 AF 01               119 	aix	#1
   003A 35*00               120 	sthx	*_memset_sloc0_1_0
                            121 ;../_memset.c:45: ret = ((unsigned char *) ret) + 1;
   003C 20 DC               122 	bra	00101$
   003E                     123 00103$:
                            124 ;../_memset.c:48: return buf ;
   003E CEs00r03            125 	ldx	_memset_buf_1_1
   0041 C6s00r04            126 	lda	(_memset_buf_1_1 + 1)
   0044                     127 00104$:
   0044 81                  128 	rts
                            129 	.area CSEG (CODE)
                            130 	.area CONST   (CODE)
                            131 	.area XINIT
                            132 	.area CABS    (ABS,CODE)
