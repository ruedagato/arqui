                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:32 2015
                              5 ;--------------------------------------------------------
                              6 	.module _gptrput
                              7 	.optsdcc -mmcs51 --model-small
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl __gptrput
                             13 	.globl _B_5
                             14 	.globl _B_6
                             15 	.globl _B_7
                             16 ;--------------------------------------------------------
                             17 ; special function registers
                             18 ;--------------------------------------------------------
                             19 	.area RSEG    (ABS,DATA)
   0000                      20 	.org 0x0000
                             21 ;--------------------------------------------------------
                             22 ; special function bits
                             23 ;--------------------------------------------------------
                             24 	.area RSEG    (ABS,DATA)
   0000                      25 	.org 0x0000
                    00F7     26 _B_7	=	0x00f7
                    00F6     27 _B_6	=	0x00f6
                    00F5     28 _B_5	=	0x00f5
                             29 ;--------------------------------------------------------
                             30 ; overlayable register banks
                             31 ;--------------------------------------------------------
                             32 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      33 	.ds 8
                             34 ;--------------------------------------------------------
                             35 ; internal ram data
                             36 ;--------------------------------------------------------
                             37 	.area DSEG    (DATA)
                             38 ;--------------------------------------------------------
                             39 ; overlayable items in internal ram 
                             40 ;--------------------------------------------------------
                             41 	.area OSEG    (OVR,DATA)
                             42 ;--------------------------------------------------------
                             43 ; indirectly addressable internal ram data
                             44 ;--------------------------------------------------------
                             45 	.area ISEG    (DATA)
                             46 ;--------------------------------------------------------
                             47 ; absolute internal ram data
                             48 ;--------------------------------------------------------
                             49 	.area IABS    (ABS,DATA)
                             50 	.area IABS    (ABS,DATA)
                             51 ;--------------------------------------------------------
                             52 ; bit data
                             53 ;--------------------------------------------------------
                             54 	.area BSEG    (BIT)
                             55 ;--------------------------------------------------------
                             56 ; paged external ram data
                             57 ;--------------------------------------------------------
                             58 	.area PSEG    (PAG,XDATA)
                             59 ;--------------------------------------------------------
                             60 ; external ram data
                             61 ;--------------------------------------------------------
                             62 	.area XSEG    (XDATA)
                             63 ;--------------------------------------------------------
                             64 ; absolute external ram data
                             65 ;--------------------------------------------------------
                             66 	.area XABS    (ABS,XDATA)
                             67 ;--------------------------------------------------------
                             68 ; external initialized ram data
                             69 ;--------------------------------------------------------
                             70 	.area XISEG   (XDATA)
                             71 	.area HOME    (CODE)
                             72 	.area GSINIT0 (CODE)
                             73 	.area GSINIT1 (CODE)
                             74 	.area GSINIT2 (CODE)
                             75 	.area GSINIT3 (CODE)
                             76 	.area GSINIT4 (CODE)
                             77 	.area GSINIT5 (CODE)
                             78 	.area GSINIT  (CODE)
                             79 	.area GSFINAL (CODE)
                             80 	.area CSEG    (CODE)
                             81 ;--------------------------------------------------------
                             82 ; global & static initialisations
                             83 ;--------------------------------------------------------
                             84 	.area HOME    (CODE)
                             85 	.area GSINIT  (CODE)
                             86 	.area GSFINAL (CODE)
                             87 	.area GSINIT  (CODE)
                             88 ;--------------------------------------------------------
                             89 ; Home
                             90 ;--------------------------------------------------------
                             91 	.area HOME    (CODE)
                             92 	.area HOME    (CODE)
                             93 ;--------------------------------------------------------
                             94 ; code
                             95 ;--------------------------------------------------------
                             96 	.area CSEG    (CODE)
                             97 ;------------------------------------------------------------
                             98 ;Allocation info for local variables in function '_gptrput'
                             99 ;------------------------------------------------------------
                            100 ;c                         Allocated to stack - offset -3
                            101 ;gptr                      Allocated to registers 
                            102 ;------------------------------------------------------------
                            103 ;	_gptrput.c:142: _gptrput (char *gptr, char c) __naked
                            104 ;	-----------------------------------------
                            105 ;	 function _gptrput
                            106 ;	-----------------------------------------
   0000                     107 __gptrput:
                            108 ;	naked function: no prologue.
                            109 ;	_gptrput.c:185: __endasm;
                            110 	
                            111     ;
                            112     ; depending on the pointer type according to SDCCsymt.h
                            113     ;
   0000 20 F7 10            114 	        jb _B_7,codeptr$ ; >0x80 code ; 3
   0003 30 F6 11            115 	        jnb _B_6,xdataptr$ ; <0x40 far ; 3
                            116 	
   0006 88 83               117 	        mov dph,r0 ; save r0 independant of regbank ; 2
   0008 A8 82               118 	        mov r0,dpl ; use only low order address ; 2
                            119 	
   000A 20 F5 07            120 	        jb _B_5,pdataptr$ ; >0x60 pdata ; 3
                            121     ;
                            122     ; store into near/idata space
                            123     ;
   000D F6                  124 	        mov @r0,a ; 1
   000E                     125 	 dataptrrestore$:
   000E A8 83               126 	        mov r0,dph ; restore r0 ; 2
   0010 75 83 00            127 	        mov dph,#0 ; restore dph ; 2
                            128 	
   0013                     129 	 codeptr$:
   0013 22                  130 	        ret ; 1
                            131     ;
                            132     ; store into external stack/pdata space
                            133     ;
   0014                     134 	 pdataptr$:
   0014 F2                  135 	        movx @r0,a ; 1
   0015 80 F7               136 	        sjmp dataptrrestore$ ; 2
                            137     ;
                            138     ; store into far space
                            139     ;
   0017                     140 	 xdataptr$:
   0017 F0                  141 	        movx @dptr,a ; 1
   0018 22                  142 	        ret ; 1
                            143 	
                            144                                                         ;===
                            145                                                         ;24 bytes
                            146 	    
                            147 ;	naked function: no epilogue.
                            148 	.area CSEG    (CODE)
                            149 	.area CONST   (CODE)
                            150 	.area XINIT   (CODE)
                            151 	.area CABS    (ABS,CODE)
