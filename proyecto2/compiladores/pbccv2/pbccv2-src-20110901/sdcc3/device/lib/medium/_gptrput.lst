                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:26 2015
                              5 ;--------------------------------------------------------
                              6 	.module _gptrput
                              7 	.optsdcc -mmcs51 --model-medium
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl __gptrput
                             13 	.globl _B_5
                             14 	.globl _B_6
                             15 	.globl _B_7
                             16 	.globl __gptrput_PARM_2
                             17 ;--------------------------------------------------------
                             18 ; special function registers
                             19 ;--------------------------------------------------------
                             20 	.area RSEG    (ABS,DATA)
   0000                      21 	.org 0x0000
                             22 ;--------------------------------------------------------
                             23 ; special function bits
                             24 ;--------------------------------------------------------
                             25 	.area RSEG    (ABS,DATA)
   0000                      26 	.org 0x0000
                    00F7     27 _B_7	=	0x00f7
                    00F6     28 _B_6	=	0x00f6
                    00F5     29 _B_5	=	0x00f5
                             30 ;--------------------------------------------------------
                             31 ; overlayable register banks
                             32 ;--------------------------------------------------------
                             33 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      34 	.ds 8
                             35 ;--------------------------------------------------------
                             36 ; internal ram data
                             37 ;--------------------------------------------------------
                             38 	.area DSEG    (DATA)
                             39 ;--------------------------------------------------------
                             40 ; overlayable items in internal ram 
                             41 ;--------------------------------------------------------
                             42 	.area OSEG    (OVR,DATA)
                             43 ;--------------------------------------------------------
                             44 ; indirectly addressable internal ram data
                             45 ;--------------------------------------------------------
                             46 	.area ISEG    (DATA)
                             47 ;--------------------------------------------------------
                             48 ; absolute internal ram data
                             49 ;--------------------------------------------------------
                             50 	.area IABS    (ABS,DATA)
                             51 	.area IABS    (ABS,DATA)
                             52 ;--------------------------------------------------------
                             53 ; bit data
                             54 ;--------------------------------------------------------
                             55 	.area BSEG    (BIT)
                             56 ;--------------------------------------------------------
                             57 ; paged external ram data
                             58 ;--------------------------------------------------------
                             59 	.area PSEG    (PAG,XDATA)
   0000                      60 __gptrput_PARM_2:
   0000                      61 	.ds 1
                             62 ;--------------------------------------------------------
                             63 ; external ram data
                             64 ;--------------------------------------------------------
                             65 	.area XSEG    (XDATA)
                             66 ;--------------------------------------------------------
                             67 ; absolute external ram data
                             68 ;--------------------------------------------------------
                             69 	.area XABS    (ABS,XDATA)
                             70 ;--------------------------------------------------------
                             71 ; external initialized ram data
                             72 ;--------------------------------------------------------
                             73 	.area XISEG   (XDATA)
                             74 	.area HOME    (CODE)
                             75 	.area GSINIT0 (CODE)
                             76 	.area GSINIT1 (CODE)
                             77 	.area GSINIT2 (CODE)
                             78 	.area GSINIT3 (CODE)
                             79 	.area GSINIT4 (CODE)
                             80 	.area GSINIT5 (CODE)
                             81 	.area GSINIT  (CODE)
                             82 	.area GSFINAL (CODE)
                             83 	.area CSEG    (CODE)
                             84 ;--------------------------------------------------------
                             85 ; global & static initialisations
                             86 ;--------------------------------------------------------
                             87 	.area HOME    (CODE)
                             88 	.area GSINIT  (CODE)
                             89 	.area GSFINAL (CODE)
                             90 	.area GSINIT  (CODE)
                             91 ;--------------------------------------------------------
                             92 ; Home
                             93 ;--------------------------------------------------------
                             94 	.area HOME    (CODE)
                             95 	.area HOME    (CODE)
                             96 ;--------------------------------------------------------
                             97 ; code
                             98 ;--------------------------------------------------------
                             99 	.area CSEG    (CODE)
                            100 ;------------------------------------------------------------
                            101 ;Allocation info for local variables in function '_gptrput'
                            102 ;------------------------------------------------------------
                            103 ;------------------------------------------------------------
                            104 ;	_gptrput.c:142: _gptrput (char *gptr, char c) __naked
                            105 ;	-----------------------------------------
                            106 ;	 function _gptrput
                            107 ;	-----------------------------------------
   0000                     108 __gptrput:
                            109 ;	naked function: no prologue.
                            110 ;	_gptrput.c:185: __endasm;
                            111 	
                            112     ;
                            113     ; depending on the pointer type according to SDCCsymt.h
                            114     ;
   0000 20 F7 10            115 	        jb _B_7,codeptr$ ; >0x80 code ; 3
   0003 30 F6 11            116 	        jnb _B_6,xdataptr$ ; <0x40 far ; 3
                            117 	
   0006 88 83               118 	        mov dph,r0 ; save r0 independant of regbank ; 2
   0008 A8 82               119 	        mov r0,dpl ; use only low order address ; 2
                            120 	
   000A 20 F5 07            121 	        jb _B_5,pdataptr$ ; >0x60 pdata ; 3
                            122     ;
                            123     ; store into near/idata space
                            124     ;
   000D F6                  125 	        mov @r0,a ; 1
   000E                     126 	 dataptrrestore$:
   000E A8 83               127 	        mov r0,dph ; restore r0 ; 2
   0010 75 83 00            128 	        mov dph,#0 ; restore dph ; 2
                            129 	
   0013                     130 	 codeptr$:
   0013 22                  131 	        ret ; 1
                            132     ;
                            133     ; store into external stack/pdata space
                            134     ;
   0014                     135 	 pdataptr$:
   0014 F2                  136 	        movx @r0,a ; 1
   0015 80 F7               137 	        sjmp dataptrrestore$ ; 2
                            138     ;
                            139     ; store into far space
                            140     ;
   0017                     141 	 xdataptr$:
   0017 F0                  142 	        movx @dptr,a ; 1
   0018 22                  143 	        ret ; 1
                            144 	
                            145                                                         ;===
                            146                                                         ;24 bytes
                            147 	    
                            148 ;	naked function: no epilogue.
                            149 	.area CSEG    (CODE)
                            150 	.area CONST   (CODE)
                            151 	.area XINIT   (CODE)
                            152 	.area CABS    (ABS,CODE)
