                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:17 2015
                              5 ;--------------------------------------------------------
                              6 	.module sqrtf
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _sqrtf
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../sqrtf.c:37: float sqrtf(const float x) _FLOAT_FUNC_REENTRANT
                             44 ;	---------------------------------
                             45 ; Function sqrtf
                             46 ; ---------------------------------
   0000                      47 _sqrtf_start::
   0000                      48 _sqrtf:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 21 F2 FF             52 	ld	hl,#-14
   000B 39                   53 	add	hl,sp
   000C F9                   54 	ld	sp,hl
                             55 ;../sqrtf.c:42: if (x==0.0) return x;
   000D DD 7E 04             56 	ld	a,4 (ix)
   0010 DD B6 05             57 	or	a,5 (ix)
   0013 DD B6 06             58 	or	a,6 (ix)
   0016 DD B6 07             59 	or	a,7 (ix)
   0019 20 0F                60 	jr	NZ,00107$
   001B DD 6E 04             61 	ld	l,4 (ix)
   001E DD 66 05             62 	ld	h,5 (ix)
   0021 DD 5E 06             63 	ld	e,6 (ix)
   0024 DD 56 07             64 	ld	d,7 (ix)
   0027 C3rFDs01             65 	jp	00111$
   002A                      66 00107$:
                             67 ;../sqrtf.c:43: else if (x==1.0) return 1.0;
   002A 21 80 3F             68 	ld	hl,#0x3F80
   002D E5                   69 	push	hl
   002E 21 00 00             70 	ld	hl,#0x0000
   0031 E5                   71 	push	hl
   0032 DD 6E 06             72 	ld	l,6 (ix)
   0035 DD 66 07             73 	ld	h,7 (ix)
   0038 E5                   74 	push	hl
   0039 DD 6E 04             75 	ld	l,4 (ix)
   003C DD 66 05             76 	ld	h,5 (ix)
   003F E5                   77 	push	hl
   0040 CDr00s00             78 	call	___fseq
   0043 F1                   79 	pop	af
   0044 F1                   80 	pop	af
   0045 F1                   81 	pop	af
   0046 F1                   82 	pop	af
   0047 AF                   83 	xor	a,a
   0048 B5                   84 	or	a,l
   0049 28 09                85 	jr	Z,00104$
   004B 21 00 00             86 	ld	hl,#0x0000
   004E 11 80 3F             87 	ld	de,#0x3F80
   0051 C3rFDs01             88 	jp	00111$
   0054                      89 00104$:
                             90 ;../sqrtf.c:44: else if (x<0.0)
   0054 21 00 00             91 	ld	hl,#0x0000
   0057 E5                   92 	push	hl
   0058 21 00 00             93 	ld	hl,#0x0000
   005B E5                   94 	push	hl
   005C DD 6E 06             95 	ld	l,6 (ix)
   005F DD 66 07             96 	ld	h,7 (ix)
   0062 E5                   97 	push	hl
   0063 DD 6E 04             98 	ld	l,4 (ix)
   0066 DD 66 05             99 	ld	h,5 (ix)
   0069 E5                  100 	push	hl
   006A CDr00s00            101 	call	___fslt
   006D F1                  102 	pop	af
   006E F1                  103 	pop	af
   006F F1                  104 	pop	af
   0070 F1                  105 	pop	af
   0071 AF                  106 	xor	a,a
   0072 B5                  107 	or	a,l
   0073 28 14               108 	jr	Z,00108$
                            109 ;../sqrtf.c:46: errno=EDOM;
   0075 FD 21r00s00         110 	ld	iy,#_errno
   0079 FD 36 00 21         111 	ld	0 (iy),#0x21
   007D FD 36 01 00         112 	ld	1 (iy),#0x00
                            113 ;../sqrtf.c:47: return 0.0;
   0081 21 00 00            114 	ld	hl,#0x0000
   0084 5D                  115 	ld	e,l
   0085 54                  116 	ld	d,h
   0086 C3rFDs01            117 	jp	00111$
   0089                     118 00108$:
                            119 ;../sqrtf.c:49: f=frexpf(x, &n);
   0089 21 04 00            120 	ld	hl,#0x0004
   008C 39                  121 	add	hl,sp
   008D E5                  122 	push	hl
   008E DD 6E 06            123 	ld	l,6 (ix)
   0091 DD 66 07            124 	ld	h,7 (ix)
   0094 E5                  125 	push	hl
   0095 DD 6E 04            126 	ld	l,4 (ix)
   0098 DD 66 05            127 	ld	h,5 (ix)
   009B E5                  128 	push	hl
   009C CDr00s00            129 	call	_frexpf
   009F F1                  130 	pop	af
   00A0 F1                  131 	pop	af
   00A1 F1                  132 	pop	af
   00A2 DD 75 FC            133 	ld	-4 (ix), l
   00A5 DD 74 FD            134 	ld	-3 (ix), h
   00A8 DD 73 FE            135 	ld	-2 (ix),e
   00AB DD 72 FF            136 	ld	-1 (ix),d
                            137 ;../sqrtf.c:50: y=0.41731+0.59016*f; /*Educated guess*/
   00AE DD 6E FE            138 	ld	l,-2 (ix)
   00B1 DD 66 FF            139 	ld	h,-1 (ix)
   00B4 E5                  140 	push	hl
   00B5 DD 6E FC            141 	ld	l,-4 (ix)
   00B8 DD 66 FD            142 	ld	h,-3 (ix)
   00BB E5                  143 	push	hl
   00BC 21 17 3F            144 	ld	hl,#0x3F17
   00BF E5                  145 	push	hl
   00C0 21 BA 14            146 	ld	hl,#0x14BA
   00C3 E5                  147 	push	hl
   00C4 CDr00s00            148 	call	___fsmul
   00C7 F1                  149 	pop	af
   00C8 F1                  150 	pop	af
   00C9 F1                  151 	pop	af
   00CA F1                  152 	pop	af
   00CB 44                  153 	ld	b,h
   00CC 4D                  154 	ld	c,l
   00CD 21 D5 3E            155 	ld	hl,#0x3ED5
   00D0 E5                  156 	push	hl
   00D1 21 A8 A9            157 	ld	hl,#0xA9A8
   00D4 E5                  158 	push	hl
   00D5 D5                  159 	push	de
   00D6 C5                  160 	push	bc
   00D7 CDr00s00            161 	call	___fsadd
   00DA F1                  162 	pop	af
   00DB F1                  163 	pop	af
   00DC F1                  164 	pop	af
   00DD F1                  165 	pop	af
   00DE DD 75 F8            166 	ld	-8 (ix), l
   00E1 DD 74 F9            167 	ld	-7 (ix), h
   00E4 DD 73 FA            168 	ld	-6 (ix),e
   00E7 DD 72 FB            169 	ld	-5 (ix),d
                            170 ;../sqrtf.c:52: y+=f/y;
   00EA DD 6E FA            171 	ld	l,-6 (ix)
   00ED DD 66 FB            172 	ld	h,-5 (ix)
   00F0 E5                  173 	push	hl
   00F1 DD 6E F8            174 	ld	l,-8 (ix)
   00F4 DD 66 F9            175 	ld	h,-7 (ix)
   00F7 E5                  176 	push	hl
   00F8 DD 6E FE            177 	ld	l,-2 (ix)
   00FB DD 66 FF            178 	ld	h,-1 (ix)
   00FE E5                  179 	push	hl
   00FF DD 6E FC            180 	ld	l,-4 (ix)
   0102 DD 66 FD            181 	ld	h,-3 (ix)
   0105 E5                  182 	push	hl
   0106 CDr00s00            183 	call	___fsdiv
   0109 F1                  184 	pop	af
   010A F1                  185 	pop	af
   010B F1                  186 	pop	af
   010C F1                  187 	pop	af
   010D 44                  188 	ld	b,h
   010E 4D                  189 	ld	c,l
   010F D5                  190 	push	de
   0110 C5                  191 	push	bc
   0111 DD 6E FA            192 	ld	l,-6 (ix)
   0114 DD 66 FB            193 	ld	h,-5 (ix)
   0117 E5                  194 	push	hl
   0118 DD 6E F8            195 	ld	l,-8 (ix)
   011B DD 66 F9            196 	ld	h,-7 (ix)
   011E E5                  197 	push	hl
   011F CDr00s00            198 	call	___fsadd
   0122 F1                  199 	pop	af
   0123 F1                  200 	pop	af
   0124 F1                  201 	pop	af
   0125 F1                  202 	pop	af
   0126 DD 75 F8            203 	ld	-8 (ix), l
   0129 DD 74 F9            204 	ld	-7 (ix), h
   012C DD 73 FA            205 	ld	-6 (ix),e
   012F DD 72 FB            206 	ld	-5 (ix),d
                            207 ;../sqrtf.c:53: y=ldexpf(y, -2) + f/y; /*Faster version of 0.25 * y + f/y*/
   0132 21 FE FF            208 	ld	hl,#0xFFFFFFFE
   0135 E5                  209 	push	hl
   0136 DD 6E FA            210 	ld	l,-6 (ix)
   0139 DD 66 FB            211 	ld	h,-5 (ix)
   013C E5                  212 	push	hl
   013D DD 6E F8            213 	ld	l,-8 (ix)
   0140 DD 66 F9            214 	ld	h,-7 (ix)
   0143 E5                  215 	push	hl
   0144 CDr00s00            216 	call	_ldexpf
   0147 F1                  217 	pop	af
   0148 F1                  218 	pop	af
   0149 F1                  219 	pop	af
   014A DD 72 F5            220 	ld	-11 (ix),d
   014D DD 73 F4            221 	ld	-12 (ix),e
   0150 DD 74 F3            222 	ld	-13 (ix),h
   0153 DD 75 F2            223 	ld	-14 (ix),l
   0156 DD 6E FA            224 	ld	l,-6 (ix)
   0159 DD 66 FB            225 	ld	h,-5 (ix)
   015C E5                  226 	push	hl
   015D DD 6E F8            227 	ld	l,-8 (ix)
   0160 DD 66 F9            228 	ld	h,-7 (ix)
   0163 E5                  229 	push	hl
   0164 DD 6E FE            230 	ld	l,-2 (ix)
   0167 DD 66 FF            231 	ld	h,-1 (ix)
   016A E5                  232 	push	hl
   016B DD 6E FC            233 	ld	l,-4 (ix)
   016E DD 66 FD            234 	ld	h,-3 (ix)
   0171 E5                  235 	push	hl
   0172 CDr00s00            236 	call	___fsdiv
   0175 F1                  237 	pop	af
   0176 F1                  238 	pop	af
   0177 F1                  239 	pop	af
   0178 F1                  240 	pop	af
   0179 44                  241 	ld	b,h
   017A 4D                  242 	ld	c,l
   017B D5                  243 	push	de
   017C C5                  244 	push	bc
   017D DD 6E F4            245 	ld	l,-12 (ix)
   0180 DD 66 F5            246 	ld	h,-11 (ix)
   0183 E5                  247 	push	hl
   0184 DD 6E F2            248 	ld	l,-14 (ix)
   0187 DD 66 F3            249 	ld	h,-13 (ix)
   018A E5                  250 	push	hl
   018B CDr00s00            251 	call	___fsadd
   018E F1                  252 	pop	af
   018F F1                  253 	pop	af
   0190 F1                  254 	pop	af
   0191 F1                  255 	pop	af
   0192 DD 75 F8            256 	ld	-8 (ix), l
   0195 DD 74 F9            257 	ld	-7 (ix), h
   0198 DD 73 FA            258 	ld	-6 (ix),e
   019B DD 72 FB            259 	ld	-5 (ix),d
                            260 ;../sqrtf.c:55: if (n&1)
   019E DD 7E F6            261 	ld	a,-10 (ix)
   01A1 E6 01               262 	and	a,#0x01
   01A3 28 31               263 	jr	Z,00110$
                            264 ;../sqrtf.c:57: y*=0.7071067812;
   01A5 DD 6E FA            265 	ld	l,-6 (ix)
   01A8 DD 66 FB            266 	ld	h,-5 (ix)
   01AB E5                  267 	push	hl
   01AC DD 6E F8            268 	ld	l,-8 (ix)
   01AF DD 66 F9            269 	ld	h,-7 (ix)
   01B2 E5                  270 	push	hl
   01B3 21 35 3F            271 	ld	hl,#0x3F35
   01B6 E5                  272 	push	hl
   01B7 21 F3 04            273 	ld	hl,#0x04F3
   01BA E5                  274 	push	hl
   01BB CDr00s00            275 	call	___fsmul
   01BE F1                  276 	pop	af
   01BF F1                  277 	pop	af
   01C0 F1                  278 	pop	af
   01C1 F1                  279 	pop	af
   01C2 DD 75 F8            280 	ld	-8 (ix), l
   01C5 DD 74 F9            281 	ld	-7 (ix), h
   01C8 DD 73 FA            282 	ld	-6 (ix),e
   01CB DD 72 FB            283 	ld	-5 (ix),d
                            284 ;../sqrtf.c:58: ++n;
   01CE DD 34 F6            285 	inc	-10 (ix)
   01D1 20 03               286 	jr	NZ,00118$
   01D3 DD 34 F7            287 	inc	-9 (ix)
   01D6                     288 00118$:
   01D6                     289 00110$:
                            290 ;../sqrtf.c:60: return ldexpf(y, n/2);
   01D6 21 02 00            291 	ld	hl,#0x0002
   01D9 E5                  292 	push	hl
   01DA DD 6E F6            293 	ld	l,-10 (ix)
   01DD DD 66 F7            294 	ld	h,-9 (ix)
   01E0 E5                  295 	push	hl
   01E1 CDr00s00            296 	call	__divsint_rrx_s
   01E4 F1                  297 	pop	af
   01E5 F1                  298 	pop	af
   01E6 44                  299 	ld	b,h
   01E7 4D                  300 	ld	c,l
   01E8 C5                  301 	push	bc
   01E9 DD 6E FA            302 	ld	l,-6 (ix)
   01EC DD 66 FB            303 	ld	h,-5 (ix)
   01EF E5                  304 	push	hl
   01F0 DD 6E F8            305 	ld	l,-8 (ix)
   01F3 DD 66 F9            306 	ld	h,-7 (ix)
   01F6 E5                  307 	push	hl
   01F7 CDr00s00            308 	call	_ldexpf
   01FA F1                  309 	pop	af
   01FB F1                  310 	pop	af
   01FC F1                  311 	pop	af
   01FD                     312 00111$:
   01FD DD F9               313 	ld	sp,ix
   01FF DD E1               314 	pop	ix
   0201 C9                  315 	ret
   0202                     316 _sqrtf_end::
                            317 	.area _CODE
                            318 	.area _CABS
