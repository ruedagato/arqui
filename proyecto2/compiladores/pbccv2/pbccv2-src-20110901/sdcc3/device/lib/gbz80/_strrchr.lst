                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:20 2015
                              5 ;--------------------------------------------------------
                              6 	.module _strrchr
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _strrchr
                             13 ;--------------------------------------------------------
                             14 ;  ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; overlayable items in  ram 
                             19 ;--------------------------------------------------------
                             20 	.area _OVERLAY
                             21 ;--------------------------------------------------------
                             22 ; external initialized ram data
                             23 ;--------------------------------------------------------
                             24 ;--------------------------------------------------------
                             25 ; global & static initialisations
                             26 ;--------------------------------------------------------
                             27 	.area _HOME
                             28 	.area _GSINIT
                             29 	.area _GSFINAL
                             30 	.area _GSINIT
                             31 ;--------------------------------------------------------
                             32 ; Home
                             33 ;--------------------------------------------------------
                             34 	.area _HOME
                             35 	.area _HOME
                             36 ;--------------------------------------------------------
                             37 ; code
                             38 ;--------------------------------------------------------
                             39 	.area _CODE
                             40 ;../_strrchr.c:31: char * strrchr (
                             41 ;	---------------------------------
                             42 ; Function strrchr
                             43 ; ---------------------------------
   0000                      44 _strrchr_start::
   0000                      45 _strrchr:
                             46 	
   0000 F5                   47 	push	af
   0001 F5                   48 	push	af
                             49 ;../_strrchr.c:36: const char * start = string;
   0002 F8 06                50 	ldhl	sp,#6
   0004 7E                   51 	ld	a,(hl)
   0005 23                   52 	inc	hl
   0006 5E                   53 	ld	e,(hl)
   0007 F8 02                54 	ldhl	sp,#2
   0009 77                   55 	ld	(hl),a
   000A 23                   56 	inc	hl
   000B 73                   57 	ld	(hl),e
                             58 ;../_strrchr.c:38: while (*string++)                       /* find end of string */
   000C 2B                   59 	dec	hl
   000D 4E                   60 	ld	c,(hl)
   000E 23                   61 	inc	hl
   000F 46                   62 	ld	b,(hl)
   0010                      63 00101$:
   0010 0A                   64 	ld	a,(bc)
   0011 03                   65 	inc	bc
   0012 B7                   66 	or	a,a
   0013 C2r10s00             67 	jp	NZ,00101$
                             68 ;../_strrchr.c:41: while (--string != start && *string != ch)
   0016 F8 00                69 	ldhl	sp,#0
   0018 71                   70 	ld	(hl),c
   0019 23                   71 	inc	hl
   001A 70                   72 	ld	(hl),b
   001B                      73 00105$:
   001B F8 01                74 	ldhl	sp,#1
   001D 2B                   75 	dec	hl
   001E 5E                   76 	ld	e,(hl)
   001F 23                   77 	inc	hl
   0020 56                   78 	ld	d,(hl)
   0021 1B                   79 	dec	de
   0022 2B                   80 	dec	hl
   0023 73                   81 	ld	(hl),e
   0024 23                   82 	inc	hl
   0025 72                   83 	ld	(hl),d
   0026 2B                   84 	dec	hl
   0027 7E                   85 	ld	a,(hl)
   0028 23                   86 	inc	hl
   0029 23                   87 	inc	hl
   002A 96                   88 	sub	a,(hl)
   002B C2r36s00             89 	jp	NZ,00118$
   002E 2B                   90 	dec	hl
   002F 7E                   91 	ld	a,(hl)
   0030 23                   92 	inc	hl
   0031 23                   93 	inc	hl
   0032 96                   94 	sub	a,(hl)
   0033 CAr46s00             95 	jp	Z,00107$
   0036                      96 00118$:
   0036 2B                   97 	dec	hl
   0037 2B                   98 	dec	hl
   0038 2B                   99 	dec	hl
   0039 5E                  100 	ld	e,(hl)
   003A 23                  101 	inc	hl
   003B 56                  102 	ld	d,(hl)
   003C 1A                  103 	ld	a,(de)
   003D 4F                  104 	ld	c,a
   003E F8 08               105 	ldhl	sp,#8
   0040 96                  106 	sub	a,(hl)
   0041 CAr46s00            107 	jp	Z,00120$
   0044                     108 00119$:
   0044 18 D5               109 	jr	00105$
   0046                     110 00120$:
   0046                     111 00107$:
                            112 ;../_strrchr.c:44: if (*string == ch)                /* char found ? */
   0046 F8 01               113 	ldhl	sp,#1
   0048 2B                  114 	dec	hl
   0049 5E                  115 	ld	e,(hl)
   004A 23                  116 	inc	hl
   004B 56                  117 	ld	d,(hl)
   004C 1A                  118 	ld	a,(de)
   004D 4F                  119 	ld	c,a
   004E F8 08               120 	ldhl	sp,#8
   0050 96                  121 	sub	a,(hl)
   0051 CAr56s00            122 	jp	Z,00122$
   0054                     123 00121$:
   0054 18 08               124 	jr	00109$
   0056                     125 00122$:
                            126 ;../_strrchr.c:45: return( (char *)string );
   0056 F8 01               127 	ldhl	sp,#1
   0058 2B                  128 	dec	hl
   0059 5E                  129 	ld	e,(hl)
   005A 23                  130 	inc	hl
   005B 56                  131 	ld	d,(hl)
   005C 18 03               132 	jr	00110$
   005E                     133 00109$:
                            134 ;../_strrchr.c:47: return (NULL) ;
   005E 11 00 00            135 	ld	de,#0x0000
   0061                     136 00110$:
   0061 E8 04               137 	lda	sp,4(sp)
   0063 C9                  138 	ret
   0064                     139 _strrchr_end::
                            140 	.area _CODE
                            141 	.area _CABS
