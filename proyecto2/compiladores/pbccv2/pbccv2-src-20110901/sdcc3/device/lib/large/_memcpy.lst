                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:29 2015
                              5 ;--------------------------------------------------------
                              6 	.module _memcpy
                              7 	.optsdcc -mmcs51 --model-large
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _memcpy_PARM_3
                             13 	.globl _memcpy_PARM_2
                             14 	.globl _memcpy
                             15 ;--------------------------------------------------------
                             16 ; special function registers
                             17 ;--------------------------------------------------------
                             18 	.area RSEG    (ABS,DATA)
   0000                      19 	.org 0x0000
                             20 ;--------------------------------------------------------
                             21 ; special function bits
                             22 ;--------------------------------------------------------
                             23 	.area RSEG    (ABS,DATA)
   0000                      24 	.org 0x0000
                             25 ;--------------------------------------------------------
                             26 ; overlayable register banks
                             27 ;--------------------------------------------------------
                             28 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      29 	.ds 8
                             30 ;--------------------------------------------------------
                             31 ; internal ram data
                             32 ;--------------------------------------------------------
                             33 	.area DSEG    (DATA)
                             34 ;--------------------------------------------------------
                             35 ; overlayable items in internal ram 
                             36 ;--------------------------------------------------------
                             37 	.area	OSEG    (OVR,DATA)
   0000                      38 _memcpy_sloc0_1_0::
   0000                      39 	.ds 3
   0003                      40 _memcpy_sloc1_1_0::
   0003                      41 	.ds 3
                             42 ;--------------------------------------------------------
                             43 ; indirectly addressable internal ram data
                             44 ;--------------------------------------------------------
                             45 	.area ISEG    (DATA)
                             46 ;--------------------------------------------------------
                             47 ; absolute internal ram data
                             48 ;--------------------------------------------------------
                             49 	.area IABS    (ABS,DATA)
                             50 	.area IABS    (ABS,DATA)
                             51 ;--------------------------------------------------------
                             52 ; bit data
                             53 ;--------------------------------------------------------
                             54 	.area BSEG    (BIT)
                             55 ;--------------------------------------------------------
                             56 ; paged external ram data
                             57 ;--------------------------------------------------------
                             58 	.area PSEG    (PAG,XDATA)
                             59 ;--------------------------------------------------------
                             60 ; external ram data
                             61 ;--------------------------------------------------------
                             62 	.area XSEG    (XDATA)
   0000                      63 _memcpy_PARM_2:
   0000                      64 	.ds 3
   0003                      65 _memcpy_PARM_3:
   0003                      66 	.ds 2
   0005                      67 _memcpy_dst_1_1:
   0005                      68 	.ds 3
                             69 ;--------------------------------------------------------
                             70 ; absolute external ram data
                             71 ;--------------------------------------------------------
                             72 	.area XABS    (ABS,XDATA)
                             73 ;--------------------------------------------------------
                             74 ; external initialized ram data
                             75 ;--------------------------------------------------------
                             76 	.area XISEG   (XDATA)
                             77 	.area HOME    (CODE)
                             78 	.area GSINIT0 (CODE)
                             79 	.area GSINIT1 (CODE)
                             80 	.area GSINIT2 (CODE)
                             81 	.area GSINIT3 (CODE)
                             82 	.area GSINIT4 (CODE)
                             83 	.area GSINIT5 (CODE)
                             84 	.area GSINIT  (CODE)
                             85 	.area GSFINAL (CODE)
                             86 	.area CSEG    (CODE)
                             87 ;--------------------------------------------------------
                             88 ; global & static initialisations
                             89 ;--------------------------------------------------------
                             90 	.area HOME    (CODE)
                             91 	.area GSINIT  (CODE)
                             92 	.area GSFINAL (CODE)
                             93 	.area GSINIT  (CODE)
                             94 ;--------------------------------------------------------
                             95 ; Home
                             96 ;--------------------------------------------------------
                             97 	.area HOME    (CODE)
                             98 	.area HOME    (CODE)
                             99 ;--------------------------------------------------------
                            100 ; code
                            101 ;--------------------------------------------------------
                            102 	.area CSEG    (CODE)
                            103 ;------------------------------------------------------------
                            104 ;Allocation info for local variables in function 'memcpy'
                            105 ;------------------------------------------------------------
                            106 ;src                       Allocated with name '_memcpy_PARM_2'
                            107 ;acount                    Allocated with name '_memcpy_PARM_3'
                            108 ;dst                       Allocated with name '_memcpy_dst_1_1'
                            109 ;ret                       Allocated with name '_memcpy_ret_1_1'
                            110 ;d                         Allocated with name '_memcpy_d_1_1'
                            111 ;s                         Allocated with name '_memcpy_s_1_1'
                            112 ;sloc0                     Allocated with name '_memcpy_sloc0_1_0'
                            113 ;sloc1                     Allocated with name '_memcpy_sloc1_1_0'
                            114 ;------------------------------------------------------------
                            115 ;	_memcpy.c:36: void * memcpy (
                            116 ;	-----------------------------------------
                            117 ;	 function memcpy
                            118 ;	-----------------------------------------
   0000                     119 _memcpy:
                    0002    120 	ar2 = 0x02
                    0003    121 	ar3 = 0x03
                    0004    122 	ar4 = 0x04
                    0005    123 	ar5 = 0x05
                    0006    124 	ar6 = 0x06
                    0007    125 	ar7 = 0x07
                    0000    126 	ar0 = 0x00
                    0001    127 	ar1 = 0x01
   0000 AA F0               128 	mov	r2,b
   0002 AB 83               129 	mov	r3,dph
   0004 E5 82               130 	mov	a,dpl
   0006 90s00r05            131 	mov	dptr,#_memcpy_dst_1_1
   0009 F0                  132 	movx	@dptr,a
   000A A3                  133 	inc	dptr
   000B EB                  134 	mov	a,r3
   000C F0                  135 	movx	@dptr,a
   000D A3                  136 	inc	dptr
   000E EA                  137 	mov	a,r2
   000F F0                  138 	movx	@dptr,a
                            139 ;	_memcpy.c:42: void * ret = dst;
   0010 90s00r05            140 	mov	dptr,#_memcpy_dst_1_1
   0013 E0                  141 	movx	a,@dptr
   0014 F5*03               142 	mov	_memcpy_sloc1_1_0,a
   0016 A3                  143 	inc	dptr
   0017 E0                  144 	movx	a,@dptr
   0018 F5*04               145 	mov	(_memcpy_sloc1_1_0 + 1),a
   001A A3                  146 	inc	dptr
   001B E0                  147 	movx	a,@dptr
   001C F5*05               148 	mov	(_memcpy_sloc1_1_0 + 2),a
                            149 ;	_memcpy.c:44: char * s = src;
   001E 90s00r00            150 	mov	dptr,#_memcpy_PARM_2
   0021 E0                  151 	movx	a,@dptr
   0022 FD                  152 	mov	r5,a
   0023 A3                  153 	inc	dptr
   0024 E0                  154 	movx	a,@dptr
   0025 FE                  155 	mov	r6,a
   0026 A3                  156 	inc	dptr
   0027 E0                  157 	movx	a,@dptr
   0028 FF                  158 	mov	r7,a
                            159 ;	_memcpy.c:49: while (acount--) {
   0029 85*03*00            160 	mov	_memcpy_sloc0_1_0,_memcpy_sloc1_1_0
   002C 85*04*01            161 	mov	(_memcpy_sloc0_1_0 + 1),(_memcpy_sloc1_1_0 + 1)
   002F 85*05*02            162 	mov	(_memcpy_sloc0_1_0 + 2),(_memcpy_sloc1_1_0 + 2)
   0032 90s00r03            163 	mov	dptr,#_memcpy_PARM_3
   0035 E0                  164 	movx	a,@dptr
   0036 F8                  165 	mov	r0,a
   0037 A3                  166 	inc	dptr
   0038 E0                  167 	movx	a,@dptr
   0039 F9                  168 	mov	r1,a
   003A                     169 00101$:
   003A 88 02               170 	mov	ar2,r0
   003C 89 03               171 	mov	ar3,r1
   003E 18                  172 	dec	r0
   003F B8 FF 01            173 	cjne	r0,#0xff,00109$
   0042 19                  174 	dec	r1
   0043                     175 00109$:
   0043 EA                  176 	mov	a,r2
   0044 4B                  177 	orl	a,r3
   0045 60 25               178 	jz	00103$
                            179 ;	_memcpy.c:50: *d++ = *s++;
   0047 8D 82               180 	mov	dpl,r5
   0049 8E 83               181 	mov	dph,r6
   004B 8F F0               182 	mov	b,r7
   004D 12s00r00            183 	lcall	__gptrget
   0050 FA                  184 	mov	r2,a
   0051 A3                  185 	inc	dptr
   0052 AD 82               186 	mov	r5,dpl
   0054 AE 83               187 	mov	r6,dph
   0056 85*00 82            188 	mov	dpl,_memcpy_sloc0_1_0
   0059 85*01 83            189 	mov	dph,(_memcpy_sloc0_1_0 + 1)
   005C 85*02 F0            190 	mov	b,(_memcpy_sloc0_1_0 + 2)
   005F EA                  191 	mov	a,r2
   0060 12s00r00            192 	lcall	__gptrput
   0063 A3                  193 	inc	dptr
   0064 85 82*00            194 	mov	_memcpy_sloc0_1_0,dpl
   0067 85 83*01            195 	mov	(_memcpy_sloc0_1_0 + 1),dph
   006A 80 CE               196 	sjmp	00101$
   006C                     197 00103$:
                            198 ;	_memcpy.c:53: return(ret);
   006C 85*03 82            199 	mov	dpl,_memcpy_sloc1_1_0
   006F 85*04 83            200 	mov	dph,(_memcpy_sloc1_1_0 + 1)
   0072 85*05 F0            201 	mov	b,(_memcpy_sloc1_1_0 + 2)
   0075 22                  202 	ret
                            203 	.area CSEG    (CODE)
                            204 	.area CONST   (CODE)
                            205 	.area XINIT   (CODE)
                            206 	.area CABS    (ABS,CODE)
