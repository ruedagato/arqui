                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:26 2015
                              5 ;--------------------------------------------------------
                              6 	.module _ltoa
                              7 	.optsdcc -mmcs51 --model-medium
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl __ltoa
                             13 	.globl __ultoa
                             14 	.globl __ltoa_PARM_3
                             15 	.globl __ltoa_PARM_2
                             16 	.globl __ultoa_PARM_3
                             17 	.globl __ultoa_PARM_2
                             18 ;--------------------------------------------------------
                             19 ; special function registers
                             20 ;--------------------------------------------------------
                             21 	.area RSEG    (ABS,DATA)
   0000                      22 	.org 0x0000
                             23 ;--------------------------------------------------------
                             24 ; special function bits
                             25 ;--------------------------------------------------------
                             26 	.area RSEG    (ABS,DATA)
   0000                      27 	.org 0x0000
                             28 ;--------------------------------------------------------
                             29 ; overlayable register banks
                             30 ;--------------------------------------------------------
                             31 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      32 	.ds 8
                             33 ;--------------------------------------------------------
                             34 ; internal ram data
                             35 ;--------------------------------------------------------
                             36 	.area DSEG    (DATA)
   0000                      37 __ultoa_sloc0_1_0:
   0000                      38 	.ds 4
                             39 ;--------------------------------------------------------
                             40 ; overlayable items in internal ram 
                             41 ;--------------------------------------------------------
                             42 	.area OSEG    (OVR,DATA)
                             43 ;--------------------------------------------------------
                             44 ; indirectly addressable internal ram data
                             45 ;--------------------------------------------------------
                             46 	.area ISEG    (DATA)
                             47 ;--------------------------------------------------------
                             48 ; absolute internal ram data
                             49 ;--------------------------------------------------------
                             50 	.area IABS    (ABS,DATA)
                             51 	.area IABS    (ABS,DATA)
                             52 ;--------------------------------------------------------
                             53 ; bit data
                             54 ;--------------------------------------------------------
                             55 	.area BSEG    (BIT)
                             56 ;--------------------------------------------------------
                             57 ; paged external ram data
                             58 ;--------------------------------------------------------
                             59 	.area PSEG    (PAG,XDATA)
   0000                      60 __ultoa_PARM_2:
   0000                      61 	.ds 3
   0003                      62 __ultoa_PARM_3:
   0003                      63 	.ds 1
   0004                      64 __ultoa_value_1_1:
   0004                      65 	.ds 4
   0008                      66 __ultoa_buffer_1_1:
   0008                      67 	.ds 32
   0028                      68 __ltoa_PARM_2:
   0028                      69 	.ds 3
   002B                      70 __ltoa_PARM_3:
   002B                      71 	.ds 1
   002C                      72 __ltoa_value_1_1:
   002C                      73 	.ds 4
                             74 ;--------------------------------------------------------
                             75 ; external ram data
                             76 ;--------------------------------------------------------
                             77 	.area XSEG    (XDATA)
                             78 ;--------------------------------------------------------
                             79 ; absolute external ram data
                             80 ;--------------------------------------------------------
                             81 	.area XABS    (ABS,XDATA)
                             82 ;--------------------------------------------------------
                             83 ; external initialized ram data
                             84 ;--------------------------------------------------------
                             85 	.area XISEG   (XDATA)
                             86 	.area HOME    (CODE)
                             87 	.area GSINIT0 (CODE)
                             88 	.area GSINIT1 (CODE)
                             89 	.area GSINIT2 (CODE)
                             90 	.area GSINIT3 (CODE)
                             91 	.area GSINIT4 (CODE)
                             92 	.area GSINIT5 (CODE)
                             93 	.area GSINIT  (CODE)
                             94 	.area GSFINAL (CODE)
                             95 	.area CSEG    (CODE)
                             96 ;--------------------------------------------------------
                             97 ; global & static initialisations
                             98 ;--------------------------------------------------------
                             99 	.area HOME    (CODE)
                            100 	.area GSINIT  (CODE)
                            101 	.area GSFINAL (CODE)
                            102 	.area GSINIT  (CODE)
                            103 ;--------------------------------------------------------
                            104 ; Home
                            105 ;--------------------------------------------------------
                            106 	.area HOME    (CODE)
                            107 	.area HOME    (CODE)
                            108 ;--------------------------------------------------------
                            109 ; code
                            110 ;--------------------------------------------------------
                            111 	.area CSEG    (CODE)
                            112 ;------------------------------------------------------------
                            113 ;Allocation info for local variables in function '_ultoa'
                            114 ;------------------------------------------------------------
                            115 ;sloc0                     Allocated with name '__ultoa_sloc0_1_0'
                            116 ;------------------------------------------------------------
                            117 ;	_ltoa.c:56: void _ultoa(unsigned long value, char* string, unsigned char radix)
                            118 ;	-----------------------------------------
                            119 ;	 function _ultoa
                            120 ;	-----------------------------------------
   0000                     121 __ultoa:
                    0002    122 	ar2 = 0x02
                    0003    123 	ar3 = 0x03
                    0004    124 	ar4 = 0x04
                    0005    125 	ar5 = 0x05
                    0006    126 	ar6 = 0x06
                    0007    127 	ar7 = 0x07
                    0000    128 	ar0 = 0x00
                    0001    129 	ar1 = 0x01
   0000 AA 82               130 	mov	r2,dpl
   0002 AB 83               131 	mov	r3,dph
   0004 AC F0               132 	mov	r4,b
   0006 FD                  133 	mov	r5,a
   0007 78r04               134 	mov	r0,#__ultoa_value_1_1
   0009 EA                  135 	mov	a,r2
   000A F2                  136 	movx	@r0,a
   000B 08                  137 	inc	r0
   000C EB                  138 	mov	a,r3
   000D F2                  139 	movx	@r0,a
   000E 08                  140 	inc	r0
   000F EC                  141 	mov	a,r4
   0010 F2                  142 	movx	@r0,a
   0011 08                  143 	inc	r0
   0012 ED                  144 	mov	a,r5
   0013 F2                  145 	movx	@r0,a
                            146 ;	_ltoa.c:61: do {
   0014 7E 20               147 	mov	r6,#0x20
   0016                     148 00103$:
                            149 ;	_ltoa.c:62: unsigned char c = '0' + (value % radix);
   0016 78r03               150 	mov	r0,#__ultoa_PARM_3
   0018 E2                  151 	movx	a,@r0
   0019 F5*00               152 	mov	__ultoa_sloc0_1_0,a
   001B 75*01 00            153 	mov	(__ultoa_sloc0_1_0 + 1),#0x00
   001E 75*02 00            154 	mov	(__ultoa_sloc0_1_0 + 2),#0x00
   0021 75*03 00            155 	mov	(__ultoa_sloc0_1_0 + 3),#0x00
   0024 78r00               156 	mov	r0,#__modulong_PARM_2
   0026 E5*00               157 	mov	a,__ultoa_sloc0_1_0
   0028 F2                  158 	movx	@r0,a
   0029 08                  159 	inc	r0
   002A E5*01               160 	mov	a,(__ultoa_sloc0_1_0 + 1)
   002C F2                  161 	movx	@r0,a
   002D 08                  162 	inc	r0
   002E E5*02               163 	mov	a,(__ultoa_sloc0_1_0 + 2)
   0030 F2                  164 	movx	@r0,a
   0031 08                  165 	inc	r0
   0032 E5*03               166 	mov	a,(__ultoa_sloc0_1_0 + 3)
   0034 F2                  167 	movx	@r0,a
   0035 78r04               168 	mov	r0,#__ultoa_value_1_1
   0037 E2                  169 	movx	a,@r0
   0038 F5 82               170 	mov	dpl,a
   003A 08                  171 	inc	r0
   003B E2                  172 	movx	a,@r0
   003C F5 83               173 	mov	dph,a
   003E 08                  174 	inc	r0
   003F E2                  175 	movx	a,@r0
   0040 F5 F0               176 	mov	b,a
   0042 08                  177 	inc	r0
   0043 E2                  178 	movx	a,@r0
   0044 C0 06               179 	push	ar6
   0046 12s00r00            180 	lcall	__modulong
   0049 AC 82               181 	mov	r4,dpl
   004B AD 83               182 	mov	r5,dph
   004D FB                  183 	mov	r3,a
   004E D0 06               184 	pop	ar6
   0050 74 30               185 	mov	a,#0x30
   0052 2C                  186 	add	a,r4
   0053 FA                  187 	mov	r2,a
                            188 ;	_ltoa.c:63: if (c > (unsigned char)'9')
   0054 74 39               189 	mov	a,#0x39
   0056 B5 02 00            190 	cjne	a,ar2,00117$
   0059                     191 00117$:
   0059 50 04               192 	jnc	00102$
                            193 ;	_ltoa.c:64: c += 'A' - '9' - 1;
   005B 74 07               194 	mov	a,#0x07
   005D 2A                  195 	add	a,r2
   005E FA                  196 	mov	r2,a
   005F                     197 00102$:
                            198 ;	_ltoa.c:65: buffer[--index] = c;
   005F 1E                  199 	dec	r6
   0060 EE                  200 	mov	a,r6
   0061 24r08               201 	add	a,#__ultoa_buffer_1_1
   0063 F8                  202 	mov	r0,a
   0064 EA                  203 	mov	a,r2
   0065 F2                  204 	movx	@r0,a
                            205 ;	_ltoa.c:66: value /= radix;
   0066 78r00               206 	mov	r0,#__divulong_PARM_2
   0068 E5*00               207 	mov	a,__ultoa_sloc0_1_0
   006A F2                  208 	movx	@r0,a
   006B 08                  209 	inc	r0
   006C E5*01               210 	mov	a,(__ultoa_sloc0_1_0 + 1)
   006E F2                  211 	movx	@r0,a
   006F 08                  212 	inc	r0
   0070 E5*02               213 	mov	a,(__ultoa_sloc0_1_0 + 2)
   0072 F2                  214 	movx	@r0,a
   0073 08                  215 	inc	r0
   0074 E5*03               216 	mov	a,(__ultoa_sloc0_1_0 + 3)
   0076 F2                  217 	movx	@r0,a
   0077 78r04               218 	mov	r0,#__ultoa_value_1_1
   0079 E2                  219 	movx	a,@r0
   007A F5 82               220 	mov	dpl,a
   007C 08                  221 	inc	r0
   007D E2                  222 	movx	a,@r0
   007E F5 83               223 	mov	dph,a
   0080 08                  224 	inc	r0
   0081 E2                  225 	movx	a,@r0
   0082 F5 F0               226 	mov	b,a
   0084 08                  227 	inc	r0
   0085 E2                  228 	movx	a,@r0
   0086 C0 06               229 	push	ar6
   0088 12s00r00            230 	lcall	__divulong
   008B 78r04               231 	mov	r0,#__ultoa_value_1_1
   008D C0 E0               232 	push	acc
   008F E5 82               233 	mov	a,dpl
   0091 F2                  234 	movx	@r0,a
   0092 08                  235 	inc	r0
   0093 E5 83               236 	mov	a,dph
   0095 F2                  237 	movx	@r0,a
   0096 08                  238 	inc	r0
   0097 E5 F0               239 	mov	a,b
   0099 F2                  240 	movx	@r0,a
   009A D0 E0               241 	pop	acc
   009C 08                  242 	inc	r0
   009D F2                  243 	movx	@r0,a
   009E D0 06               244 	pop	ar6
                            245 ;	_ltoa.c:67: } while (value);
   00A0 78r04               246 	mov	r0,#__ultoa_value_1_1
   00A2 E2                  247 	movx	a,@r0
   00A3 F5 F0               248 	mov	b,a
   00A5 08                  249 	inc	r0
   00A6 E2                  250 	movx	a,@r0
   00A7 42 F0               251 	orl	b,a
   00A9 08                  252 	inc	r0
   00AA E2                  253 	movx	a,@r0
   00AB 42 F0               254 	orl	b,a
   00AD 08                  255 	inc	r0
   00AE E2                  256 	movx	a,@r0
   00AF 45 F0               257 	orl	a,b
   00B1 60 03               258 	jz	00119$
   00B3 02s00r16            259 	ljmp	00103$
   00B6                     260 00119$:
                            261 ;	_ltoa.c:69: do {
   00B6 78r00               262 	mov	r0,#__ultoa_PARM_2
   00B8 E2                  263 	movx	a,@r0
   00B9 FA                  264 	mov	r2,a
   00BA 08                  265 	inc	r0
   00BB E2                  266 	movx	a,@r0
   00BC FB                  267 	mov	r3,a
   00BD 08                  268 	inc	r0
   00BE E2                  269 	movx	a,@r0
   00BF FC                  270 	mov	r4,a
   00C0 8E 05               271 	mov	ar5,r6
   00C2                     272 00106$:
                            273 ;	_ltoa.c:70: *string++ = buffer[index];
   00C2 ED                  274 	mov	a,r5
   00C3 24r08               275 	add	a,#__ultoa_buffer_1_1
   00C5 F8                  276 	mov	r0,a
   00C6 E2                  277 	movx	a,@r0
   00C7 FE                  278 	mov	r6,a
   00C8 8A 82               279 	mov	dpl,r2
   00CA 8B 83               280 	mov	dph,r3
   00CC 8C F0               281 	mov	b,r4
   00CE 12s00r00            282 	lcall	__gptrput
   00D1 A3                  283 	inc	dptr
   00D2 AA 82               284 	mov	r2,dpl
   00D4 AB 83               285 	mov	r3,dph
                            286 ;	_ltoa.c:71: } while ( ++index != NUMBER_OF_DIGITS );
   00D6 0D                  287 	inc	r5
   00D7 BD 20 E8            288 	cjne	r5,#0x20,00106$
                            289 ;	_ltoa.c:73: *string = 0;  /* string terminator */
   00DA 8A 82               290 	mov	dpl,r2
   00DC 8B 83               291 	mov	dph,r3
   00DE 8C F0               292 	mov	b,r4
   00E0 E4                  293 	clr	a
   00E1 02s00r00            294 	ljmp	__gptrput
                            295 ;------------------------------------------------------------
                            296 ;Allocation info for local variables in function '_ltoa'
                            297 ;------------------------------------------------------------
                            298 ;------------------------------------------------------------
                            299 ;	_ltoa.c:76: void _ltoa(long value, char* string, unsigned char radix)
                            300 ;	-----------------------------------------
                            301 ;	 function _ltoa
                            302 ;	-----------------------------------------
   00E4                     303 __ltoa:
   00E4 AA 82               304 	mov	r2,dpl
   00E6 AB 83               305 	mov	r3,dph
   00E8 AC F0               306 	mov	r4,b
   00EA FD                  307 	mov	r5,a
   00EB 78r2C               308 	mov	r0,#__ltoa_value_1_1
   00ED EA                  309 	mov	a,r2
   00EE F2                  310 	movx	@r0,a
   00EF 08                  311 	inc	r0
   00F0 EB                  312 	mov	a,r3
   00F1 F2                  313 	movx	@r0,a
   00F2 08                  314 	inc	r0
   00F3 EC                  315 	mov	a,r4
   00F4 F2                  316 	movx	@r0,a
   00F5 08                  317 	inc	r0
   00F6 ED                  318 	mov	a,r5
   00F7 F2                  319 	movx	@r0,a
                            320 ;	_ltoa.c:78: if (value < 0 && radix == 10) {
   00F8 78r2F               321 	mov	r0,#(__ltoa_value_1_1 + 3)
   00FA E2                  322 	movx	a,@r0
   00FB 30 E7 42            323 	jnb	acc.7,00102$
   00FE 78r2B               324 	mov	r0,#__ltoa_PARM_3
   0100 E2                  325 	movx	a,@r0
   0101 B4 0A 3C            326 	cjne	a,#0x0A,00102$
                            327 ;	_ltoa.c:79: *string++ = '-';
   0104 78r28               328 	mov	r0,#__ltoa_PARM_2
   0106 E2                  329 	movx	a,@r0
   0107 FE                  330 	mov	r6,a
   0108 08                  331 	inc	r0
   0109 E2                  332 	movx	a,@r0
   010A FF                  333 	mov	r7,a
   010B 08                  334 	inc	r0
   010C E2                  335 	movx	a,@r0
   010D FA                  336 	mov	r2,a
   010E 8E 82               337 	mov	dpl,r6
   0110 8F 83               338 	mov	dph,r7
   0112 8A F0               339 	mov	b,r2
   0114 74 2D               340 	mov	a,#0x2D
   0116 12s00r00            341 	lcall	__gptrput
   0119 78r28               342 	mov	r0,#__ltoa_PARM_2
   011B 74 01               343 	mov	a,#0x01
   011D 2E                  344 	add	a,r6
   011E F2                  345 	movx	@r0,a
   011F E4                  346 	clr	a
   0120 3F                  347 	addc	a,r7
   0121 08                  348 	inc	r0
   0122 F2                  349 	movx	@r0,a
   0123 08                  350 	inc	r0
   0124 EA                  351 	mov	a,r2
   0125 F2                  352 	movx	@r0,a
                            353 ;	_ltoa.c:80: value = -value;
   0126 78r2C               354 	mov	r0,#__ltoa_value_1_1
   0128 E2                  355 	movx	a,@r0
   0129 D3                  356 	setb	c
   012A F4                  357 	cpl	a
   012B 34 00               358 	addc	a,#0x00
   012D F2                  359 	movx	@r0,a
   012E 08                  360 	inc	r0
   012F E2                  361 	movx	a,@r0
   0130 F4                  362 	cpl	a
   0131 34 00               363 	addc	a,#0x00
   0133 F2                  364 	movx	@r0,a
   0134 08                  365 	inc	r0
   0135 E2                  366 	movx	a,@r0
   0136 F4                  367 	cpl	a
   0137 34 00               368 	addc	a,#0x00
   0139 F2                  369 	movx	@r0,a
   013A 08                  370 	inc	r0
   013B E2                  371 	movx	a,@r0
   013C F4                  372 	cpl	a
   013D 34 00               373 	addc	a,#0x00
   013F F2                  374 	movx	@r0,a
   0140                     375 00102$:
                            376 ;	_ltoa.c:82: _ultoa(value, string, radix);
   0140 78r28               377 	mov	r0,#__ltoa_PARM_2
   0142 79r00               378 	mov	r1,#__ultoa_PARM_2
   0144 E2                  379 	movx	a,@r0
   0145 F3                  380 	movx	@r1,a
   0146 08                  381 	inc	r0
   0147 E2                  382 	movx	a,@r0
   0148 09                  383 	inc	r1
   0149 F3                  384 	movx	@r1,a
   014A 08                  385 	inc	r0
   014B E2                  386 	movx	a,@r0
   014C 09                  387 	inc	r1
   014D F3                  388 	movx	@r1,a
   014E 78r2B               389 	mov	r0,#__ltoa_PARM_3
   0150 79r03               390 	mov	r1,#__ultoa_PARM_3
   0152 E2                  391 	movx	a,@r0
   0153 F3                  392 	movx	@r1,a
   0154 78r2C               393 	mov	r0,#__ltoa_value_1_1
   0156 E2                  394 	movx	a,@r0
   0157 F5 82               395 	mov	dpl,a
   0159 08                  396 	inc	r0
   015A E2                  397 	movx	a,@r0
   015B F5 83               398 	mov	dph,a
   015D 08                  399 	inc	r0
   015E E2                  400 	movx	a,@r0
   015F F5 F0               401 	mov	b,a
   0161 08                  402 	inc	r0
   0162 E2                  403 	movx	a,@r0
   0163 02s00r00            404 	ljmp	__ultoa
                            405 	.area CSEG    (CODE)
                            406 	.area CONST   (CODE)
                            407 	.area XINIT   (CODE)
                            408 	.area CABS    (ABS,CODE)
