                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:17 2015
                              5 ;--------------------------------------------------------
                              6 	.module logf
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _logf
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../logf.c:216: float logf(const float x) _FLOAT_FUNC_REENTRANT
                             44 ;	---------------------------------
                             45 ; Function logf
                             46 ; ---------------------------------
   0000                      47 _logf_start::
   0000                      48 _logf:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 21 E2 FF             52 	ld	hl,#-30
   000B 39                   53 	add	hl,sp
   000C F9                   54 	ld	sp,hl
                             55 ;../logf.c:226: if (x<=0.0)
   000D 21 00 00             56 	ld	hl,#0x0000
   0010 E5                   57 	push	hl
   0011 21 00 00             58 	ld	hl,#0x0000
   0014 E5                   59 	push	hl
   0015 DD 6E 06             60 	ld	l,6 (ix)
   0018 DD 66 07             61 	ld	h,7 (ix)
   001B E5                   62 	push	hl
   001C DD 6E 04             63 	ld	l,4 (ix)
   001F DD 66 05             64 	ld	h,5 (ix)
   0022 E5                   65 	push	hl
   0023 CDr00s00             66 	call	___fsgt
   0026 F1                   67 	pop	af
   0027 F1                   68 	pop	af
   0028 F1                   69 	pop	af
   0029 F1                   70 	pop	af
   002A AF                   71 	xor	a,a
   002B B5                   72 	or	a,l
   002C 20 14                73 	jr	NZ,00102$
                             74 ;../logf.c:228: errno=EDOM;
   002E FD 21r00s00          75 	ld	iy,#_errno
   0032 FD 36 00 21          76 	ld	0 (iy),#0x21
   0036 FD 36 01 00          77 	ld	1 (iy),#0x00
                             78 ;../logf.c:229: return 0.0;
   003A 21 00 00             79 	ld	hl,#0x0000
   003D 5D                   80 	ld	e,l
   003E 54                   81 	ld	d,h
   003F C3rC1s02             82 	jp	00106$
   0042                      83 00102$:
                             84 ;../logf.c:231: f=frexpf(x, &n);
   0042 21 04 00             85 	ld	hl,#0x0004
   0045 39                   86 	add	hl,sp
   0046 E5                   87 	push	hl
   0047 DD 6E 06             88 	ld	l,6 (ix)
   004A DD 66 07             89 	ld	h,7 (ix)
   004D E5                   90 	push	hl
   004E DD 6E 04             91 	ld	l,4 (ix)
   0051 DD 66 05             92 	ld	h,5 (ix)
   0054 E5                   93 	push	hl
   0055 CDr00s00             94 	call	_frexpf
   0058 F1                   95 	pop	af
   0059 F1                   96 	pop	af
   005A F1                   97 	pop	af
   005B DD 75 F8             98 	ld	-8 (ix), l
   005E DD 74 F9             99 	ld	-7 (ix), h
   0061 DD 73 FA            100 	ld	-6 (ix),e
   0064 DD 72 FB            101 	ld	-5 (ix),d
                            102 ;../logf.c:232: znum=f-0.5;
   0067 21 00 3F            103 	ld	hl,#0x3F00
   006A E5                  104 	push	hl
   006B 21 00 00            105 	ld	hl,#0x0000
   006E E5                  106 	push	hl
   006F DD 6E FA            107 	ld	l,-6 (ix)
   0072 DD 66 FB            108 	ld	h,-5 (ix)
   0075 E5                  109 	push	hl
   0076 DD 6E F8            110 	ld	l,-8 (ix)
   0079 DD 66 F9            111 	ld	h,-7 (ix)
   007C E5                  112 	push	hl
   007D CDr00s00            113 	call	___fssub
   0080 F1                  114 	pop	af
   0081 F1                  115 	pop	af
   0082 F1                  116 	pop	af
   0083 F1                  117 	pop	af
   0084 DD 75 F0            118 	ld	-16 (ix), l
   0087 DD 74 F1            119 	ld	-15 (ix), h
   008A DD 73 F2            120 	ld	-14 (ix),e
   008D DD 72 F3            121 	ld	-13 (ix),d
                            122 ;../logf.c:233: if (f>C0)
   0090 21 35 3F            123 	ld	hl,#0x3F35
   0093 E5                  124 	push	hl
   0094 21 F3 04            125 	ld	hl,#0x04F3
   0097 E5                  126 	push	hl
   0098 DD 6E FA            127 	ld	l,-6 (ix)
   009B DD 66 FB            128 	ld	h,-5 (ix)
   009E E5                  129 	push	hl
   009F DD 6E F8            130 	ld	l,-8 (ix)
   00A2 DD 66 F9            131 	ld	h,-7 (ix)
   00A5 E5                  132 	push	hl
   00A6 CDr00s00            133 	call	___fsgt
   00A9 F1                  134 	pop	af
   00AA F1                  135 	pop	af
   00AB F1                  136 	pop	af
   00AC F1                  137 	pop	af
   00AD AF                  138 	xor	a,a
   00AE B5                  139 	or	a,l
   00AF 28 5D               140 	jr	Z,00104$
                            141 ;../logf.c:235: znum-=0.5;
   00B1 21 00 3F            142 	ld	hl,#0x3F00
   00B4 E5                  143 	push	hl
   00B5 21 00 00            144 	ld	hl,#0x0000
   00B8 E5                  145 	push	hl
   00B9 DD 6E F2            146 	ld	l,-14 (ix)
   00BC DD 66 F3            147 	ld	h,-13 (ix)
   00BF E5                  148 	push	hl
   00C0 DD 6E F0            149 	ld	l,-16 (ix)
   00C3 DD 66 F1            150 	ld	h,-15 (ix)
   00C6 E5                  151 	push	hl
   00C7 CDr00s00            152 	call	___fssub
   00CA F1                  153 	pop	af
   00CB F1                  154 	pop	af
   00CC F1                  155 	pop	af
   00CD F1                  156 	pop	af
   00CE DD 75 F0            157 	ld	-16 (ix), l
   00D1 DD 74 F1            158 	ld	-15 (ix), h
   00D4 DD 73 F2            159 	ld	-14 (ix),e
   00D7 DD 72 F3            160 	ld	-13 (ix),d
                            161 ;../logf.c:236: zden=(f*0.5)+0.5;
   00DA DD 6E FA            162 	ld	l,-6 (ix)
   00DD DD 66 FB            163 	ld	h,-5 (ix)
   00E0 E5                  164 	push	hl
   00E1 DD 6E F8            165 	ld	l,-8 (ix)
   00E4 DD 66 F9            166 	ld	h,-7 (ix)
   00E7 E5                  167 	push	hl
   00E8 21 00 3F            168 	ld	hl,#0x3F00
   00EB E5                  169 	push	hl
   00EC 21 00 00            170 	ld	hl,#0x0000
   00EF E5                  171 	push	hl
   00F0 CDr00s00            172 	call	___fsmul
   00F3 F1                  173 	pop	af
   00F4 F1                  174 	pop	af
   00F5 F1                  175 	pop	af
   00F6 F1                  176 	pop	af
   00F7 44                  177 	ld	b,h
   00F8 4D                  178 	ld	c,l
   00F9 21 00 3F            179 	ld	hl,#0x3F00
   00FC E5                  180 	push	hl
   00FD 21 00 00            181 	ld	hl,#0x0000
   0100 E5                  182 	push	hl
   0101 D5                  183 	push	de
   0102 C5                  184 	push	bc
   0103 CDr00s00            185 	call	___fsadd
   0106 F1                  186 	pop	af
   0107 F1                  187 	pop	af
   0108 F1                  188 	pop	af
   0109 F1                  189 	pop	af
   010A 44                  190 	ld	b,h
   010B 4D                  191 	ld	c,l
   010C 18 53               192 	jr	00105$
   010E                     193 00104$:
                            194 ;../logf.c:240: n--;
   010E DD 6E E6            195 	ld	l,-26 (ix)
   0111 DD 66 E7            196 	ld	h,-25 (ix)
   0114 2B                  197 	dec	hl
   0115 DD 75 E6            198 	ld	-26 (ix),l
   0118 DD 74 E7            199 	ld	-25 (ix),h
                            200 ;../logf.c:241: zden=znum*0.5+0.5;
   011B DD 6E F2            201 	ld	l,-14 (ix)
   011E DD 66 F3            202 	ld	h,-13 (ix)
   0121 E5                  203 	push	hl
   0122 DD 6E F0            204 	ld	l,-16 (ix)
   0125 DD 66 F1            205 	ld	h,-15 (ix)
   0128 E5                  206 	push	hl
   0129 21 00 3F            207 	ld	hl,#0x3F00
   012C E5                  208 	push	hl
   012D 21 00 00            209 	ld	hl,#0x0000
   0130 E5                  210 	push	hl
   0131 CDr00s00            211 	call	___fsmul
   0134 F1                  212 	pop	af
   0135 F1                  213 	pop	af
   0136 F1                  214 	pop	af
   0137 F1                  215 	pop	af
   0138 44                  216 	ld	b,h
   0139 4D                  217 	ld	c,l
   013A 21 00 3F            218 	ld	hl,#0x3F00
   013D E5                  219 	push	hl
   013E 21 00 00            220 	ld	hl,#0x0000
   0141 E5                  221 	push	hl
   0142 D5                  222 	push	de
   0143 C5                  223 	push	bc
   0144 CDr00s00            224 	call	___fsadd
   0147 F1                  225 	pop	af
   0148 F1                  226 	pop	af
   0149 F1                  227 	pop	af
   014A F1                  228 	pop	af
   014B DD 72 EF            229 	ld	-17 (ix),d
   014E DD 73 EE            230 	ld	-18 (ix),e
   0151 DD 74 ED            231 	ld	-19 (ix),h
   0154 DD 75 EC            232 	ld	-20 (ix), l
   0157 4D                  233 	ld	c, l
   0158 DD 46 ED            234 	ld	b,-19 (ix)
   015B DD 5E EE            235 	ld	e,-18 (ix)
   015E DD 56 EF            236 	ld	d,-17 (ix)
   0161                     237 00105$:
                            238 ;../logf.c:243: z=znum/zden;
   0161 D5                  239 	push	de
   0162 C5                  240 	push	bc
   0163 DD 6E F2            241 	ld	l,-14 (ix)
   0166 DD 66 F3            242 	ld	h,-13 (ix)
   0169 E5                  243 	push	hl
   016A DD 6E F0            244 	ld	l,-16 (ix)
   016D DD 66 F1            245 	ld	h,-15 (ix)
   0170 E5                  246 	push	hl
   0171 CDr00s00            247 	call	___fsdiv
   0174 F1                  248 	pop	af
   0175 F1                  249 	pop	af
   0176 F1                  250 	pop	af
   0177 F1                  251 	pop	af
   0178 DD 75 F4            252 	ld	-12 (ix), l
   017B DD 74 F5            253 	ld	-11 (ix), h
   017E DD 73 F6            254 	ld	-10 (ix),e
   0181 DD 72 F7            255 	ld	-9 (ix),d
                            256 ;../logf.c:244: w=z*z;
   0184 DD 6E F6            257 	ld	l,-10 (ix)
   0187 DD 66 F7            258 	ld	h,-9 (ix)
   018A E5                  259 	push	hl
   018B DD 6E F4            260 	ld	l,-12 (ix)
   018E DD 66 F5            261 	ld	h,-11 (ix)
   0191 E5                  262 	push	hl
   0192 DD 6E F6            263 	ld	l,-10 (ix)
   0195 DD 66 F7            264 	ld	h,-9 (ix)
   0198 E5                  265 	push	hl
   0199 DD 6E F4            266 	ld	l,-12 (ix)
   019C DD 66 F5            267 	ld	h,-11 (ix)
   019F E5                  268 	push	hl
   01A0 CDr00s00            269 	call	___fsmul
   01A3 F1                  270 	pop	af
   01A4 F1                  271 	pop	af
   01A5 F1                  272 	pop	af
   01A6 F1                  273 	pop	af
   01A7 44                  274 	ld	b,h
   01A8 4D                  275 	ld	c,l
                            276 ;../logf.c:246: Rz=z+z*(w*A(w)/B(w));
   01A9 C5                  277 	push	bc
   01AA D5                  278 	push	de
   01AB D5                  279 	push	de
   01AC C5                  280 	push	bc
   01AD 21 0D BF            281 	ld	hl,#0xBF0D
   01B0 E5                  282 	push	hl
   01B1 21 3D 7E            283 	ld	hl,#0x7E3D
   01B4 E5                  284 	push	hl
   01B5 CDr00s00            285 	call	___fsmul
   01B8 F1                  286 	pop	af
   01B9 F1                  287 	pop	af
   01BA F1                  288 	pop	af
   01BB F1                  289 	pop	af
   01BC DD 72 E5            290 	ld	-27 (ix),d
   01BF DD 73 E4            291 	ld	-28 (ix),e
   01C2 DD 74 E3            292 	ld	-29 (ix),h
   01C5 DD 75 E2            293 	ld	-30 (ix),l
   01C8 D1                  294 	pop	de
   01C9 C1                  295 	pop	bc
   01CA 21 D4 C0            296 	ld	hl,#0xC0D4
   01CD E5                  297 	push	hl
   01CE 21 3A 3F            298 	ld	hl,#0x3F3A
   01D1 E5                  299 	push	hl
   01D2 D5                  300 	push	de
   01D3 C5                  301 	push	bc
   01D4 CDr00s00            302 	call	___fsadd
   01D7 F1                  303 	pop	af
   01D8 F1                  304 	pop	af
   01D9 F1                  305 	pop	af
   01DA F1                  306 	pop	af
   01DB 44                  307 	ld	b,h
   01DC 4D                  308 	ld	c,l
   01DD D5                  309 	push	de
   01DE C5                  310 	push	bc
   01DF DD 6E E4            311 	ld	l,-28 (ix)
   01E2 DD 66 E5            312 	ld	h,-27 (ix)
   01E5 E5                  313 	push	hl
   01E6 DD 6E E2            314 	ld	l,-30 (ix)
   01E9 DD 66 E3            315 	ld	h,-29 (ix)
   01EC E5                  316 	push	hl
   01ED CDr00s00            317 	call	___fsdiv
   01F0 F1                  318 	pop	af
   01F1 F1                  319 	pop	af
   01F2 F1                  320 	pop	af
   01F3 F1                  321 	pop	af
   01F4 44                  322 	ld	b,h
   01F5 4D                  323 	ld	c,l
   01F6 D5                  324 	push	de
   01F7 C5                  325 	push	bc
   01F8 DD 6E F6            326 	ld	l,-10 (ix)
   01FB DD 66 F7            327 	ld	h,-9 (ix)
   01FE E5                  328 	push	hl
   01FF DD 6E F4            329 	ld	l,-12 (ix)
   0202 DD 66 F5            330 	ld	h,-11 (ix)
   0205 E5                  331 	push	hl
   0206 CDr00s00            332 	call	___fsmul
   0209 F1                  333 	pop	af
   020A F1                  334 	pop	af
   020B F1                  335 	pop	af
   020C F1                  336 	pop	af
   020D 44                  337 	ld	b,h
   020E 4D                  338 	ld	c,l
   020F D5                  339 	push	de
   0210 C5                  340 	push	bc
   0211 DD 6E F6            341 	ld	l,-10 (ix)
   0214 DD 66 F7            342 	ld	h,-9 (ix)
   0217 E5                  343 	push	hl
   0218 DD 6E F4            344 	ld	l,-12 (ix)
   021B DD 66 F5            345 	ld	h,-11 (ix)
   021E E5                  346 	push	hl
   021F CDr00s00            347 	call	___fsadd
   0222 F1                  348 	pop	af
   0223 F1                  349 	pop	af
   0224 F1                  350 	pop	af
   0225 F1                  351 	pop	af
   0226 DD 75 FC            352 	ld	-4 (ix), l
   0229 DD 74 FD            353 	ld	-3 (ix), h
   022C DD 73 FE            354 	ld	-2 (ix),e
   022F DD 72 FF            355 	ld	-1 (ix),d
                            356 ;../logf.c:247: xn=n;
   0232 DD 6E E6            357 	ld	l,-26 (ix)
   0235 DD 66 E7            358 	ld	h,-25 (ix)
   0238 E5                  359 	push	hl
   0239 CDr00s00            360 	call	___sint2fs
   023C F1                  361 	pop	af
   023D DD 75 E8            362 	ld	-24 (ix), l
   0240 DD 74 E9            363 	ld	-23 (ix), h
   0243 DD 73 EA            364 	ld	-22 (ix),e
   0246 DD 72 EB            365 	ld	-21 (ix),d
                            366 ;../logf.c:248: return ((xn*C2+Rz)+xn*C1);
   0249 DD 6E EA            367 	ld	l,-22 (ix)
   024C DD 66 EB            368 	ld	h,-21 (ix)
   024F E5                  369 	push	hl
   0250 DD 6E E8            370 	ld	l,-24 (ix)
   0253 DD 66 E9            371 	ld	h,-23 (ix)
   0256 E5                  372 	push	hl
   0257 21 5E B9            373 	ld	hl,#0xB95E
   025A E5                  374 	push	hl
   025B 21 83 80            375 	ld	hl,#0x8083
   025E E5                  376 	push	hl
   025F CDr00s00            377 	call	___fsmul
   0262 F1                  378 	pop	af
   0263 F1                  379 	pop	af
   0264 F1                  380 	pop	af
   0265 F1                  381 	pop	af
   0266 44                  382 	ld	b,h
   0267 4D                  383 	ld	c,l
   0268 DD 6E FE            384 	ld	l,-2 (ix)
   026B DD 66 FF            385 	ld	h,-1 (ix)
   026E E5                  386 	push	hl
   026F DD 6E FC            387 	ld	l,-4 (ix)
   0272 DD 66 FD            388 	ld	h,-3 (ix)
   0275 E5                  389 	push	hl
   0276 D5                  390 	push	de
   0277 C5                  391 	push	bc
   0278 CDr00s00            392 	call	___fsadd
   027B F1                  393 	pop	af
   027C F1                  394 	pop	af
   027D F1                  395 	pop	af
   027E F1                  396 	pop	af
   027F DD 72 E5            397 	ld	-27 (ix),d
   0282 DD 73 E4            398 	ld	-28 (ix),e
   0285 DD 74 E3            399 	ld	-29 (ix),h
   0288 DD 75 E2            400 	ld	-30 (ix),l
   028B DD 6E EA            401 	ld	l,-22 (ix)
   028E DD 66 EB            402 	ld	h,-21 (ix)
   0291 E5                  403 	push	hl
   0292 DD 6E E8            404 	ld	l,-24 (ix)
   0295 DD 66 E9            405 	ld	h,-23 (ix)
   0298 E5                  406 	push	hl
   0299 21 31 3F            407 	ld	hl,#0x3F31
   029C E5                  408 	push	hl
   029D 21 00 80            409 	ld	hl,#0x8000
   02A0 E5                  410 	push	hl
   02A1 CDr00s00            411 	call	___fsmul
   02A4 F1                  412 	pop	af
   02A5 F1                  413 	pop	af
   02A6 F1                  414 	pop	af
   02A7 F1                  415 	pop	af
   02A8 44                  416 	ld	b,h
   02A9 4D                  417 	ld	c,l
   02AA D5                  418 	push	de
   02AB C5                  419 	push	bc
   02AC DD 6E E4            420 	ld	l,-28 (ix)
   02AF DD 66 E5            421 	ld	h,-27 (ix)
   02B2 E5                  422 	push	hl
   02B3 DD 6E E2            423 	ld	l,-30 (ix)
   02B6 DD 66 E3            424 	ld	h,-29 (ix)
   02B9 E5                  425 	push	hl
   02BA CDr00s00            426 	call	___fsadd
   02BD F1                  427 	pop	af
   02BE F1                  428 	pop	af
   02BF F1                  429 	pop	af
   02C0 F1                  430 	pop	af
   02C1                     431 00106$:
   02C1 DD F9               432 	ld	sp,ix
   02C3 DD E1               433 	pop	ix
   02C5 C9                  434 	ret
   02C6                     435 _logf_end::
                            436 	.area _CODE
                            437 	.area _CABS
