                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:31 2015
                              5 ;--------------------------------------------------------
                              6 	.module _modsint
                              7 	.optsdcc -mmcs51 --model-small
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 ;--------------------------------------------------------
                             13 ; special function registers
                             14 ;--------------------------------------------------------
                             15 	.area RSEG    (ABS,DATA)
   0000                      16 	.org 0x0000
                             17 ;--------------------------------------------------------
                             18 ; special function bits
                             19 ;--------------------------------------------------------
                             20 	.area RSEG    (ABS,DATA)
   0000                      21 	.org 0x0000
                             22 ;--------------------------------------------------------
                             23 ; overlayable register banks
                             24 ;--------------------------------------------------------
                             25 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      26 	.ds 8
                             27 ;--------------------------------------------------------
                             28 ; internal ram data
                             29 ;--------------------------------------------------------
                             30 	.area DSEG    (DATA)
                             31 ;--------------------------------------------------------
                             32 ; overlayable items in internal ram 
                             33 ;--------------------------------------------------------
                             34 	.area OSEG    (OVR,DATA)
                             35 ;--------------------------------------------------------
                             36 ; indirectly addressable internal ram data
                             37 ;--------------------------------------------------------
                             38 	.area ISEG    (DATA)
                             39 ;--------------------------------------------------------
                             40 ; absolute internal ram data
                             41 ;--------------------------------------------------------
                             42 	.area IABS    (ABS,DATA)
                             43 	.area IABS    (ABS,DATA)
                             44 ;--------------------------------------------------------
                             45 ; bit data
                             46 ;--------------------------------------------------------
                             47 	.area BSEG    (BIT)
                             48 ;--------------------------------------------------------
                             49 ; paged external ram data
                             50 ;--------------------------------------------------------
                             51 	.area PSEG    (PAG,XDATA)
                             52 ;--------------------------------------------------------
                             53 ; external ram data
                             54 ;--------------------------------------------------------
                             55 	.area XSEG    (XDATA)
                             56 ;--------------------------------------------------------
                             57 ; absolute external ram data
                             58 ;--------------------------------------------------------
                             59 	.area XABS    (ABS,XDATA)
                             60 ;--------------------------------------------------------
                             61 ; external initialized ram data
                             62 ;--------------------------------------------------------
                             63 	.area XISEG   (XDATA)
                             64 	.area HOME    (CODE)
                             65 	.area GSINIT0 (CODE)
                             66 	.area GSINIT1 (CODE)
                             67 	.area GSINIT2 (CODE)
                             68 	.area GSINIT3 (CODE)
                             69 	.area GSINIT4 (CODE)
                             70 	.area GSINIT5 (CODE)
                             71 	.area GSINIT  (CODE)
                             72 	.area GSFINAL (CODE)
                             73 	.area CSEG    (CODE)
                             74 ;--------------------------------------------------------
                             75 ; global & static initialisations
                             76 ;--------------------------------------------------------
                             77 	.area HOME    (CODE)
                             78 	.area GSINIT  (CODE)
                             79 	.area GSFINAL (CODE)
                             80 	.area GSINIT  (CODE)
                             81 ;--------------------------------------------------------
                             82 ; Home
                             83 ;--------------------------------------------------------
                             84 	.area HOME    (CODE)
                             85 	.area HOME    (CODE)
                             86 ;--------------------------------------------------------
                             87 ; code
                             88 ;--------------------------------------------------------
                             89 	.area CSEG    (CODE)
                             90 ;------------------------------------------------------------
                             91 ;Allocation info for local variables in function '_modsint_dummy'
                             92 ;------------------------------------------------------------
                             93 ;------------------------------------------------------------
                             94 ;	_modsint.c:128: _modsint_dummy (void) __naked
                             95 ;	-----------------------------------------
                             96 ;	 function _modsint_dummy
                             97 ;	-----------------------------------------
   0000                      98 __modsint_dummy:
                             99 ;	naked function: no prologue.
                            100 ;	_modsint.c:198: __endasm;
                            101 	
                            102 	
                            103 	
                            104 	
                            105 	
                    0000    106 	 ar0 = 0 ; BUG register set is not considered
                    0001    107 	 ar1 = 1
                            108 	
                            109 	 .globl __modsint
                            110 	
   0000                     111 	__modsint:
                            112 	
   0000 C2 D5               113 	 clr F0 ; Flag 0 in PSW
                            114     ; available to user for general purpose
   0002 E5 83               115 	 mov a,dph
   0004 30 E7 0D            116 	 jnb acc.7,a_not_negative
                            117 	
   0007 D2 D5               118 	 setb F0
                            119 	
   0009 E4                  120 	 clr a
   000A C3                  121 	 clr c
   000B 95 82               122 	 subb a,dpl
   000D F5 82               123 	 mov dpl,a
   000F E4                  124 	 clr a
   0010 95 83               125 	 subb a,dph
   0012 F5 83               126 	 mov dph,a
                            127 	
   0014                     128 	a_not_negative:
                            129 	
   0014 E5 81               130 	 mov a,sp
   0016 24 FE               131 	 add a,#-2 ; 2 bytes return address
   0018 F8                  132 	 mov r0,a ; r0 points to b1
   0019 E6                  133 	 mov a,@r0 ; b1
                            134 	
   001A 30 E7 09            135 	 jnb acc.7,b_not_negative
                            136 	
   001D 18                  137 	 dec r0
                            138 	
   001E E4                  139 	 clr a
   001F C3                  140 	 clr c
   0020 96                  141 	 subb a,@r0 ; b0
   0021 F6                  142 	 mov @r0,a
   0022 E4                  143 	 clr a
   0023 08                  144 	 inc r0
   0024 96                  145 	 subb a,@r0 ; b1
   0025 F6                  146 	 mov @r0,a
                            147 	
   0026                     148 	b_not_negative:
                            149 	
   0026 86 01               150 	 mov ar1,@r0 ; b1
   0028 18                  151 	 dec r0
   0029 86 00               152 	 mov ar0,@r0 ; b0
                            153 	
   002B 12s00r00            154 	 lcall __modint
                            155 	
   002E 30 D5 0B            156 	 jnb F0,not_negative
                            157 	
   0031 E4                  158 	 clr a
   0032 C3                  159 	 clr c
   0033 95 82               160 	 subb a,dpl
   0035 F5 82               161 	 mov dpl,a
   0037 E4                  162 	 clr a
   0038 95 83               163 	 subb a,dph
   003A F5 83               164 	 mov dph,a
                            165 	
   003C                     166 	not_negative:
   003C 22                  167 	 ret
                            168 	
                            169 	 
                            170 ;	naked function: no epilogue.
                            171 	.area CSEG    (CODE)
                            172 	.area CONST   (CODE)
                            173 	.area XINIT   (CODE)
                            174 	.area CABS    (ABS,CODE)
