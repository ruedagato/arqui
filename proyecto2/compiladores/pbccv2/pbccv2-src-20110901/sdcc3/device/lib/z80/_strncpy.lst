                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:18 2015
                              5 ;--------------------------------------------------------
                              6 	.module _strncpy
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _strncpy
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../_strncpy.c:31: char *strncpy (
                             44 ;	---------------------------------
                             45 ; Function strncpy
                             46 ; ---------------------------------
   0000                      47 _strncpy_start::
   0000                      48 _strncpy:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 F5                   52 	push	af
   0009 F5                   53 	push	af
                             54 ;../_strncpy.c:36: register char * d1 =  d;
   000A DD 4E 04             55 	ld	c,4 (ix)
   000D DD 46 05             56 	ld	b,5 (ix)
                             57 ;../_strncpy.c:38: while ( n && *s )
   0010 DD 5E 08             58 	ld	e,8 (ix)
   0013 DD 56 09             59 	ld	d,9 (ix)
   0016 DD 7E 06             60 	ld	a,6 (ix)
   0019 DD 77 FE             61 	ld	-2 (ix),a
   001C DD 7E 07             62 	ld	a,7 (ix)
   001F DD 77 FF             63 	ld	-1 (ix),a
   0022 DD 71 FC             64 	ld	-4 (ix),c
   0025 DD 70 FD             65 	ld	-3 (ix),b
   0028                      66 00102$:
   0028 7B                   67 	ld	a,e
   0029 B2                   68 	or	a,d
   002A 28 26                69 	jr	Z,00114$
   002C DD 6E FE             70 	ld	l,-2 (ix)
   002F DD 66 FF             71 	ld	h,-1 (ix)
   0032 6E                   72 	ld	l,(hl)
   0033 AF                   73 	xor	a,a
   0034 B5                   74 	or	a,l
   0035 28 1B                75 	jr	Z,00114$
                             76 ;../_strncpy.c:40: n-- ;
   0037 1B                   77 	dec	de
                             78 ;../_strncpy.c:41: *d++ = *s++ ;
   0038 7D                   79 	ld	a,l
   0039 DD 34 FE             80 	inc	-2 (ix)
   003C 20 03                81 	jr	NZ,00117$
   003E DD 34 FF             82 	inc	-1 (ix)
   0041                      83 00117$:
   0041 DD 6E FC             84 	ld	l,-4 (ix)
   0044 DD 66 FD             85 	ld	h,-3 (ix)
   0047 77                   86 	ld	(hl),a
   0048 DD 34 FC             87 	inc	-4 (ix)
   004B 20 DB                88 	jr	NZ,00102$
   004D DD 34 FD             89 	inc	-3 (ix)
   0050 18 D6                90 	jr	00102$
                             91 ;../_strncpy.c:43: while ( n-- )
   0052                      92 00114$:
   0052                      93 00105$:
   0052 6B                   94 	ld	l,e
   0053 62                   95 	ld	h,d
   0054 1B                   96 	dec	de
   0055 7D                   97 	ld	a,l
   0056 B4                   98 	or	a,h
   0057 28 12                99 	jr	Z,00107$
                            100 ;../_strncpy.c:45: *d++ = '\0' ;
   0059 DD 6E FC            101 	ld	l,-4 (ix)
   005C DD 66 FD            102 	ld	h,-3 (ix)
   005F 36 00               103 	ld	(hl),#0x00
   0061 DD 34 FC            104 	inc	-4 (ix)
   0064 20 EC               105 	jr	NZ,00105$
   0066 DD 34 FD            106 	inc	-3 (ix)
   0069 18 E7               107 	jr	00105$
   006B                     108 00107$:
                            109 ;../_strncpy.c:47: return d1;
   006B 69                  110 	ld	l,c
   006C 60                  111 	ld	h,b
   006D DD F9               112 	ld	sp,ix
   006F DD E1               113 	pop	ix
   0071 C9                  114 	ret
   0072                     115 _strncpy_end::
                            116 	.area _CODE
                            117 	.area _CABS
