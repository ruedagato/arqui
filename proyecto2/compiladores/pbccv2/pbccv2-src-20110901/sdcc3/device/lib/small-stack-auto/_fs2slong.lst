                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:30 2015
                              5 ;--------------------------------------------------------
                              6 	.module _fs2slong
                              7 	.optsdcc -mmcs51 --model-small
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 ;--------------------------------------------------------
                             13 ; special function registers
                             14 ;--------------------------------------------------------
                             15 	.area RSEG    (ABS,DATA)
   0000                      16 	.org 0x0000
                             17 ;--------------------------------------------------------
                             18 ; special function bits
                             19 ;--------------------------------------------------------
                             20 	.area RSEG    (ABS,DATA)
   0000                      21 	.org 0x0000
                             22 ;--------------------------------------------------------
                             23 ; overlayable register banks
                             24 ;--------------------------------------------------------
                             25 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      26 	.ds 8
                             27 ;--------------------------------------------------------
                             28 ; internal ram data
                             29 ;--------------------------------------------------------
                             30 	.area DSEG    (DATA)
                             31 ;--------------------------------------------------------
                             32 ; overlayable items in internal ram 
                             33 ;--------------------------------------------------------
                             34 	.area OSEG    (OVR,DATA)
                             35 ;--------------------------------------------------------
                             36 ; indirectly addressable internal ram data
                             37 ;--------------------------------------------------------
                             38 	.area ISEG    (DATA)
                             39 ;--------------------------------------------------------
                             40 ; absolute internal ram data
                             41 ;--------------------------------------------------------
                             42 	.area IABS    (ABS,DATA)
                             43 	.area IABS    (ABS,DATA)
                             44 ;--------------------------------------------------------
                             45 ; bit data
                             46 ;--------------------------------------------------------
                             47 	.area BSEG    (BIT)
                             48 ;--------------------------------------------------------
                             49 ; paged external ram data
                             50 ;--------------------------------------------------------
                             51 	.area PSEG    (PAG,XDATA)
                             52 ;--------------------------------------------------------
                             53 ; external ram data
                             54 ;--------------------------------------------------------
                             55 	.area XSEG    (XDATA)
                             56 ;--------------------------------------------------------
                             57 ; absolute external ram data
                             58 ;--------------------------------------------------------
                             59 	.area XABS    (ABS,XDATA)
                             60 ;--------------------------------------------------------
                             61 ; external initialized ram data
                             62 ;--------------------------------------------------------
                             63 	.area XISEG   (XDATA)
                             64 	.area HOME    (CODE)
                             65 	.area GSINIT0 (CODE)
                             66 	.area GSINIT1 (CODE)
                             67 	.area GSINIT2 (CODE)
                             68 	.area GSINIT3 (CODE)
                             69 	.area GSINIT4 (CODE)
                             70 	.area GSINIT5 (CODE)
                             71 	.area GSINIT  (CODE)
                             72 	.area GSFINAL (CODE)
                             73 	.area CSEG    (CODE)
                             74 ;--------------------------------------------------------
                             75 ; global & static initialisations
                             76 ;--------------------------------------------------------
                             77 	.area HOME    (CODE)
                             78 	.area GSINIT  (CODE)
                             79 	.area GSFINAL (CODE)
                             80 	.area GSINIT  (CODE)
                             81 ;--------------------------------------------------------
                             82 ; Home
                             83 ;--------------------------------------------------------
                             84 	.area HOME    (CODE)
                             85 	.area HOME    (CODE)
                             86 ;--------------------------------------------------------
                             87 ; code
                             88 ;--------------------------------------------------------
                             89 	.area CSEG    (CODE)
                             90 ;------------------------------------------------------------
                             91 ;Allocation info for local variables in function 'dummy'
                             92 ;------------------------------------------------------------
                             93 ;------------------------------------------------------------
                             94 ;	_fs2slong.c:37: static void dummy(void) __naked
                             95 ;	-----------------------------------------
                             96 ;	 function dummy
                             97 ;	-----------------------------------------
   0000                      98 _dummy:
                             99 ;	naked function: no prologue.
                            100 ;	_fs2slong.c:102: __endasm;
                            101 	
                            102 	 .globl ___fs2slong
   0000                     103 	___fs2slong:
   0000 12s00r00            104 	 lcall fsgetarg
   0003 C3                  105 	 clr c
   0004 74 9E               106 	 mov a, #158
   0006 95 82               107 	 subb a, dpl
   0008 40 39               108 	 jc fs2slong_maxval
   000A                     109 	fs2slong_int_ok:
   000A 79 00               110 	 mov r1, #0
   000C 12s00r00            111 	 lcall fs_rshift_a
   000F 30 D1 26            112 	 jnb psw.1, fs2slong_pos
   0012                     113 	fs2slong_neg:
   0012 E9                  114 	 mov a, r1
   0013 F4                  115 	 cpl a
   0014 24 01               116 	 add a, #1
   0016 F5 82               117 	 mov dpl, a
   0018 EA                  118 	 mov a, r2
   0019 F4                  119 	 cpl a
   001A 34 00               120 	 addc a, #0
   001C F5 83               121 	 mov dph, a
   001E EB                  122 	 mov a, r3
   001F F4                  123 	 cpl a
   0020 34 00               124 	 addc a, #0
   0022 F5 F0               125 	 mov b, a
   0024 EC                  126 	 mov a, r4
   0025 F4                  127 	 cpl a
   0026 34 00               128 	 addc a, #0
                            129 	
   0028 70 0A               130 	 jnz fs2slong_not_zero
   002A E5 82               131 	 mov a, dpl
   002C 45 83               132 	 orl a, dph
   002E 45 F0               133 	 orl a, b
   0030 70 01               134 	 jnz fs2slong_clr_a
   0032 22                  135 	 ret
   0033                     136 	fs2slong_clr_a:
   0033 E4                  137 	 clr a
   0034                     138 	fs2slong_not_zero:
   0034 30 E7 0F            139 	 jnb acc.7, fs2slong_maxval_neg
   0037 22                  140 	 ret
   0038                     141 	fs2slong_pos:
   0038 EC                  142 	 mov a, r4
   0039 20 E7 14            143 	 jb acc.7, fs2slong_maxval_pos
   003C 89 82               144 	 mov dpl, r1
   003E 8A 83               145 	 mov dph, r2
   0040 8B F0               146 	 mov b, r3
   0042 22                  147 	 ret
   0043                     148 	fs2slong_maxval:
   0043 30 D1 0A            149 	 jnb psw.1, fs2slong_maxval_pos
   0046                     150 	fs2slong_maxval_neg:
   0046 E4                  151 	 clr a
   0047 F5 82               152 	 mov dpl, a
   0049 F5 83               153 	 mov dph, a
   004B F5 F0               154 	 mov b, a
   004D 74 80               155 	 mov a, #0x80
   004F 22                  156 	 ret
   0050                     157 	fs2slong_maxval_pos:
   0050 74 FF               158 	 mov a, #0xFF
   0052 F5 82               159 	 mov dpl, a
   0054 F5 83               160 	 mov dph, a
   0056 F5 F0               161 	 mov b, a
   0058 74 7F               162 	 mov a, #0x7F
   005A 22                  163 	 ret
                            164 	 
                            165 ;	naked function: no epilogue.
                            166 	.area CSEG    (CODE)
                            167 	.area CONST   (CODE)
                            168 	.area XINIT   (CODE)
                            169 	.area CABS    (ABS,CODE)
