                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:26 2015
                              5 ;--------------------------------------------------------
                              6 	.module _memcpy
                              7 	.optsdcc -mmcs51 --model-medium
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _memcpy_PARM_3
                             13 	.globl _memcpy_PARM_2
                             14 	.globl _memcpy
                             15 ;--------------------------------------------------------
                             16 ; special function registers
                             17 ;--------------------------------------------------------
                             18 	.area RSEG    (ABS,DATA)
   0000                      19 	.org 0x0000
                             20 ;--------------------------------------------------------
                             21 ; special function bits
                             22 ;--------------------------------------------------------
                             23 	.area RSEG    (ABS,DATA)
   0000                      24 	.org 0x0000
                             25 ;--------------------------------------------------------
                             26 ; overlayable register banks
                             27 ;--------------------------------------------------------
                             28 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      29 	.ds 8
                             30 ;--------------------------------------------------------
                             31 ; internal ram data
                             32 ;--------------------------------------------------------
                             33 	.area DSEG    (DATA)
                             34 ;--------------------------------------------------------
                             35 ; overlayable items in internal ram 
                             36 ;--------------------------------------------------------
                             37 	.area OSEG    (OVR,DATA)
                             38 ;--------------------------------------------------------
                             39 ; indirectly addressable internal ram data
                             40 ;--------------------------------------------------------
                             41 	.area ISEG    (DATA)
                             42 ;--------------------------------------------------------
                             43 ; absolute internal ram data
                             44 ;--------------------------------------------------------
                             45 	.area IABS    (ABS,DATA)
                             46 	.area IABS    (ABS,DATA)
                             47 ;--------------------------------------------------------
                             48 ; bit data
                             49 ;--------------------------------------------------------
                             50 	.area BSEG    (BIT)
                             51 ;--------------------------------------------------------
                             52 ; paged external ram data
                             53 ;--------------------------------------------------------
                             54 	.area PSEG    (PAG,XDATA)
   0000                      55 _memcpy_PARM_2:
   0000                      56 	.ds 3
   0003                      57 _memcpy_PARM_3:
   0003                      58 	.ds 2
   0005                      59 _memcpy_ret_1_1:
   0005                      60 	.ds 3
   0008                      61 _memcpy_d_1_1:
   0008                      62 	.ds 3
   000B                      63 _memcpy_s_1_1:
   000B                      64 	.ds 3
                             65 ;--------------------------------------------------------
                             66 ; external ram data
                             67 ;--------------------------------------------------------
                             68 	.area XSEG    (XDATA)
                             69 ;--------------------------------------------------------
                             70 ; absolute external ram data
                             71 ;--------------------------------------------------------
                             72 	.area XABS    (ABS,XDATA)
                             73 ;--------------------------------------------------------
                             74 ; external initialized ram data
                             75 ;--------------------------------------------------------
                             76 	.area XISEG   (XDATA)
                             77 	.area HOME    (CODE)
                             78 	.area GSINIT0 (CODE)
                             79 	.area GSINIT1 (CODE)
                             80 	.area GSINIT2 (CODE)
                             81 	.area GSINIT3 (CODE)
                             82 	.area GSINIT4 (CODE)
                             83 	.area GSINIT5 (CODE)
                             84 	.area GSINIT  (CODE)
                             85 	.area GSFINAL (CODE)
                             86 	.area CSEG    (CODE)
                             87 ;--------------------------------------------------------
                             88 ; global & static initialisations
                             89 ;--------------------------------------------------------
                             90 	.area HOME    (CODE)
                             91 	.area GSINIT  (CODE)
                             92 	.area GSFINAL (CODE)
                             93 	.area GSINIT  (CODE)
                             94 ;--------------------------------------------------------
                             95 ; Home
                             96 ;--------------------------------------------------------
                             97 	.area HOME    (CODE)
                             98 	.area HOME    (CODE)
                             99 ;--------------------------------------------------------
                            100 ; code
                            101 ;--------------------------------------------------------
                            102 	.area CSEG    (CODE)
                            103 ;------------------------------------------------------------
                            104 ;Allocation info for local variables in function 'memcpy'
                            105 ;------------------------------------------------------------
                            106 ;------------------------------------------------------------
                            107 ;	_memcpy.c:36: void * memcpy (
                            108 ;	-----------------------------------------
                            109 ;	 function memcpy
                            110 ;	-----------------------------------------
   0000                     111 _memcpy:
                    0002    112 	ar2 = 0x02
                    0003    113 	ar3 = 0x03
                    0004    114 	ar4 = 0x04
                    0005    115 	ar5 = 0x05
                    0006    116 	ar6 = 0x06
                    0007    117 	ar7 = 0x07
                    0000    118 	ar0 = 0x00
                    0001    119 	ar1 = 0x01
   0000 AA 82               120 	mov	r2,dpl
   0002 AB 83               121 	mov	r3,dph
   0004 AC F0               122 	mov	r4,b
                            123 ;	_memcpy.c:42: void * ret = dst;
   0006 78r05               124 	mov	r0,#_memcpy_ret_1_1
   0008 EA                  125 	mov	a,r2
   0009 F2                  126 	movx	@r0,a
   000A 08                  127 	inc	r0
   000B EB                  128 	mov	a,r3
   000C F2                  129 	movx	@r0,a
   000D 08                  130 	inc	r0
   000E EC                  131 	mov	a,r4
   000F F2                  132 	movx	@r0,a
                            133 ;	_memcpy.c:44: char * s = src;
   0010 78r00               134 	mov	r0,#_memcpy_PARM_2
   0012 E2                  135 	movx	a,@r0
   0013 FD                  136 	mov	r5,a
   0014 08                  137 	inc	r0
   0015 E2                  138 	movx	a,@r0
   0016 FE                  139 	mov	r6,a
   0017 08                  140 	inc	r0
   0018 E2                  141 	movx	a,@r0
   0019 FF                  142 	mov	r7,a
                            143 ;	_memcpy.c:49: while (acount--) {
   001A 78r0B               144 	mov	r0,#_memcpy_s_1_1
   001C ED                  145 	mov	a,r5
   001D F2                  146 	movx	@r0,a
   001E 08                  147 	inc	r0
   001F EE                  148 	mov	a,r6
   0020 F2                  149 	movx	@r0,a
   0021 08                  150 	inc	r0
   0022 EF                  151 	mov	a,r7
   0023 F2                  152 	movx	@r0,a
   0024 78r08               153 	mov	r0,#_memcpy_d_1_1
   0026 EA                  154 	mov	a,r2
   0027 F2                  155 	movx	@r0,a
   0028 08                  156 	inc	r0
   0029 EB                  157 	mov	a,r3
   002A F2                  158 	movx	@r0,a
   002B 08                  159 	inc	r0
   002C EC                  160 	mov	a,r4
   002D F2                  161 	movx	@r0,a
   002E 78r03               162 	mov	r0,#_memcpy_PARM_3
   0030 E2                  163 	movx	a,@r0
   0031 FD                  164 	mov	r5,a
   0032 08                  165 	inc	r0
   0033 E2                  166 	movx	a,@r0
   0034 FE                  167 	mov	r6,a
   0035                     168 00101$:
   0035 8D 07               169 	mov	ar7,r5
   0037 8E 02               170 	mov	ar2,r6
   0039 1D                  171 	dec	r5
   003A BD FF 01            172 	cjne	r5,#0xff,00109$
   003D 1E                  173 	dec	r6
   003E                     174 00109$:
   003E EF                  175 	mov	a,r7
   003F 4A                  176 	orl	a,r2
   0040 60 38               177 	jz	00103$
                            178 ;	_memcpy.c:50: *d++ = *s++;
   0042 78r0B               179 	mov	r0,#_memcpy_s_1_1
   0044 E2                  180 	movx	a,@r0
   0045 F5 82               181 	mov	dpl,a
   0047 08                  182 	inc	r0
   0048 E2                  183 	movx	a,@r0
   0049 F5 83               184 	mov	dph,a
   004B 08                  185 	inc	r0
   004C E2                  186 	movx	a,@r0
   004D F5 F0               187 	mov	b,a
   004F 12s00r00            188 	lcall	__gptrget
   0052 FA                  189 	mov	r2,a
   0053 A3                  190 	inc	dptr
   0054 18                  191 	dec	r0
   0055 18                  192 	dec	r0
   0056 E5 82               193 	mov	a,dpl
   0058 F2                  194 	movx	@r0,a
   0059 08                  195 	inc	r0
   005A E5 83               196 	mov	a,dph
   005C F2                  197 	movx	@r0,a
   005D 78r08               198 	mov	r0,#_memcpy_d_1_1
   005F E2                  199 	movx	a,@r0
   0060 F5 82               200 	mov	dpl,a
   0062 08                  201 	inc	r0
   0063 E2                  202 	movx	a,@r0
   0064 F5 83               203 	mov	dph,a
   0066 08                  204 	inc	r0
   0067 E2                  205 	movx	a,@r0
   0068 F5 F0               206 	mov	b,a
   006A EA                  207 	mov	a,r2
   006B 12s00r00            208 	lcall	__gptrput
   006E A3                  209 	inc	dptr
   006F 18                  210 	dec	r0
   0070 18                  211 	dec	r0
   0071 E5 82               212 	mov	a,dpl
   0073 F2                  213 	movx	@r0,a
   0074 08                  214 	inc	r0
   0075 E5 83               215 	mov	a,dph
   0077 F2                  216 	movx	@r0,a
   0078 80 BB               217 	sjmp	00101$
   007A                     218 00103$:
                            219 ;	_memcpy.c:53: return(ret);
   007A 78r05               220 	mov	r0,#_memcpy_ret_1_1
   007C E2                  221 	movx	a,@r0
   007D F5 82               222 	mov	dpl,a
   007F 08                  223 	inc	r0
   0080 E2                  224 	movx	a,@r0
   0081 F5 83               225 	mov	dph,a
   0083 08                  226 	inc	r0
   0084 E2                  227 	movx	a,@r0
   0085 F5 F0               228 	mov	b,a
   0087 22                  229 	ret
                            230 	.area CSEG    (CODE)
                            231 	.area CONST   (CODE)
                            232 	.area XINIT   (CODE)
                            233 	.area CABS    (ABS,CODE)
