                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:20 2015
                              5 ;--------------------------------------------------------
                              6 	.module _realloc
                              7 	.optsdcc -mds400 --model-flat24
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; CPU specific extensions
                             11 ;--------------------------------------------------------
                             12 .flat24 on		; 24 bit flat addressing
                    0084     13 dpl1	=	0x84
                    0085     14 dph1	=	0x85
                    0086     15 dps	=	0x86
                    0093     16 dpx	=	0x93
                    0095     17 dpx1	=	0x95
                    009B     18 esp	=	0x9B
                    009C     19 ap	=	0x9C
                    009C     20 _ap	=	0x9C
                    00D1     21 mcnt0	=	0xD1
                    00D2     22 mcnt1	=	0xD2
                    00D3     23 ma	=	0xD3
                    00D4     24 mb	=	0xD4
                    00D5     25 mc	=	0xD5
                    00D1     26 F1	=	0xD1	; user flag
                             27 ;--------------------------------------------------------
                             28 ; Public variables in this module
                             29 ;--------------------------------------------------------
                             30 	.globl _realloc_PARM_2
                             31 	.globl _realloc
                             32 ;--------------------------------------------------------
                             33 ; special function registers
                             34 ;--------------------------------------------------------
                             35 ;--------------------------------------------------------
                             36 ; special function bits
                             37 ;--------------------------------------------------------
                             38 ;--------------------------------------------------------
                             39 ; overlayable register banks
                             40 ;--------------------------------------------------------
                             41 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      42 	.ds 8
                             43 	.area REG_BANK_3	(REL,OVR,DATA)
   0000                      44 	.ds 8
                             45 ;--------------------------------------------------------
                             46 ; internal ram data
                             47 ;--------------------------------------------------------
                             48 	.area DSEG    (DATA)
                             49 ;--------------------------------------------------------
                             50 ; overlayable items in internal ram 
                             51 ;--------------------------------------------------------
                             52 	.area OSEG    (OVR,DATA)
                             53 ;--------------------------------------------------------
                             54 ; indirectly addressable internal ram data
                             55 ;--------------------------------------------------------
                             56 	.area ISEG    (DATA)
                             57 ;--------------------------------------------------------
                             58 ; absolute internal ram data
                             59 ;--------------------------------------------------------
                             60 	.area IABS    (ABS,DATA)
                             61 	.area IABS    (ABS,DATA)
                             62 ;--------------------------------------------------------
                             63 ; bit data
                             64 ;--------------------------------------------------------
                             65 	.area BSEG    (BIT)
                             66 ;--------------------------------------------------------
                             67 ; paged external ram data
                             68 ;--------------------------------------------------------
                             69 	.area PSEG    (PAG,XDATA)
                             70 ;--------------------------------------------------------
                             71 ; external ram data
                             72 ;--------------------------------------------------------
                             73 	.area XSEG    (XDATA)
   0000                      74 _realloc_PARM_2:
   0000                      75 	.ds 2
   0002                      76 _realloc_p_1_1:
   0002                      77 	.ds 4
   0006                      78 _realloc_pthis_1_1:
   0006                      79 	.ds 3
   0009                      80 _realloc_pnew_1_1:
   0009                      81 	.ds 3
   000C                      82 _realloc_sloc0_1_0:
   000C                      83 	.ds 4
                             84 ;--------------------------------------------------------
                             85 ; absolute external ram data
                             86 ;--------------------------------------------------------
                             87 	.area XABS    (ABS,XDATA)
                             88 ;--------------------------------------------------------
                             89 ; external initialized ram data
                             90 ;--------------------------------------------------------
                             91 	.area XISEG   (XDATA)
                             92 ;--------------------------------------------------------
                             93 ; global & static initialisations
                             94 ;--------------------------------------------------------
                             95 	.area HOME    (CODE)
                             96 	.area GSINIT  (CODE)
                             97 	.area GSFINAL (CODE)
                             98 	.area GSINIT  (CODE)
                             99 ;--------------------------------------------------------
                            100 ; Home
                            101 ;--------------------------------------------------------
                            102 	.area HOME    (CODE)
                            103 	.area HOME    (CODE)
                            104 ;--------------------------------------------------------
                            105 ; code
                            106 ;--------------------------------------------------------
                            107 	.area CSEG    (CODE)
                            108 ;------------------------------------------------------------
                            109 ;Allocation info for local variables in function 'realloc'
                            110 ;------------------------------------------------------------
                            111 ;size                      Allocated with name '_realloc_PARM_2'
                            112 ;p                         Allocated with name '_realloc_p_1_1'
                            113 ;pthis                     Allocated with name '_realloc_pthis_1_1'
                            114 ;pnew                      Allocated with name '_realloc_pnew_1_1'
                            115 ;ret                       Allocated to registers r2 r3 r4 
                            116 ;sloc0                     Allocated with name '_realloc_sloc0_1_0'
                            117 ;------------------------------------------------------------
                            118 ;	_realloc.c:84: void __xdata * realloc (void * p, size_t size)
                            119 ;	-----------------------------------------
                            120 ;	 function realloc
                            121 ;	-----------------------------------------
   0000                     122 _realloc:
                    0002    123 	ar2 = 0x02
                    0003    124 	ar3 = 0x03
                    0004    125 	ar4 = 0x04
                    0005    126 	ar5 = 0x05
                    0006    127 	ar6 = 0x06
                    0007    128 	ar7 = 0x07
                    0000    129 	ar0 = 0x00
                    0001    130 	ar1 = 0x01
   0000 75 86 01            131 	mov     dps, #1
   0003 90s00r00r02         132 	mov     dptr, #_realloc_p_1_1
   0007 E5 82               133 	mov	a,dpl
   0009 F0                  134 	movx	@dptr,a
   000A A3                  135 	inc	dptr
   000B E5 83               136 	mov	a,dph
   000D F0                  137 	movx	@dptr,a
   000E A3                  138 	inc	dptr
   000F E5 93               139 	mov	a,dpx
   0011 F0                  140 	movx	@dptr,a
   0012 A3                  141 	inc	dptr
   0013 E5 F0               142 	mov	a,b
   0015 F0                  143 	movx	@dptr,a
   0016 75 86 00            144 	mov	dps,#0
                            145 ;	_realloc.c:92: pthis = _sdcc_find_memheader(p);
   0019 90s00r00r02         146 	mov	dptr,#_realloc_p_1_1
                            147 ;	genAssign: resultIsFar = FALSE
   001D E0                  148 	movx	a,@dptr
   001E FE                  149 	mov	r6,a
   001F A3                  150 	inc	dptr
   0020 E0                  151 	movx	a,@dptr
   0021 FF                  152 	mov	r7,a
   0022 A3                  153 	inc	dptr
   0023 E0                  154 	movx	a,@dptr
   0024 F8                  155 	mov	r0,a
   0025 A3                  156 	inc	dptr
   0026 E0                  157 	movx	a,@dptr
   0027 F9                  158 	mov	r1,a
   0028 8E 82               159 	mov	dpl,r6
   002A 8F 83               160 	mov	dph,r7
   002C 88 93               161 	mov	dpx,r0
   002E 12s00r00r00         162 	lcall	__sdcc_find_memheader
   0032 AE 82               163 	mov	r6,dpl
   0034 AF 83               164 	mov	r7,dph
   0036 A8 93               165 	mov	r0,dpx
                            166 ;	genAssign: resultIsFar = TRUE
   0038 90s00r00r06         167 	mov	dptr,#_realloc_pthis_1_1
   003C EE                  168 	mov	a,r6
   003D F0                  169 	movx	@dptr,a
   003E A3                  170 	inc	dptr
   003F EF                  171 	mov	a,r7
   0040 F0                  172 	movx	@dptr,a
   0041 A3                  173 	inc	dptr
   0042 E8                  174 	mov	a,r0
   0043 F0                  175 	movx	@dptr,a
                            176 ;	_realloc.c:93: if (pthis)
   0044 90s00r00r06         177 	mov	dptr,#_realloc_pthis_1_1
   0048 E0                  178 	movx	a,@dptr
   0049 F5 F0               179 	mov	b,a
   004B A3                  180 	inc	dptr
   004C E0                  181 	movx	a,@dptr
   004D 42 F0               182 	orl	b,a
   004F A3                  183 	inc	dptr
   0050 E0                  184 	movx	a,@dptr
   0051 45 F0               185 	orl	a,b
   0053 70 04               186 	jnz	00124$
   0055 02s00r03r21         187 	ljmp	00114$
   0059                     188 00124$:
                            189 ;	_realloc.c:95: if (size > (0xFFFF-HEADER_SIZE))
   0059 90s00r00r00         190 	mov	dptr,#_realloc_PARM_2
   005D C3                  191 	clr	c
   005E 74 FA               192 	mov	a,#0xFA
   0060 C5 F0               193 	xch	a, b
   0062 E0                  194 	movx	a,@dptr
   0063 C5 F0               195 	xch	a, b
   0065 95 F0               196 	subb	a,b
   0067 74 FF               197 	mov	a,#0xFF
   0069 C5 F0               198 	xch	a, b
   006B A3                  199 	inc	dptr
   006C E0                  200 	movx	a,@dptr
   006D C5 F0               201 	xch	a, b
   006F 95 F0               202 	subb	a,b
   0071 50 0A               203 	jnc  00111$
   0073                     204 00125$:
                            205 ;	_realloc.c:97: ret = (void __xdata *) NULL; //To prevent overflow in next line
                            206 ;	genAssign: resultIsFar = TRUE
   0073 7A 00               207 	mov	r2,#0x00
   0075 7B 00               208 	mov	r3,#0x00
   0077 7C 00               209 	mov	r4,#0x00
   0079 02s00r03r41         210 	ljmp	00115$
   007D                     211 00111$:
                            212 ;	_realloc.c:101: size += HEADER_SIZE; //We need a memory for header too
   007D 90s00r00r00         213 	mov	dptr,#_realloc_PARM_2
   0081 E0                  214 	movx	a,@dptr
   0082 24 05               215 	add	a,#0x05
   0084 F0                  216 	movx	@dptr,a
   0085 A3                  217 	inc	dptr
   0086 E0                  218 	movx	a,@dptr
   0087 34 00               219 	addc	a,#0x00
   0089 F0                  220 	movx	@dptr,a
                            221 ;	_realloc.c:103: if ((((unsigned int)pthis->next) - ((unsigned int)pthis)) >= size)
   008A 90s00r00r06         222 	mov	dptr,#_realloc_pthis_1_1
   008E E0                  223 	movx	a,@dptr
   008F C0 E0               224 	push	acc
   0091 A3                  225 	inc	dptr
   0092 E0                  226 	movx	a,@dptr
   0093 C0 E0               227 	push	acc
   0095 A3                  228 	inc	dptr
   0096 E0                  229 	movx	a,@dptr
   0097 F5 93               230 	mov	dpx,a
   0099 D0 83               231 	pop	dph
   009B D0 82               232 	pop	dpl
   009D E0                  233 	movx	a,@dptr
   009E A3                  234 	inc	dptr
   009F F9                  235 	mov	r1,a
   00A0 E0                  236 	movx	a,@dptr
   00A1 A3                  237 	inc	dptr
   00A2 FA                  238 	mov	r2,a
   00A3 E0                  239 	movx	a,@dptr
   00A4 FB                  240 	mov	r3,a
   00A5 89 04               241 	mov	ar4,r1
   00A7 8A 05               242 	mov	ar5,r2
   00A9 90s00r00r06         243 	mov	dptr,#_realloc_pthis_1_1
                            244 ;	genAssign: resultIsFar = FALSE
   00AD E0                  245 	movx	a,@dptr
   00AE FE                  246 	mov	r6,a
   00AF A3                  247 	inc	dptr
   00B0 E0                  248 	movx	a,@dptr
   00B1 FF                  249 	mov	r7,a
   00B2 A3                  250 	inc	dptr
   00B3 E0                  251 	movx	a,@dptr
   00B4 F8                  252 	mov	r0,a
   00B5 C3                  253 	clr	c
   00B6 EC                  254 	mov	a,r4
   00B7 9E                  255 	subb	a,r6
   00B8 FC                  256 	mov	r4,a
   00B9 ED                  257 	mov	a,r5
   00BA 9F                  258 	subb	a,r7
   00BB FD                  259 	mov	r5,a
   00BC 90s00r00r00         260 	mov	dptr,#_realloc_PARM_2
   00C0 C3                  261 	clr	c
   00C1 EC                  262 	mov	a,r4
   00C2 C5 F0               263 	xch	a, b
   00C4 E0                  264 	movx	a,@dptr
   00C5 C5 F0               265 	xch	a, b
   00C7 95 F0               266 	subb	a,b
   00C9 ED                  267 	mov	a,r5
   00CA C5 F0               268 	xch	a, b
   00CC A3                  269 	inc	dptr
   00CD E0                  270 	movx	a,@dptr
   00CE C5 F0               271 	xch	a, b
   00D0 95 F0               272 	subb	a,b
   00D2 40 3E               273 	jc   00108$
   00D4                     274 00126$:
                            275 ;	_realloc.c:105: pthis->len = size;
   00D4 90s00r00r06         276 	mov	dptr,#_realloc_pthis_1_1
   00D8 E0                  277 	movx	a,@dptr
   00D9 24 03               278 	add	a,#0x03
   00DB F5 84               279 	mov	dpl1,a
   00DD A3                  280 	inc	dptr
   00DE E0                  281 	movx	a,@dptr
   00DF 34 00               282 	addc	a,#0x00
   00E1 F5 85               283 	mov	dph1,a
   00E3 A3                  284 	inc	dptr
   00E4 E0                  285 	movx	a,@dptr
   00E5 34 00               286 	addc	a,#0x00
   00E7 F5 95               287 	mov	dpx1,a
   00E9 90s00r00r00         288 	mov	dptr,#_realloc_PARM_2
   00ED E0                  289 	movx	a,@dptr
   00EE 75 86 01            290 	mov	dps,#1
   00F1 F0                  291 	movx	@dptr,a
   00F2 A3                  292 	inc	dptr
   00F3 75 86 00            293 	mov	dps,#0
   00F6 A3                  294 	inc	dptr
   00F7 E0                  295 	movx	a,@dptr
   00F8 75 86 01            296 	mov	dps,#1
   00FB F0                  297 	movx	@dptr,a
   00FC 75 86 00            298 	mov	dps,#0
                            299 ;	_realloc.c:106: ret = p;
   00FF 90s00r00r02         300 	mov	dptr,#_realloc_p_1_1
                            301 ;	genAssign: resultIsFar = FALSE
   0103 E0                  302 	movx	a,@dptr
   0104 FA                  303 	mov	r2,a
   0105 A3                  304 	inc	dptr
   0106 E0                  305 	movx	a,@dptr
   0107 FB                  306 	mov	r3,a
   0108 A3                  307 	inc	dptr
   0109 E0                  308 	movx	a,@dptr
   010A FC                  309 	mov	r4,a
   010B A3                  310 	inc	dptr
   010C E0                  311 	movx	a,@dptr
   010D FD                  312 	mov	r5,a
   010E 02s00r03r41         313 	ljmp	00115$
   0112                     314 00108$:
                            315 ;	_realloc.c:110: if ((_sdcc_prev_memheader) &&
   0112 90s00r00r00         316 	mov	dptr,#__sdcc_prev_memheader
                            317 ;	genAssign: resultIsFar = FALSE
   0116 E0                  318 	movx	a,@dptr
   0117 F5 84               319 	mov	dpl1,a
   0119 A3                  320 	inc	dptr
   011A E0                  321 	movx	a,@dptr
   011B F5 85               322 	mov	dph1,a
   011D A3                  323 	inc	dptr
   011E E0                  324 	movx	a,@dptr
   011F F5 95               325 	mov	dpx1,a
   0121 E5 84               326 	mov	a,dpl1
   0123 45 85               327 	orl	a,dph1
   0125 45 95               328 	orl	a,dpx1
   0127 70 04               329 	jnz	00127$
   0129 02s00r02r5A         330 	ljmp	00104$
   012D                     331 00127$:
                            332 ;	_realloc.c:111: ((((unsigned int)pthis->next) -
                            333 ;	genAssign: resultIsFar = FALSE
                            334 ;	_realloc.c:112: ((unsigned int)_sdcc_prev_memheader) -
                            335 ;	genAssign: resultIsFar = FALSE
   012D AB 84               336 	mov	r3,dpl1
   012F AF 85               337 	mov	r7,dph1
   0131 A8 95               338 	mov	r0,dpx1
   0133 C3                  339 	clr	c
   0134 E9                  340 	mov	a,r1
   0135 9B                  341 	subb	a,r3
   0136 F9                  342 	mov	r1,a
   0137 EA                  343 	mov	a,r2
   0138 9F                  344 	subb	a,r7
   0139 FA                  345 	mov	r2,a
                            346 ;	_realloc.c:113: _sdcc_prev_memheader->len) >= size))
   013A 85 95 93            347 	mov	dpx,dpx1
   013D 85 85 83            348 	mov	dph,dph1
   0140 85 84 82            349 	mov	dpl,dpl1
   0143 A3                  350 	inc	dptr
   0144 A3                  351 	inc	dptr
   0145 A3                  352 	inc	dptr
   0146 E0                  353 	movx	a,@dptr
   0147 A3                  354 	inc	dptr
   0148 FB                  355 	mov	r3,a
   0149 E0                  356 	movx	a,@dptr
   014A FF                  357 	mov	r7,a
   014B C3                  358 	clr	c
   014C E9                  359 	mov	a,r1
   014D 9B                  360 	subb	a,r3
   014E F9                  361 	mov	r1,a
   014F EA                  362 	mov	a,r2
   0150 9F                  363 	subb	a,r7
   0151 FA                  364 	mov	r2,a
   0152 90s00r00r00         365 	mov	dptr,#_realloc_PARM_2
   0156 C3                  366 	clr	c
   0157 E9                  367 	mov	a,r1
   0158 C5 F0               368 	xch	a, b
   015A E0                  369 	movx	a,@dptr
   015B C5 F0               370 	xch	a, b
   015D 95 F0               371 	subb	a,b
   015F EA                  372 	mov	a,r2
   0160 C5 F0               373 	xch	a, b
   0162 A3                  374 	inc	dptr
   0163 E0                  375 	movx	a,@dptr
   0164 C5 F0               376 	xch	a, b
   0166 95 F0               377 	subb	a,b
   0168 50 04               378 	jnc	00128$
   016A 02s00r02r5A         379 	ljmp	00104$
   016E                     380 00128$:
                            381 ;	_realloc.c:115: pnew = (MEMHEADER __xdata * )((char __xdata *)_sdcc_prev_memheader + _sdcc_prev_memheader->len);
   016E 90s00r00r09         382 	mov	dptr,#_realloc_pnew_1_1
   0172 EB                  383 	mov	a,r3
   0173 25 84               384 	add	a,dpl1
   0175 F0                  385 	movx	@dptr,a
   0176 EF                  386 	mov	a,r7
   0177 35 85               387 	addc	a,dph1
   0179 A3                  388 	inc	dptr
   017A F0                  389 	movx	@dptr,a
   017B E4                  390 	clr	a
   017C 35 95               391 	addc	a,dpx1
   017E A3                  392 	inc	dptr
   017F F0                  393 	movx	@dptr,a
                            394 ;	_realloc.c:116: _sdcc_prev_memheader->next = pnew;
   0180 90s00r00r09         395 	mov	dptr,#_realloc_pnew_1_1
   0184 E0                  396 	movx	a,@dptr
   0185 75 86 01            397 	mov	dps,#1
   0188 F0                  398 	movx	@dptr,a
   0189 A3                  399 	inc	dptr
   018A 75 86 00            400 	mov	dps,#0
   018D A3                  401 	inc	dptr
   018E E0                  402 	movx	a,@dptr
   018F 75 86 01            403 	mov	dps,#1
   0192 F0                  404 	movx	@dptr,a
   0193 A3                  405 	inc	dptr
   0194 75 86 00            406 	mov	dps,#0
   0197 A3                  407 	inc	dptr
   0198 E0                  408 	movx	a,@dptr
   0199 75 86 01            409 	mov	dps,#1
   019C F0                  410 	movx	@dptr,a
   019D 75 86 00            411 	mov	dps,#0
                            412 ;	_realloc.c:122: memmove(pnew, pthis, pthis->len);
   01A0 90s00r00r09         413 	mov	dptr,#_realloc_pnew_1_1
                            414 ;	genAssign: resultIsFar = FALSE
   01A4 E0                  415 	movx	a,@dptr
   01A5 FC                  416 	mov	r4,a
   01A6 A3                  417 	inc	dptr
   01A7 E0                  418 	movx	a,@dptr
   01A8 FD                  419 	mov	r5,a
   01A9 A3                  420 	inc	dptr
   01AA E0                  421 	movx	a,@dptr
   01AB FE                  422 	mov	r6,a
   01AC 78 00               423 	mov	r0,#0x00
   01AE 90s00r00r06         424 	mov	dptr,#_realloc_pthis_1_1
                            425 ;	genAssign: resultIsFar = FALSE
   01B2 E0                  426 	movx	a,@dptr
   01B3 F9                  427 	mov	r1,a
   01B4 A3                  428 	inc	dptr
   01B5 E0                  429 	movx	a,@dptr
   01B6 FA                  430 	mov	r2,a
   01B7 A3                  431 	inc	dptr
   01B8 E0                  432 	movx	a,@dptr
   01B9 FB                  433 	mov	r3,a
   01BA 90s00r00r0C         434 	mov	dptr,#_realloc_sloc0_1_0
   01BE E9                  435 	mov	a,r1
   01BF F0                  436 	movx	@dptr,a
   01C0 A3                  437 	inc	dptr
   01C1 EA                  438 	mov	a,r2
   01C2 F0                  439 	movx	@dptr,a
   01C3 A3                  440 	inc	dptr
   01C4 EB                  441 	mov	a,r3
   01C5 F0                  442 	movx	@dptr,a
   01C6 A3                  443 	inc	dptr
   01C7 E4                  444 	clr  a
   01C8 F0                  445 	movx	@dptr,a
   01C9 90s00r00r06         446 	mov	dptr,#_realloc_pthis_1_1
   01CD E0                  447 	movx	a,@dptr
   01CE 24 03               448 	add	a,#0x03
   01D0 F5 84               449 	mov	dpl1,a
   01D2 A3                  450 	inc	dptr
   01D3 E0                  451 	movx	a,@dptr
   01D4 34 00               452 	addc	a,#0x00
   01D6 F5 85               453 	mov	dph1,a
   01D8 A3                  454 	inc	dptr
   01D9 E0                  455 	movx	a,@dptr
   01DA 34 00               456 	addc	a,#0x00
   01DC F5 95               457 	mov	dpx1,a
   01DE 05 86               458 	inc	dps
   01E0 E0                  459 	movx	a,@dptr
   01E1 A3                  460 	inc	dptr
   01E2 FA                  461 	mov	r2,a
   01E3 E0                  462 	movx	a,@dptr
   01E4 FB                  463 	mov	r3,a
   01E5 75 86 00            464 	mov	dps,#0
   01E8 90s00r00r0C         465 	mov	dptr,#_realloc_sloc0_1_0
                            466 ;	genAssign: resultIsFar = TRUE
   01EC 75 86 21            467 	mov	dps,#0x21
   01EF 90s00r00r00         468 	mov	dptr,#_memmove_PARM_2
   01F3 E0                  469 	movx	a,@dptr
   01F4 F0                  470 	movx	@dptr,a
   01F5 A3                  471 	inc	dptr
   01F6 A3                  472 	inc	dptr
   01F7 E0                  473 	movx	a,@dptr
   01F8 F0                  474 	movx	@dptr,a
   01F9 A3                  475 	inc	dptr
   01FA A3                  476 	inc	dptr
   01FB E0                  477 	movx	a,@dptr
   01FC F0                  478 	movx	@dptr,a
   01FD A3                  479 	inc	dptr
   01FE A3                  480 	inc	dptr
   01FF E0                  481 	movx	a,@dptr
   0200 F0                  482 	movx	@dptr,a
   0201 75 86 00            483 	mov	dps,#0
                            484 ;	genAssign: resultIsFar = TRUE
   0204 90s00r00r00         485 	mov	dptr,#_memmove_PARM_3
   0208 EA                  486 	mov	a,r2
   0209 F0                  487 	movx	@dptr,a
   020A A3                  488 	inc	dptr
   020B EB                  489 	mov	a,r3
   020C F0                  490 	movx	@dptr,a
   020D 8C 82               491 	mov	dpl,r4
   020F 8D 83               492 	mov	dph,r5
   0211 8E 93               493 	mov	dpx,r6
   0213 88 F0               494 	mov	b,r0
   0215 12s00r00r00         495 	lcall	_memmove
                            496 ;	_realloc.c:123: pnew->len = size;
   0219 90s00r00r09         497 	mov	dptr,#_realloc_pnew_1_1
   021D E0                  498 	movx	a,@dptr
   021E 24 03               499 	add	a,#0x03
   0220 F5 84               500 	mov	dpl1,a
   0222 A3                  501 	inc	dptr
   0223 E0                  502 	movx	a,@dptr
   0224 34 00               503 	addc	a,#0x00
   0226 F5 85               504 	mov	dph1,a
   0228 A3                  505 	inc	dptr
   0229 E0                  506 	movx	a,@dptr
   022A 34 00               507 	addc	a,#0x00
   022C F5 95               508 	mov	dpx1,a
   022E 90s00r00r00         509 	mov	dptr,#_realloc_PARM_2
   0232 E0                  510 	movx	a,@dptr
   0233 75 86 01            511 	mov	dps,#1
   0236 F0                  512 	movx	@dptr,a
   0237 A3                  513 	inc	dptr
   0238 75 86 00            514 	mov	dps,#0
   023B A3                  515 	inc	dptr
   023C E0                  516 	movx	a,@dptr
   023D 75 86 01            517 	mov	dps,#1
   0240 F0                  518 	movx	@dptr,a
   0241 75 86 00            519 	mov	dps,#0
                            520 ;	_realloc.c:124: ret = MEM(pnew);
   0244 90s00r00r09         521 	mov	dptr,#_realloc_pnew_1_1
   0248 E0                  522 	movx	a,@dptr
   0249 24 05               523 	add	a,#0x05
   024B FA                  524 	mov	r2,a
   024C A3                  525 	inc	dptr
   024D E0                  526 	movx	a,@dptr
   024E 34 00               527 	addc	a,#0x00
   0250 FB                  528 	mov	r3,a
   0251 A3                  529 	inc	dptr
   0252 E0                  530 	movx	a,@dptr
   0253 34 00               531 	addc	a,#0x00
   0255 FC                  532 	mov	r4,a
   0256 02s00r03r41         533 	ljmp	00115$
   025A                     534 00104$:
                            535 ;	_realloc.c:128: ret = malloc(size - HEADER_SIZE);
   025A 90s00r00r00         536 	mov	dptr,#_realloc_PARM_2
   025E E0                  537 	movx	a,@dptr
   025F 24 FB               538 	add	a,#0xFB
   0261 FA                  539 	mov	r2,a
   0262 A3                  540 	inc	dptr
   0263 E0                  541 	movx	a,@dptr
   0264 34 FF               542 	addc	a,#0xFF
   0266 FB                  543 	mov	r3,a
   0267 8A 82               544 	mov	dpl,r2
   0269 8B 83               545 	mov	dph,r3
   026B 12s00r00r00         546 	lcall	_malloc
   026F AA 82               547 	mov	r2,dpl
   0271 AB 83               548 	mov	r3,dph
   0273 AC 93               549 	mov	r4,dpx
                            550 ;	genAssign: resultIsFar = TRUE
                            551 ;	_realloc.c:129: if (ret)
   0275 EA                  552 	mov	a,r2
   0276 4B                  553 	orl	a,r3
   0277 4C                  554 	orl	a,r4
   0278 70 04               555 	jnz	00129$
   027A 02s00r03r41         556 	ljmp	00115$
   027E                     557 00129$:
                            558 ;	_realloc.c:131: memcpy(ret, MEM(pthis), pthis->len - HEADER_SIZE);
                            559 ;	genAssign: resultIsFar = FALSE
   027E 7D 00               560 	mov	r5,#0x00
   0280 90s00r00r06         561 	mov	dptr,#_realloc_pthis_1_1
   0284 E0                  562 	movx	a,@dptr
   0285 24 05               563 	add	a,#0x05
   0287 FE                  564 	mov	r6,a
   0288 A3                  565 	inc	dptr
   0289 E0                  566 	movx	a,@dptr
   028A 34 00               567 	addc	a,#0x00
   028C FF                  568 	mov	r7,a
   028D A3                  569 	inc	dptr
   028E E0                  570 	movx	a,@dptr
   028F 34 00               571 	addc	a,#0x00
   0291 F8                  572 	mov	r0,a
   0292 79 00               573 	mov	r1,#0x00
   0294 C0 02               574 	push	ar2
   0296 C0 03               575 	push	ar3
   0298 C0 04               576 	push	ar4
   029A 90s00r00r06         577 	mov	dptr,#_realloc_pthis_1_1
   029E E0                  578 	movx	a,@dptr
   029F 24 03               579 	add	a,#0x03
   02A1 F5 84               580 	mov	dpl1,a
   02A3 A3                  581 	inc	dptr
   02A4 E0                  582 	movx	a,@dptr
   02A5 34 00               583 	addc	a,#0x00
   02A7 F5 85               584 	mov	dph1,a
   02A9 A3                  585 	inc	dptr
   02AA E0                  586 	movx	a,@dptr
   02AB 34 00               587 	addc	a,#0x00
   02AD F5 95               588 	mov	dpx1,a
   02AF 05 86               589 	inc	dps
   02B1 E0                  590 	movx	a,@dptr
   02B2 A3                  591 	inc	dptr
   02B3 FA                  592 	mov	r2,a
   02B4 E0                  593 	movx	a,@dptr
   02B5 FB                  594 	mov	r3,a
   02B6 75 86 00            595 	mov	dps,#0
   02B9 EA                  596 	mov	a,r2
   02BA 24 FB               597 	add	a,#0xFB
   02BC FA                  598 	mov	r2,a
   02BD EB                  599 	mov	a,r3
   02BE 34 FF               600 	addc	a,#0xFF
   02C0 FB                  601 	mov	r3,a
                            602 ;	genAssign: resultIsFar = TRUE
   02C1 90s00r00r00         603 	mov	dptr,#_memcpy_PARM_2
   02C5 EE                  604 	mov	a,r6
   02C6 F0                  605 	movx	@dptr,a
   02C7 A3                  606 	inc	dptr
   02C8 EF                  607 	mov	a,r7
   02C9 F0                  608 	movx	@dptr,a
   02CA A3                  609 	inc	dptr
   02CB E8                  610 	mov	a,r0
   02CC F0                  611 	movx	@dptr,a
   02CD A3                  612 	inc	dptr
   02CE E9                  613 	mov	a,r1
   02CF F0                  614 	movx	@dptr,a
                            615 ;	genAssign: resultIsFar = TRUE
   02D0 90s00r00r00         616 	mov	dptr,#_memcpy_PARM_3
   02D4 EA                  617 	mov	a,r2
   02D5 F0                  618 	movx	@dptr,a
   02D6 A3                  619 	inc	dptr
   02D7 EB                  620 	mov	a,r3
   02D8 F0                  621 	movx	@dptr,a
   02D9 C0 02               622 	push	ar2
   02DB C0 03               623 	push	ar3
   02DD C0 04               624 	push	ar4
   02DF 8A 82               625 	mov	dpl,r2
   02E1 8B 83               626 	mov	dph,r3
   02E3 8C 93               627 	mov	dpx,r4
   02E5 8D F0               628 	mov	b,r5
   02E7 12s00r00r00         629 	lcall	_memcpy
   02EB D0 04               630 	pop	ar4
   02ED D0 03               631 	pop	ar3
   02EF D0 02               632 	pop	ar2
                            633 ;	_realloc.c:132: free(p);
   02F1 C0 02               634 	push	ar2
   02F3 C0 03               635 	push	ar3
   02F5 C0 04               636 	push	ar4
   02F7 05 86               637 	inc	dps
   02F9 90s00r00r02         638 	mov	dptr,#_realloc_p_1_1
   02FD E0                  639 	movx	a,@dptr
   02FE F5 82               640 	mov	dpl,a
   0300 A3                  641 	inc	dptr
   0301 E0                  642 	movx	a,@dptr
   0302 F5 83               643 	mov	dph,a
   0304 A3                  644 	inc	dptr
   0305 E0                  645 	movx	a,@dptr
   0306 F5 93               646 	mov	dpx,a
   0308 A3                  647 	inc	dptr
   0309 E0                  648 	movx	a,@dptr
   030A F5 F0               649 	mov	b,a
   030C 75 86 00            650 	mov	dps,#0
   030F 12s00r00r00         651 	lcall	_free
   0313 D0 04               652 	pop	ar4
   0315 D0 03               653 	pop	ar3
   0317 D0 02               654 	pop	ar2
   0319 D0 04               655 	pop	ar4
   031B D0 03               656 	pop	ar3
   031D D0 02               657 	pop	ar2
   031F 80 20               658 	sjmp 00115$
   0321                     659 00114$:
                            660 ;	_realloc.c:140: ret = malloc(size);
   0321 05 86               661 	inc	dps
   0323 90s00r00r00         662 	mov	dptr,#_realloc_PARM_2
   0327 E0                  663 	movx	a,@dptr
   0328 F5 82               664 	mov	dpl,a
   032A A3                  665 	inc	dptr
   032B E0                  666 	movx	a,@dptr
   032C F5 83               667 	mov	dph,a
   032E 75 86 00            668 	mov	dps,#0
   0331 12s00r00r00         669 	lcall	_malloc
   0335 AD 82               670 	mov	r5,dpl
   0337 AE 83               671 	mov	r6,dph
   0339 AF 93               672 	mov	r7,dpx
                            673 ;	genAssign: resultIsFar = TRUE
   033B 8D 02               674 	mov	ar2,r5
   033D 8E 03               675 	mov	ar3,r6
   033F 8F 04               676 	mov	ar4,r7
   0341                     677 00115$:
                            678 ;	_realloc.c:143: return ret;
   0341 8A 82               679 	mov	dpl,r2
   0343 8B 83               680 	mov	dph,r3
   0345 8C 93               681 	mov	dpx,r4
   0347                     682 00116$:
   0347 22                  683 	ret
                            684 	.area CSEG    (CODE)
                            685 	.area CONST   (CODE)
                            686 	.area XINIT   (CODE)
                            687 	.area CABS    (ABS,CODE)
