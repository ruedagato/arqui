                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:16 2015
                              5 ;--------------------------------------------------------
                              6 	.module _fs2slong
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl ___fs2slong
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 ;../_fs2slong.c:108: signed long __fs2slong (float f)
                             39 ;	---------------------------------
                             40 ; Function __fs2slong
                             41 ; ---------------------------------
   0000                      42 ___fs2slong_start::
   0000                      43 ___fs2slong:
   0000 DD E5                44 	push	ix
   0002 DD 21 00 00          45 	ld	ix,#0
   0006 DD 39                46 	add	ix,sp
                             47 ;../_fs2slong.c:111: if (!f)
   0008 DD 7E 04             48 	ld	a,4 (ix)
   000B DD B6 05             49 	or	a,5 (ix)
   000E DD B6 06             50 	or	a,6 (ix)
   0011 DD B6 07             51 	or	a,7 (ix)
   0014 20 07                52 	jr	NZ,00102$
                             53 ;../_fs2slong.c:112: return 0;
   0016 21 00 00             54 	ld	hl,#0x0000
   0019 5D                   55 	ld	e,l
   001A 54                   56 	ld	d,h
   001B 18 60                57 	jr	00106$
   001D                      58 00102$:
                             59 ;../_fs2slong.c:114: if (f<0) {
   001D 21 00 00             60 	ld	hl,#0x0000
   0020 E5                   61 	push	hl
   0021 21 00 00             62 	ld	hl,#0x0000
   0024 E5                   63 	push	hl
   0025 DD 6E 06             64 	ld	l,6 (ix)
   0028 DD 66 07             65 	ld	h,7 (ix)
   002B E5                   66 	push	hl
   002C DD 6E 04             67 	ld	l,4 (ix)
   002F DD 66 05             68 	ld	h,5 (ix)
   0032 E5                   69 	push	hl
   0033 CDr00s00             70 	call	___fslt
   0036 F1                   71 	pop	af
   0037 F1                   72 	pop	af
   0038 F1                   73 	pop	af
   0039 F1                   74 	pop	af
   003A AF                   75 	xor	a,a
   003B B5                   76 	or	a,l
   003C 28 2C                77 	jr	Z,00104$
                             78 ;../_fs2slong.c:115: return -__fs2ulong(-f);
   003E DD 7E 07             79 	ld	a,7 (ix)
   0041 EE 80                80 	xor	a,#0x80
   0043 57                   81 	ld	d,a
   0044 DD 4E 04             82 	ld	c,4 (ix)
   0047 DD 46 05             83 	ld	b,5 (ix)
   004A DD 6E 06             84 	ld	l, 6 (ix)
   004D 62                   85 	ld	h,d
   004E E5                   86 	push	hl
   004F C5                   87 	push	bc
   0050 CDr00s00             88 	call	___fs2ulong
   0053 F1                   89 	pop	af
   0054 F1                   90 	pop	af
   0055 44                   91 	ld	b,h
   0056 4D                   92 	ld	c,l
   0057 AF                   93 	xor	a,a
   0058 99                   94 	sbc	a,c
   0059 4F                   95 	ld	c,a
   005A 3E 00                96 	ld	a,#0x00
   005C 98                   97 	sbc	a,b
   005D 47                   98 	ld	b,a
   005E 3E 00                99 	ld	a,#0x00
   0060 9B                  100 	sbc	a,e
   0061 5F                  101 	ld	e,a
   0062 3E 00               102 	ld	a,#0x00
   0064 9A                  103 	sbc	a,d
   0065 57                  104 	ld	d,a
   0066 69                  105 	ld	l,c
   0067 60                  106 	ld	h,b
   0068 18 13               107 	jr	00106$
   006A                     108 00104$:
                            109 ;../_fs2slong.c:117: return __fs2ulong(f);
   006A DD 6E 06            110 	ld	l,6 (ix)
   006D DD 66 07            111 	ld	h,7 (ix)
   0070 E5                  112 	push	hl
   0071 DD 6E 04            113 	ld	l,4 (ix)
   0074 DD 66 05            114 	ld	h,5 (ix)
   0077 E5                  115 	push	hl
   0078 CDr00s00            116 	call	___fs2ulong
   007B F1                  117 	pop	af
   007C F1                  118 	pop	af
   007D                     119 00106$:
   007D DD E1               120 	pop	ix
   007F C9                  121 	ret
   0080                     122 ___fs2slong_end::
                            123 	.area _HOME
                            124 ;--------------------------------------------------------
                            125 ; code
                            126 ;--------------------------------------------------------
                            127 	.area _CODE
                            128 	.area _CODE
                            129 	.area _CABS
