                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:28 2015
                              5 ;--------------------------------------------------------
                              6 	.module _mullong
                              7 	.optsdcc -mmcs51 --model-large
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl __mullong_dummy
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 	.area RSEG    (ABS,DATA)
   0000                      17 	.org 0x0000
                             18 ;--------------------------------------------------------
                             19 ; special function bits
                             20 ;--------------------------------------------------------
                             21 	.area RSEG    (ABS,DATA)
   0000                      22 	.org 0x0000
                             23 ;--------------------------------------------------------
                             24 ; overlayable register banks
                             25 ;--------------------------------------------------------
                             26 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      27 	.ds 8
                             28 ;--------------------------------------------------------
                             29 ; internal ram data
                             30 ;--------------------------------------------------------
                             31 	.area DSEG    (DATA)
                             32 ;--------------------------------------------------------
                             33 ; overlayable items in internal ram 
                             34 ;--------------------------------------------------------
                             35 	.area OSEG    (OVR,DATA)
                             36 ;--------------------------------------------------------
                             37 ; indirectly addressable internal ram data
                             38 ;--------------------------------------------------------
                             39 	.area ISEG    (DATA)
                             40 ;--------------------------------------------------------
                             41 ; absolute internal ram data
                             42 ;--------------------------------------------------------
                             43 	.area IABS    (ABS,DATA)
                             44 	.area IABS    (ABS,DATA)
                             45 ;--------------------------------------------------------
                             46 ; bit data
                             47 ;--------------------------------------------------------
                             48 	.area BSEG    (BIT)
                             49 ;--------------------------------------------------------
                             50 ; paged external ram data
                             51 ;--------------------------------------------------------
                             52 	.area PSEG    (PAG,XDATA)
                             53 ;--------------------------------------------------------
                             54 ; external ram data
                             55 ;--------------------------------------------------------
                             56 	.area XSEG    (XDATA)
                             57 ;--------------------------------------------------------
                             58 ; absolute external ram data
                             59 ;--------------------------------------------------------
                             60 	.area XABS    (ABS,XDATA)
                             61 ;--------------------------------------------------------
                             62 ; external initialized ram data
                             63 ;--------------------------------------------------------
                             64 	.area XISEG   (XDATA)
                             65 	.area HOME    (CODE)
                             66 	.area GSINIT0 (CODE)
                             67 	.area GSINIT1 (CODE)
                             68 	.area GSINIT2 (CODE)
                             69 	.area GSINIT3 (CODE)
                             70 	.area GSINIT4 (CODE)
                             71 	.area GSINIT5 (CODE)
                             72 	.area GSINIT  (CODE)
                             73 	.area GSFINAL (CODE)
                             74 	.area CSEG    (CODE)
                             75 ;--------------------------------------------------------
                             76 ; global & static initialisations
                             77 ;--------------------------------------------------------
                             78 	.area HOME    (CODE)
                             79 	.area GSINIT  (CODE)
                             80 	.area GSFINAL (CODE)
                             81 	.area GSINIT  (CODE)
                             82 ;--------------------------------------------------------
                             83 ; Home
                             84 ;--------------------------------------------------------
                             85 	.area HOME    (CODE)
                             86 	.area HOME    (CODE)
                             87 ;--------------------------------------------------------
                             88 ; code
                             89 ;--------------------------------------------------------
                             90 	.area CSEG    (CODE)
                             91 ;------------------------------------------------------------
                             92 ;Allocation info for local variables in function '_mullong_dummy'
                             93 ;------------------------------------------------------------
                             94 ;------------------------------------------------------------
                             95 ;	_mullong.c:316: _mullong_dummy (void) __naked
                             96 ;	-----------------------------------------
                             97 ;	 function _mullong_dummy
                             98 ;	-----------------------------------------
   0000                      99 __mullong_dummy:
                            100 ;	naked function: no prologue.
                            101 ;	_mullong.c:490: __endasm;
                            102 	
                            103 	
   0000                     104 	__mullong:
                            105 	
                            106 	 .globl __mullong
                            107 	
                            108     ; the result c will be stored in r4...r7
                            109 	
                            110 	
                            111 	
                            112 	
                            113 	
                            114  ; r4 a0 * b0
                            115  ; r5 a1 * b0 + a0 * b1
                            116  ; r6 a2 * b0 + a1 * b1 + a0 * b2
                            117  ; r7 a3 * b0 + a2 * b1 + a1 * b2 + a0 * b3
                            118 	
                            119 	
                            120 	 .area XSEG (XDATA)
                            121 	
   0000                     122 	__mullong_PARM_2:
                            123 	
                            124 	 .globl __mullong_PARM_2
                            125 	
   0000                     126 	 .ds 4
                            127 	
                            128 	 .area CSEG (CODE)
                            129 	
                            130     ; parameter a comes in a, b, dph, dpl
   0000 A8 82               131 	 mov r0,dpl ; save parameter a
   0002 A9 83               132 	 mov r1,dph
   0004 AA F0               133 	 mov r2,b
   0006 FB                  134 	 mov r3,a
                            135 	
                            136 	
                            137 	
                            138 	
                            139 	
                            140 	
                            141     ; Byte 0
   0007 88 F0               142 	 mov b,r0
                            143 	
                            144 	
                            145 	
   0009 90s00r00            146 	 mov dptr,#__mullong_PARM_2
   000C E0                  147 	 movx a,@dptr ; b0
                            148 	
   000D A4                  149 	 mul ab ; r0 * b0
   000E FC                  150 	 mov r4,a
   000F AD F0               151 	 mov r5,b
                            152 	
                            153     ; Byte 1
   0011 89 F0               154 	 mov b,r1
                            155 	
                            156 	
                            157 	
   0013 E0                  158 	 movx a,@dptr ; b0
                            159 	
   0014 A4                  160 	 mul ab ; r1 * b0
   0015 2D                  161 	 add a,r5
   0016 FD                  162 	 mov r5,a
   0017 E4                  163 	 clr a
   0018 35 F0               164 	 addc a,b
   001A FE                  165 	 mov r6,a
                            166 	
   001B 88 F0               167 	 mov b,r0
                            168 	
                            169 	
                            170 	
   001D A3                  171 	 inc dptr ; b1
   001E E0                  172 	 movx a,@dptr
                            173 	
   001F A4                  174 	 mul ab ; r0 * b1
   0020 2D                  175 	 add a,r5
   0021 FD                  176 	 mov r5,a
   0022 E5 F0               177 	 mov a,b
   0024 3E                  178 	 addc a,r6
   0025 FE                  179 	 mov r6,a
   0026 E4                  180 	 clr a
   0027 33                  181 	 rlc a
   0028 FF                  182 	 mov r7,a
                            183 	
                            184     ; Byte 2
   0029 89 F0               185 	 mov b,r1
                            186 	
                            187 	
                            188 	
   002B E0                  189 	 movx a,@dptr ; b1
                            190 	
   002C A4                  191 	 mul ab ; r1 * b1
   002D 2E                  192 	 add a,r6
   002E FE                  193 	 mov r6,a
   002F E5 F0               194 	 mov a,b
   0031 3F                  195 	 addc a,r7
   0032 FF                  196 	 mov r7,a
                            197 	
   0033 88 F0               198 	 mov b,r0
                            199 	
                            200 	
                            201 	
   0035 A3                  202 	 inc dptr ; b2
   0036 E0                  203 	 movx a,@dptr
                            204 	
   0037 A4                  205 	 mul ab ; r0 * b2
   0038 2E                  206 	 add a,r6
   0039 FE                  207 	 mov r6,a
   003A E5 F0               208 	 mov a,b
   003C 3F                  209 	 addc a,r7
   003D FF                  210 	 mov r7,a
                            211 	
   003E 8A F0               212 	 mov b,r2
                            213 	
                            214 	
                            215 	
   0040 90s00r00            216 	 mov dptr,#__mullong_PARM_2
   0043 E0                  217 	 movx a,@dptr ; b0
                            218 	
   0044 A4                  219 	 mul ab ; r2 * b0
   0045 2E                  220 	 add a,r6
   0046 FE                  221 	 mov r6,a
   0047 E5 F0               222 	 mov a,b
   0049 3F                  223 	 addc a,r7
   004A FF                  224 	 mov r7,a
                            225 	
                            226     ; Byte 3
   004B 8B F0               227 	 mov b,r3
                            228 	
                            229 	
                            230 	
   004D E0                  231 	 movx a,@dptr ; b0
                            232 	
   004E A4                  233 	 mul ab ; r3 * b0
   004F 2F                  234 	 add a,r7
   0050 FF                  235 	 mov r7,a
                            236 	
   0051 8A F0               237 	 mov b,r2
                            238 	
                            239 	
                            240 	
   0053 A3                  241 	 inc dptr ; b1
   0054 E0                  242 	 movx a,@dptr
                            243 	
   0055 A4                  244 	 mul ab ; r2 * b1
   0056 2F                  245 	 add a,r7
   0057 FF                  246 	 mov r7,a
                            247 	
   0058 89 F0               248 	 mov b,r1
                            249 	
                            250 	
                            251 	
   005A A3                  252 	 inc dptr ; b2
   005B E0                  253 	 movx a,@dptr
                            254 	
   005C A4                  255 	 mul ab ; r1 * b2
   005D 2F                  256 	 add a,r7
   005E FF                  257 	 mov r7,a
                            258 	
   005F 88 F0               259 	 mov b,r0
                            260 	
                            261 	
                            262 	
   0061 A3                  263 	 inc dptr ; b3
   0062 E0                  264 	 movx a,@dptr
                            265 	
   0063 A4                  266 	 mul ab ; r0 * b3
   0064 2F                  267 	 add a,r7
                            268 	
   0065 8E F0               269 	 mov b,r6
   0067 8D 83               270 	 mov dph,r5
   0069 8C 82               271 	 mov dpl,r4
   006B 22                  272 	 ret
                            273 	
                            274 	 
                            275 ;	naked function: no epilogue.
                            276 	.area CSEG    (CODE)
                            277 	.area CONST   (CODE)
                            278 	.area XINIT   (CODE)
                            279 	.area CABS    (ABS,CODE)
