                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:28 2015
                              5 ;--------------------------------------------------------
                              6 	.module modff
                              7 	.optsdcc -mmcs51 --model-large
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _modff_PARM_2
                             13 	.globl _modff
                             14 ;--------------------------------------------------------
                             15 ; special function registers
                             16 ;--------------------------------------------------------
                             17 	.area RSEG    (ABS,DATA)
   0000                      18 	.org 0x0000
                             19 ;--------------------------------------------------------
                             20 ; special function bits
                             21 ;--------------------------------------------------------
                             22 	.area RSEG    (ABS,DATA)
   0000                      23 	.org 0x0000
                             24 ;--------------------------------------------------------
                             25 ; overlayable register banks
                             26 ;--------------------------------------------------------
                             27 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      28 	.ds 8
                             29 ;--------------------------------------------------------
                             30 ; internal ram data
                             31 ;--------------------------------------------------------
                             32 	.area DSEG    (DATA)
   0000                      33 _modff_sloc0_1_0:
   0000                      34 	.ds 3
                             35 ;--------------------------------------------------------
                             36 ; overlayable items in internal ram 
                             37 ;--------------------------------------------------------
                             38 	.area OSEG    (OVR,DATA)
                             39 ;--------------------------------------------------------
                             40 ; indirectly addressable internal ram data
                             41 ;--------------------------------------------------------
                             42 	.area ISEG    (DATA)
                             43 ;--------------------------------------------------------
                             44 ; absolute internal ram data
                             45 ;--------------------------------------------------------
                             46 	.area IABS    (ABS,DATA)
                             47 	.area IABS    (ABS,DATA)
                             48 ;--------------------------------------------------------
                             49 ; bit data
                             50 ;--------------------------------------------------------
                             51 	.area BSEG    (BIT)
                             52 ;--------------------------------------------------------
                             53 ; paged external ram data
                             54 ;--------------------------------------------------------
                             55 	.area PSEG    (PAG,XDATA)
                             56 ;--------------------------------------------------------
                             57 ; external ram data
                             58 ;--------------------------------------------------------
                             59 	.area XSEG    (XDATA)
   0000                      60 _modff_PARM_2:
   0000                      61 	.ds 3
   0003                      62 _modff_x_1_1:
   0003                      63 	.ds 4
                             64 ;--------------------------------------------------------
                             65 ; absolute external ram data
                             66 ;--------------------------------------------------------
                             67 	.area XABS    (ABS,XDATA)
                             68 ;--------------------------------------------------------
                             69 ; external initialized ram data
                             70 ;--------------------------------------------------------
                             71 	.area XISEG   (XDATA)
                             72 	.area HOME    (CODE)
                             73 	.area GSINIT0 (CODE)
                             74 	.area GSINIT1 (CODE)
                             75 	.area GSINIT2 (CODE)
                             76 	.area GSINIT3 (CODE)
                             77 	.area GSINIT4 (CODE)
                             78 	.area GSINIT5 (CODE)
                             79 	.area GSINIT  (CODE)
                             80 	.area GSFINAL (CODE)
                             81 	.area CSEG    (CODE)
                             82 ;--------------------------------------------------------
                             83 ; global & static initialisations
                             84 ;--------------------------------------------------------
                             85 	.area HOME    (CODE)
                             86 	.area GSINIT  (CODE)
                             87 	.area GSFINAL (CODE)
                             88 	.area GSINIT  (CODE)
                             89 ;--------------------------------------------------------
                             90 ; Home
                             91 ;--------------------------------------------------------
                             92 	.area HOME    (CODE)
                             93 	.area HOME    (CODE)
                             94 ;--------------------------------------------------------
                             95 ; code
                             96 ;--------------------------------------------------------
                             97 	.area CSEG    (CODE)
                             98 ;------------------------------------------------------------
                             99 ;Allocation info for local variables in function 'modff'
                            100 ;------------------------------------------------------------
                            101 ;sloc0                     Allocated with name '_modff_sloc0_1_0'
                            102 ;y                         Allocated with name '_modff_PARM_2'
                            103 ;x                         Allocated with name '_modff_x_1_1'
                            104 ;------------------------------------------------------------
                            105 ;	modff.c:33: float modff(float x, float * y)
                            106 ;	-----------------------------------------
                            107 ;	 function modff
                            108 ;	-----------------------------------------
   0000                     109 _modff:
                    0002    110 	ar2 = 0x02
                    0003    111 	ar3 = 0x03
                    0004    112 	ar4 = 0x04
                    0005    113 	ar5 = 0x05
                    0006    114 	ar6 = 0x06
                    0007    115 	ar7 = 0x07
                    0000    116 	ar0 = 0x00
                    0001    117 	ar1 = 0x01
   0000 AA 82               118 	mov	r2,dpl
   0002 AB 83               119 	mov	r3,dph
   0004 AC F0               120 	mov	r4,b
   0006 FD                  121 	mov	r5,a
   0007 90s00r03            122 	mov	dptr,#_modff_x_1_1
   000A EA                  123 	mov	a,r2
   000B F0                  124 	movx	@dptr,a
   000C A3                  125 	inc	dptr
   000D EB                  126 	mov	a,r3
   000E F0                  127 	movx	@dptr,a
   000F A3                  128 	inc	dptr
   0010 EC                  129 	mov	a,r4
   0011 F0                  130 	movx	@dptr,a
   0012 A3                  131 	inc	dptr
   0013 ED                  132 	mov	a,r5
   0014 F0                  133 	movx	@dptr,a
                            134 ;	modff.c:35: *y=(long)x;
   0015 90s00r00            135 	mov	dptr,#_modff_PARM_2
   0018 E0                  136 	movx	a,@dptr
   0019 F5*00               137 	mov	_modff_sloc0_1_0,a
   001B A3                  138 	inc	dptr
   001C E0                  139 	movx	a,@dptr
   001D F5*01               140 	mov	(_modff_sloc0_1_0 + 1),a
   001F A3                  141 	inc	dptr
   0020 E0                  142 	movx	a,@dptr
   0021 F5*02               143 	mov	(_modff_sloc0_1_0 + 2),a
   0023 90s00r03            144 	mov	dptr,#_modff_x_1_1
   0026 E0                  145 	movx	a,@dptr
   0027 FD                  146 	mov	r5,a
   0028 A3                  147 	inc	dptr
   0029 E0                  148 	movx	a,@dptr
   002A FE                  149 	mov	r6,a
   002B A3                  150 	inc	dptr
   002C E0                  151 	movx	a,@dptr
   002D FF                  152 	mov	r7,a
   002E A3                  153 	inc	dptr
   002F E0                  154 	movx	a,@dptr
   0030 F8                  155 	mov	r0,a
   0031 8D 82               156 	mov	dpl,r5
   0033 8E 83               157 	mov	dph,r6
   0035 8F F0               158 	mov	b,r7
   0037 C0 05               159 	push	ar5
   0039 C0 06               160 	push	ar6
   003B C0 07               161 	push	ar7
   003D C0 00               162 	push	ar0
   003F 12s00r00            163 	lcall	___fs2slong
   0042 12s00r00            164 	lcall	___slong2fs
   0045 AA 82               165 	mov	r2,dpl
   0047 AB 83               166 	mov	r3,dph
   0049 AC F0               167 	mov	r4,b
   004B F9                  168 	mov	r1,a
   004C D0 00               169 	pop	ar0
   004E D0 07               170 	pop	ar7
   0050 D0 06               171 	pop	ar6
   0052 D0 05               172 	pop	ar5
   0054 85*00 82            173 	mov	dpl,_modff_sloc0_1_0
   0057 85*01 83            174 	mov	dph,(_modff_sloc0_1_0 + 1)
   005A 85*02 F0            175 	mov	b,(_modff_sloc0_1_0 + 2)
   005D EA                  176 	mov	a,r2
   005E 12s00r00            177 	lcall	__gptrput
   0061 A3                  178 	inc	dptr
   0062 EB                  179 	mov	a,r3
   0063 12s00r00            180 	lcall	__gptrput
   0066 A3                  181 	inc	dptr
   0067 EC                  182 	mov	a,r4
   0068 12s00r00            183 	lcall	__gptrput
   006B A3                  184 	inc	dptr
   006C E9                  185 	mov	a,r1
   006D 12s00r00            186 	lcall	__gptrput
                            187 ;	modff.c:36: return (x-*y);
   0070 C0 02               188 	push	ar2
   0072 C0 03               189 	push	ar3
   0074 C0 04               190 	push	ar4
   0076 C0 01               191 	push	ar1
   0078 8D 82               192 	mov	dpl,r5
   007A 8E 83               193 	mov	dph,r6
   007C 8F F0               194 	mov	b,r7
   007E E8                  195 	mov	a,r0
   007F 12s00r00            196 	lcall	___fssub
   0082 AA 82               197 	mov	r2,dpl
   0084 AB 83               198 	mov	r3,dph
   0086 AC F0               199 	mov	r4,b
   0088 FD                  200 	mov	r5,a
   0089 E5 81               201 	mov	a,sp
   008B 24 FC               202 	add	a,#0xfc
   008D F5 81               203 	mov	sp,a
   008F 8A 82               204 	mov	dpl,r2
   0091 8B 83               205 	mov	dph,r3
   0093 8C F0               206 	mov	b,r4
   0095 ED                  207 	mov	a,r5
   0096 22                  208 	ret
                            209 	.area CSEG    (CODE)
                            210 	.area CONST   (CODE)
                            211 	.area XINIT   (CODE)
                            212 	.area CABS    (ABS,CODE)
