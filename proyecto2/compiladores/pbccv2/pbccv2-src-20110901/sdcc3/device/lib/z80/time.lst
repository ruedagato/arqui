                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:18 2015
                              5 ;--------------------------------------------------------
                              6 	.module time
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _RtcRead
                             13 	.globl ___day
                             14 	.globl ___month
                             15 	.globl _time
                             16 	.globl _asctime
                             17 	.globl _ctime
                             18 	.globl _localtime
                             19 	.globl _gmtime
                             20 	.globl _mktime
                             21 ;--------------------------------------------------------
                             22 ; special function registers
                             23 ;--------------------------------------------------------
                             24 ;--------------------------------------------------------
                             25 ;  ram data
                             26 ;--------------------------------------------------------
                             27 	.area _DATA
   0000                      28 _monthDays:
   0000                      29 	.ds 12
   000C                      30 ___month::
   000C                      31 	.ds 24
   0024                      32 ___day::
   0024                      33 	.ds 14
   0032                      34 _ascTimeBuffer:
   0032                      35 	.ds 32
   0052                      36 _lastTime:
   0052                      37 	.ds 12
                             38 ;--------------------------------------------------------
                             39 ; overlayable items in  ram 
                             40 ;--------------------------------------------------------
                             41 	.area _OVERLAY
                             42 ;--------------------------------------------------------
                             43 ; external initialized ram data
                             44 ;--------------------------------------------------------
                             45 ;--------------------------------------------------------
                             46 ; global & static initialisations
                             47 ;--------------------------------------------------------
                             48 	.area _HOME
                             49 	.area _GSINIT
                             50 	.area _GSFINAL
                             51 	.area _GSINIT
                             52 ;../time.c:63: static _CODE char monthDays[]={31,28,31,30,31,30,31,31,30,31,30,31};
   0000 21r00s00             53 	ld	hl,#_monthDays
   0003 36 1F                54 	ld	(hl),#0x1F
   0005 21r01s00             55 	ld	hl,#0x0001 + _monthDays
   0008 36 1C                56 	ld	(hl),#0x1C
   000A 23                   57 	inc	hl
   000B 36 1F                58 	ld	(hl),#0x1F
   000D 23                   59 	inc	hl
   000E 36 1E                60 	ld	(hl),#0x1E
   0010 23                   61 	inc	hl
   0011 36 1F                62 	ld	(hl),#0x1F
   0013 23                   63 	inc	hl
   0014 36 1E                64 	ld	(hl),#0x1E
   0016 23                   65 	inc	hl
   0017 36 1F                66 	ld	(hl),#0x1F
   0019 23                   67 	inc	hl
   001A 36 1F                68 	ld	(hl),#0x1F
   001C 23                   69 	inc	hl
   001D 36 1E                70 	ld	(hl),#0x1E
   001F 23                   71 	inc	hl
   0020 36 1F                72 	ld	(hl),#0x1F
   0022 23                   73 	inc	hl
   0023 36 1E                74 	ld	(hl),#0x1E
   0025 23                   75 	inc	hl
   0026 36 1F                76 	ld	(hl),#0x1F
                             77 ;../time.c:65: _CODE const char * _CODE __month[]={"Jan","Feb","Mar","Apr","May","Jun",
   0028 21r0Cs00             78 	ld	hl,#___month
   002B 36r3E                79 	ld	(hl),#<(__str_1)
   002D 23                   80 	inc	hl
   002E 36s07                81 	ld	(hl),#>(__str_1)
   0030 21r0Es00             82 	ld	hl,#0x0002 + ___month
   0033 36r42                83 	ld	(hl),#<(__str_2)
   0035 23                   84 	inc	hl
   0036 36s07                85 	ld	(hl),#>(__str_2)
   0038 23                   86 	inc	hl
   0039 36r46                87 	ld	(hl),#<(__str_3)
   003B 23                   88 	inc	hl
   003C 36s07                89 	ld	(hl),#>(__str_3)
   003E 23                   90 	inc	hl
   003F 36r4A                91 	ld	(hl),#<(__str_4)
   0041 23                   92 	inc	hl
   0042 36s07                93 	ld	(hl),#>(__str_4)
   0044 23                   94 	inc	hl
   0045 36r4E                95 	ld	(hl),#<(__str_5)
   0047 23                   96 	inc	hl
   0048 36s07                97 	ld	(hl),#>(__str_5)
   004A 23                   98 	inc	hl
   004B 36r52                99 	ld	(hl),#<(__str_6)
   004D 23                  100 	inc	hl
   004E 36s07               101 	ld	(hl),#>(__str_6)
   0050 23                  102 	inc	hl
   0051 36r56               103 	ld	(hl),#<(__str_7)
   0053 23                  104 	inc	hl
   0054 36s07               105 	ld	(hl),#>(__str_7)
   0056 23                  106 	inc	hl
   0057 36r5A               107 	ld	(hl),#<(__str_8)
   0059 23                  108 	inc	hl
   005A 36s07               109 	ld	(hl),#>(__str_8)
   005C 23                  110 	inc	hl
   005D 36r5E               111 	ld	(hl),#<(__str_9)
   005F 23                  112 	inc	hl
   0060 36s07               113 	ld	(hl),#>(__str_9)
   0062 23                  114 	inc	hl
   0063 36r62               115 	ld	(hl),#<(__str_10)
   0065 23                  116 	inc	hl
   0066 36s07               117 	ld	(hl),#>(__str_10)
   0068 23                  118 	inc	hl
   0069 36r66               119 	ld	(hl),#<(__str_11)
   006B 23                  120 	inc	hl
   006C 36s07               121 	ld	(hl),#>(__str_11)
   006E 23                  122 	inc	hl
   006F 36r6A               123 	ld	(hl),#<(__str_12)
   0071 23                  124 	inc	hl
   0072 36s07               125 	ld	(hl),#>(__str_12)
                            126 ;../time.c:68: _CODE const char * _CODE __day[]={"Sun","Mon","Tue","Wed","Thu","Fri","Sat"};
   0074 21r24s00            127 	ld	hl,#___day
   0077 36r6E               128 	ld	(hl),#<(__str_13)
   0079 23                  129 	inc	hl
   007A 36s07               130 	ld	(hl),#>(__str_13)
   007C 21r26s00            131 	ld	hl,#0x0002 + ___day
   007F 36r72               132 	ld	(hl),#<(__str_14)
   0081 23                  133 	inc	hl
   0082 36s07               134 	ld	(hl),#>(__str_14)
   0084 23                  135 	inc	hl
   0085 36r76               136 	ld	(hl),#<(__str_15)
   0087 23                  137 	inc	hl
   0088 36s07               138 	ld	(hl),#>(__str_15)
   008A 23                  139 	inc	hl
   008B 36r7A               140 	ld	(hl),#<(__str_16)
   008D 23                  141 	inc	hl
   008E 36s07               142 	ld	(hl),#>(__str_16)
   0090 23                  143 	inc	hl
   0091 36r7E               144 	ld	(hl),#<(__str_17)
   0093 23                  145 	inc	hl
   0094 36s07               146 	ld	(hl),#>(__str_17)
   0096 23                  147 	inc	hl
   0097 36r82               148 	ld	(hl),#<(__str_18)
   0099 23                  149 	inc	hl
   009A 36s07               150 	ld	(hl),#>(__str_18)
   009C 23                  151 	inc	hl
   009D 36r86               152 	ld	(hl),#<(__str_19)
   009F 23                  153 	inc	hl
   00A0 36s07               154 	ld	(hl),#>(__str_19)
                            155 ;--------------------------------------------------------
                            156 ; Home
                            157 ;--------------------------------------------------------
                            158 	.area _HOME
                            159 	.area _HOME
                            160 ;--------------------------------------------------------
                            161 ; code
                            162 ;--------------------------------------------------------
                            163 	.area _CODE
                            164 ;../time.c:42: unsigned char RtcRead(struct tm *timeptr) {
                            165 ;	---------------------------------
                            166 ; Function RtcRead
                            167 ; ---------------------------------
   0000                     168 _RtcRead_start::
   0000                     169 _RtcRead:
   0000 DD E5               170 	push	ix
   0002 DD 21 00 00         171 	ld	ix,#0
   0006 DD 39               172 	add	ix,sp
                            173 ;../time.c:45: return 0;
   0008 2E 00               174 	ld	l,#0x00
   000A DD E1               175 	pop	ix
   000C C9                  176 	ret
   000D                     177 _RtcRead_end::
                            178 ;../time.c:50: time_t time(time_t *timeptr) {
                            179 ;	---------------------------------
                            180 ; Function time
                            181 ; ---------------------------------
   000D                     182 _time_start::
   000D                     183 _time:
   000D DD E5               184 	push	ix
   000F DD 21 00 00         185 	ld	ix,#0
   0013 DD 39               186 	add	ix,sp
   0015 21 F0 FF            187 	ld	hl,#-16
   0018 39                  188 	add	hl,sp
   0019 F9                  189 	ld	sp,hl
                            190 ;../time.c:52: time_t t=-1;
   001A 01 FF FF            191 	ld	bc,#0xFFFF
   001D 11 FF FF            192 	ld	de,#0xFFFF
                            193 ;../time.c:54: if (RtcRead(&now)) {
   0020 21 04 00            194 	ld	hl,#0x0004
   0023 39                  195 	add	hl,sp
   0024 C5                  196 	push	bc
   0025 D5                  197 	push	de
   0026 E5                  198 	push	hl
   0027 CDr00s00            199 	call	_RtcRead
   002A F1                  200 	pop	af
   002B D1                  201 	pop	de
   002C C1                  202 	pop	bc
   002D AF                  203 	xor	a,a
   002E B5                  204 	or	a,l
   002F 28 1F               205 	jr	Z,00102$
                            206 ;../time.c:55: t=mktime(&now);
   0031 21 04 00            207 	ld	hl,#0x0004
   0034 39                  208 	add	hl,sp
   0035 E5                  209 	push	hl
   0036 CDr9Bs04            210 	call	_mktime
   0039 F1                  211 	pop	af
   003A DD 72 F3            212 	ld	-13 (ix),d
   003D DD 73 F2            213 	ld	-14 (ix),e
   0040 DD 74 F1            214 	ld	-15 (ix),h
   0043 DD 75 F0            215 	ld	-16 (ix), l
   0046 4D                  216 	ld	c, l
   0047 DD 46 F1            217 	ld	b,-15 (ix)
   004A DD 5E F2            218 	ld	e,-14 (ix)
   004D DD 56 F3            219 	ld	d,-13 (ix)
   0050                     220 00102$:
                            221 ;../time.c:57: if (timeptr) {
   0050 DD 7E 04            222 	ld	a,4 (ix)
   0053 DD B6 05            223 	or	a,5 (ix)
   0056 28 0D               224 	jr	Z,00104$
                            225 ;../time.c:58: *timeptr=t;
   0058 DD 6E 04            226 	ld	l,4 (ix)
   005B DD 66 05            227 	ld	h,5 (ix)
   005E 71                  228 	ld	(hl),c
   005F 23                  229 	inc	hl
   0060 70                  230 	ld	(hl),b
   0061 23                  231 	inc	hl
   0062 73                  232 	ld	(hl),e
   0063 23                  233 	inc	hl
   0064 72                  234 	ld	(hl),d
   0065                     235 00104$:
                            236 ;../time.c:60: return t;
   0065 69                  237 	ld	l,c
   0066 60                  238 	ld	h,b
   0067 DD F9               239 	ld	sp,ix
   0069 DD E1               240 	pop	ix
   006B C9                  241 	ret
   006C                     242 _time_end::
                            243 ;../time.c:73: static void CheckTime(struct tm *timeptr) {
                            244 ;	---------------------------------
                            245 ; Function CheckTime
                            246 ; ---------------------------------
   006C                     247 _CheckTime:
   006C DD E5               248 	push	ix
   006E DD 21 00 00         249 	ld	ix,#0
   0072 DD 39               250 	add	ix,sp
   0074 3B                  251 	dec	sp
                            252 ;../time.c:84: if (timeptr->tm_sec>59) timeptr->tm_sec=59;
   0075 DD 4E 04            253 	ld	c,4 (ix)
   0078 DD 46 05            254 	ld	b,5 (ix)
   007B 0A                  255 	ld	a,(bc)
   007C 6F                  256 	ld	l,a
   007D 3E 3B               257 	ld	a,#0x3B
   007F BD                  258 	cp	a,l
   0080 30 01               259 	jr	NC,00102$
   0082 02                  260 	ld	(bc),a
   0083                     261 00102$:
                            262 ;../time.c:85: if (timeptr->tm_min>59) timeptr->tm_min=59;
   0083 59                  263 	ld	e,c
   0084 50                  264 	ld	d,b
   0085 13                  265 	inc	de
   0086 1A                  266 	ld	a,(de)
   0087 6F                  267 	ld	l,a
   0088 3E 3B               268 	ld	a,#0x3B
   008A BD                  269 	cp	a,l
   008B 30 01               270 	jr	NC,00104$
   008D 12                  271 	ld	(de),a
   008E                     272 00104$:
                            273 ;../time.c:86: if (timeptr->tm_hour>23) timeptr->tm_hour=23;
   008E 59                  274 	ld	e,c
   008F 50                  275 	ld	d,b
   0090 13                  276 	inc	de
   0091 13                  277 	inc	de
   0092 1A                  278 	ld	a,(de)
   0093 6F                  279 	ld	l,a
   0094 3E 17               280 	ld	a,#0x17
   0096 BD                  281 	cp	a,l
   0097 30 01               282 	jr	NC,00106$
   0099 12                  283 	ld	(de),a
   009A                     284 00106$:
                            285 ;../time.c:87: if (timeptr->tm_wday>6) timeptr->tm_wday=6;
   009A 21 07 00            286 	ld	hl,#0x0007
   009D 09                  287 	add	hl,bc
   009E 5D                  288 	ld	e,l
   009F 54                  289 	ld	d,h
   00A0 1A                  290 	ld	a,(de)
   00A1 6F                  291 	ld	l,a
   00A2 3E 06               292 	ld	a,#0x06
   00A4 BD                  293 	cp	a,l
   00A5 30 01               294 	jr	NC,00108$
   00A7 12                  295 	ld	(de),a
   00A8                     296 00108$:
                            297 ;../time.c:88: if (timeptr->tm_mday<1) timeptr->tm_mday=1;
   00A8 59                  298 	ld	e,c
   00A9 50                  299 	ld	d,b
   00AA 13                  300 	inc	de
   00AB 13                  301 	inc	de
   00AC 13                  302 	inc	de
   00AD 1A                  303 	ld	a,(de)
   00AE DD 77 FF            304 	ld	-1 (ix), a
   00B1 D6 01               305 	sub	a, #0x01
   00B3 30 05               306 	jr	NC,00112$
   00B5 3E 01               307 	ld	a,#0x01
   00B7 12                  308 	ld	(de),a
   00B8 18 0A               309 	jr	00113$
   00BA                     310 00112$:
                            311 ;../time.c:89: else if (timeptr->tm_mday>31) timeptr->tm_mday=31;
   00BA 3E 1F               312 	ld	a,#0x1F
   00BC DD 96 FF            313 	sub	a, -1 (ix)
   00BF 30 03               314 	jr	NC,00113$
   00C1 3E 1F               315 	ld	a,#0x1F
   00C3 12                  316 	ld	(de),a
   00C4                     317 00113$:
                            318 ;../time.c:90: if (timeptr->tm_mon>11) timeptr->tm_mon=11;
   00C4 21 04 00            319 	ld	hl,#0x0004
   00C7 09                  320 	add	hl,bc
   00C8 5D                  321 	ld	e,l
   00C9 54                  322 	ld	d,h
   00CA 1A                  323 	ld	a,(de)
   00CB 6F                  324 	ld	l,a
   00CC 3E 0B               325 	ld	a,#0x0B
   00CE BD                  326 	cp	a,l
   00CF 30 01               327 	jr	NC,00115$
   00D1 12                  328 	ld	(de),a
   00D2                     329 00115$:
                            330 ;../time.c:91: if (timeptr->tm_year<0) timeptr->tm_year=0;
   00D2 03                  331 	inc	bc
   00D3 03                  332 	inc	bc
   00D4 03                  333 	inc	bc
   00D5 03                  334 	inc	bc
   00D6 03                  335 	inc	bc
   00D7 69                  336 	ld	l,c
   00D8 60                  337 	ld	h,b
   00D9 23                  338 	inc	hl
   00DA 7E                  339 	ld	a, (hl)
   00DB CB 7F               340 	bit	7,a
   00DD 28 07               341 	jr	Z,00118$
   00DF 69                  342 	ld	l,c
   00E0 60                  343 	ld	h,b
   00E1 36 00               344 	ld	(hl),#0x00
   00E3 23                  345 	inc	hl
   00E4 36 00               346 	ld	(hl),#0x00
   00E6                     347 00118$:
   00E6 DD F9               348 	ld	sp,ix
   00E8 DD E1               349 	pop	ix
   00EA C9                  350 	ret
                            351 ;../time.c:95: char *asctime(struct tm *timeptr) {
                            352 ;	---------------------------------
                            353 ; Function asctime
                            354 ; ---------------------------------
   00EB                     355 _asctime_start::
   00EB                     356 _asctime:
   00EB DD E5               357 	push	ix
   00ED DD 21 00 00         358 	ld	ix,#0
   00F1 DD 39               359 	add	ix,sp
   00F3 21 F6 FF            360 	ld	hl,#-10
   00F6 39                  361 	add	hl,sp
   00F7 F9                  362 	ld	sp,hl
                            363 ;../time.c:96: CheckTime(timeptr);
   00F8 DD 6E 04            364 	ld	l,4 (ix)
   00FB DD 66 05            365 	ld	h,5 (ix)
   00FE E5                  366 	push	hl
   00FF CDr6Cs00            367 	call	_CheckTime
   0102 F1                  368 	pop	af
                            369 ;../time.c:100: timeptr->tm_year+1900);
   0103 DD 4E 04            370 	ld	c,4 (ix)
   0106 DD 46 05            371 	ld	b,5 (ix)
   0109 21 05 00            372 	ld	hl,#0x0005
   010C 09                  373 	add	hl,bc
   010D 7E                  374 	ld	a,(hl)
   010E 23                  375 	inc	hl
   010F 66                  376 	ld	h,(hl)
   0110 C6 6C               377 	add	a,#0x6C
   0112 DD 77 FE            378 	ld	-2 (ix),a
   0115 7C                  379 	ld	a,h
   0116 CE 07               380 	adc	a,#0x07
   0118 DD 77 FF            381 	ld	-1 (ix),a
                            382 ;../time.c:99: timeptr->tm_hour, timeptr->tm_min, timeptr->tm_sec, 
   011B 0A                  383 	ld	a,(bc)
   011C DD 77 FC            384 	ld	-4 (ix), a
   011F DD 36 FD 00         385 	ld	-3 (ix),#0x00
   0123 59                  386 	ld	e,c
   0124 50                  387 	ld	d,b
   0125 13                  388 	inc	de
   0126 1A                  389 	ld	a,(de)
   0127 DD 77 FA            390 	ld	-6 (ix), a
   012A DD 36 FB 00         391 	ld	-5 (ix),#0x00
   012E 59                  392 	ld	e,c
   012F 50                  393 	ld	d,b
   0130 13                  394 	inc	de
   0131 13                  395 	inc	de
   0132 1A                  396 	ld	a,(de)
   0133 DD 77 F8            397 	ld	-8 (ix), a
   0136 DD 36 F9 00         398 	ld	-7 (ix),#0x00
                            399 ;../time.c:98: __day[timeptr->tm_wday], __month[timeptr->tm_mon], timeptr->tm_mday,
   013A 59                  400 	ld	e,c
   013B 50                  401 	ld	d,b
   013C 13                  402 	inc	de
   013D 13                  403 	inc	de
   013E 13                  404 	inc	de
   013F 1A                  405 	ld	a,(de)
   0140 DD 77 F6            406 	ld	-10 (ix), a
   0143 DD 36 F7 00         407 	ld	-9 (ix),#0x00
   0147 21 04 00            408 	ld	hl,#0x0004
   014A 09                  409 	add	hl,bc
   014B 7E                  410 	ld	a,(hl)
   014C 87                  411 	add	a,a
   014D C6r0C               412 	add	a,#<(___month)
   014F 6F                  413 	ld	l, a
   0150 3Es00               414 	ld	a, #>(___month)
   0152 CE 00               415 	adc	a, #0x00
   0154 67                  416 	ld	h, a
   0155 5E                  417 	ld	e,(hl)
   0156 23                  418 	inc	hl
   0157 56                  419 	ld	d,(hl)
   0158 21 07 00            420 	ld	hl,#0x0007
   015B 09                  421 	add	hl,bc
   015C 7E                  422 	ld	a,(hl)
   015D 87                  423 	add	a,a
   015E C6r24               424 	add	a,#<(___day)
   0160 6F                  425 	ld	l, a
   0161 3Es00               426 	ld	a, #>(___day)
   0163 CE 00               427 	adc	a, #0x00
   0165 67                  428 	ld	h, a
   0166 4E                  429 	ld	c,(hl)
   0167 23                  430 	inc	hl
   0168 46                  431 	ld	b,(hl)
                            432 ;../time.c:97: sprintf (ascTimeBuffer, "%s %s %2d %02d:%02d:%02d %04d\n",
   0169 DD 6E FE            433 	ld	l,-2 (ix)
   016C DD 66 FF            434 	ld	h,-1 (ix)
   016F E5                  435 	push	hl
   0170 DD 6E FC            436 	ld	l,-4 (ix)
   0173 DD 66 FD            437 	ld	h,-3 (ix)
   0176 E5                  438 	push	hl
   0177 DD 6E FA            439 	ld	l,-6 (ix)
   017A DD 66 FB            440 	ld	h,-5 (ix)
   017D E5                  441 	push	hl
   017E DD 6E F8            442 	ld	l,-8 (ix)
   0181 DD 66 F9            443 	ld	h,-7 (ix)
   0184 E5                  444 	push	hl
   0185 DD 6E F6            445 	ld	l,-10 (ix)
   0188 DD 66 F7            446 	ld	h,-9 (ix)
   018B E5                  447 	push	hl
   018C D5                  448 	push	de
   018D C5                  449 	push	bc
   018E 21rA6s01            450 	ld	hl,#__str_0
   0191 E5                  451 	push	hl
   0192 21r32s00            452 	ld	hl,#_ascTimeBuffer
   0195 E5                  453 	push	hl
   0196 CDr00s00            454 	call	_sprintf
   0199 21 12 00            455 	ld	hl,#0x0012
   019C 39                  456 	add	hl,sp
   019D F9                  457 	ld	sp,hl
                            458 ;../time.c:101: return ascTimeBuffer;
   019E 21r32s00            459 	ld	hl,#_ascTimeBuffer
   01A1 DD F9               460 	ld	sp,ix
   01A3 DD E1               461 	pop	ix
   01A5 C9                  462 	ret
   01A6                     463 _asctime_end::
   01A6                     464 __str_0:
   01A6 25 73 20 25 73 20   465 	.ascii "%s %s %2d %02d:%02d:%02d %04d"
        25 32 64 20 25 30
        32 64 3A 25 30 32
        64 3A 25 30 32 64
        20 25 30 34 64
   01C3 0A                  466 	.db 0x0A
   01C4 00                  467 	.db 0x00
                            468 ;../time.c:104: char *ctime(time_t *timep) {
                            469 ;	---------------------------------
                            470 ; Function ctime
                            471 ; ---------------------------------
   01C5                     472 _ctime_start::
   01C5                     473 _ctime:
   01C5 DD E5               474 	push	ix
   01C7 DD 21 00 00         475 	ld	ix,#0
   01CB DD 39               476 	add	ix,sp
                            477 ;../time.c:105: return asctime(localtime(timep));
   01CD DD 6E 04            478 	ld	l,4 (ix)
   01D0 DD 66 05            479 	ld	h,5 (ix)
   01D3 E5                  480 	push	hl
   01D4 CDrDFs01            481 	call	_localtime
   01D7 E3                  482 	ex	(sp),hl
   01D8 CDrEBs00            483 	call	_asctime
   01DB F1                  484 	pop	af
   01DC DD E1               485 	pop	ix
   01DE C9                  486 	ret
   01DF                     487 _ctime_end::
                            488 ;../time.c:121: struct tm *localtime(time_t *timep) {
                            489 ;	---------------------------------
                            490 ; Function localtime
                            491 ; ---------------------------------
   01DF                     492 _localtime_start::
   01DF                     493 _localtime:
   01DF DD E5               494 	push	ix
   01E1 DD 21 00 00         495 	ld	ix,#0
   01E5 DD 39               496 	add	ix,sp
                            497 ;../time.c:122: return gmtime(timep);
   01E7 DD 6E 04            498 	ld	l,4 (ix)
   01EA DD 66 05            499 	ld	h,5 (ix)
   01ED E5                  500 	push	hl
   01EE CDrF5s01            501 	call	_gmtime
   01F1 F1                  502 	pop	af
   01F2 DD E1               503 	pop	ix
   01F4 C9                  504 	ret
   01F5                     505 _localtime_end::
                            506 ;../time.c:125: struct tm *gmtime(time_t *timep) {
                            507 ;	---------------------------------
                            508 ; Function gmtime
                            509 ; ---------------------------------
   01F5                     510 _gmtime_start::
   01F5                     511 _gmtime:
   01F5 DD E5               512 	push	ix
   01F7 DD 21 00 00         513 	ld	ix,#0
   01FB DD 39               514 	add	ix,sp
   01FD 21 F3 FF            515 	ld	hl,#-13
   0200 39                  516 	add	hl,sp
   0201 F9                  517 	ld	sp,hl
                            518 ;../time.c:126: unsigned long epoch=*timep;
   0202 DD 6E 04            519 	ld	l,4 (ix)
   0205 DD 66 05            520 	ld	h,5 (ix)
   0208 4E                  521 	ld	c,(hl)
   0209 23                  522 	inc	hl
   020A 46                  523 	ld	b,(hl)
   020B 23                  524 	inc	hl
   020C 5E                  525 	ld	e,(hl)
   020D 23                  526 	inc	hl
   020E 56                  527 	ld	d,(hl)
   020F DD 71 FC            528 	ld	-4 (ix),c
   0212 DD 70 FD            529 	ld	-3 (ix),b
   0215 DD 73 FE            530 	ld	-2 (ix),e
   0218 DD 72 FF            531 	ld	-1 (ix),d
                            532 ;../time.c:131: lastTime.tm_sec=epoch%60;
   021B 21 00 00            533 	ld	hl,#0x0000
   021E E5                  534 	push	hl
   021F 21 3C 00            535 	ld	hl,#0x003C
   0222 E5                  536 	push	hl
   0223 DD 6E FE            537 	ld	l,-2 (ix)
   0226 DD 66 FF            538 	ld	h,-1 (ix)
   0229 E5                  539 	push	hl
   022A DD 6E FC            540 	ld	l,-4 (ix)
   022D DD 66 FD            541 	ld	h,-3 (ix)
   0230 E5                  542 	push	hl
   0231 CDr00s00            543 	call	__modulong_rrx_s
   0234 F1                  544 	pop	af
   0235 F1                  545 	pop	af
   0236 F1                  546 	pop	af
   0237 F1                  547 	pop	af
   0238 7D                  548 	ld	a, l
   0239 32r52s00            549 	ld	(#_lastTime),a
                            550 ;../time.c:132: epoch/=60; // now it is minutes
   023C 21 00 00            551 	ld	hl,#0x0000
   023F E5                  552 	push	hl
   0240 21 3C 00            553 	ld	hl,#0x003C
   0243 E5                  554 	push	hl
   0244 DD 6E FE            555 	ld	l,-2 (ix)
   0247 DD 66 FF            556 	ld	h,-1 (ix)
   024A E5                  557 	push	hl
   024B DD 6E FC            558 	ld	l,-4 (ix)
   024E DD 66 FD            559 	ld	h,-3 (ix)
   0251 E5                  560 	push	hl
   0252 CDr00s00            561 	call	__divulong_rrx_s
   0255 F1                  562 	pop	af
   0256 F1                  563 	pop	af
   0257 F1                  564 	pop	af
   0258 F1                  565 	pop	af
   0259 DD 75 FC            566 	ld	-4 (ix), l
   025C DD 74 FD            567 	ld	-3 (ix), h
   025F DD 73 FE            568 	ld	-2 (ix),e
   0262 DD 72 FF            569 	ld	-1 (ix),d
                            570 ;../time.c:133: lastTime.tm_min=epoch%60;
   0265 21 00 00            571 	ld	hl,#0x0000
   0268 E5                  572 	push	hl
   0269 21 3C 00            573 	ld	hl,#0x003C
   026C E5                  574 	push	hl
   026D DD 6E FE            575 	ld	l,-2 (ix)
   0270 DD 66 FF            576 	ld	h,-1 (ix)
   0273 E5                  577 	push	hl
   0274 DD 6E FC            578 	ld	l,-4 (ix)
   0277 DD 66 FD            579 	ld	h,-3 (ix)
   027A E5                  580 	push	hl
   027B CDr00s00            581 	call	__modulong_rrx_s
   027E F1                  582 	pop	af
   027F F1                  583 	pop	af
   0280 F1                  584 	pop	af
   0281 F1                  585 	pop	af
   0282 7D                  586 	ld	a, l
   0283 32r53s00            587 	ld	(#0x0001 + _lastTime),a
                            588 ;../time.c:134: epoch/=60; // now it is hours
   0286 21 00 00            589 	ld	hl,#0x0000
   0289 E5                  590 	push	hl
   028A 21 3C 00            591 	ld	hl,#0x003C
   028D E5                  592 	push	hl
   028E DD 6E FE            593 	ld	l,-2 (ix)
   0291 DD 66 FF            594 	ld	h,-1 (ix)
   0294 E5                  595 	push	hl
   0295 DD 6E FC            596 	ld	l,-4 (ix)
   0298 DD 66 FD            597 	ld	h,-3 (ix)
   029B E5                  598 	push	hl
   029C CDr00s00            599 	call	__divulong_rrx_s
   029F F1                  600 	pop	af
   02A0 F1                  601 	pop	af
   02A1 F1                  602 	pop	af
   02A2 F1                  603 	pop	af
   02A3 DD 75 FC            604 	ld	-4 (ix), l
   02A6 DD 74 FD            605 	ld	-3 (ix), h
   02A9 DD 73 FE            606 	ld	-2 (ix),e
   02AC DD 72 FF            607 	ld	-1 (ix),d
                            608 ;../time.c:135: lastTime.tm_hour=epoch%24;
   02AF 21 00 00            609 	ld	hl,#0x0000
   02B2 E5                  610 	push	hl
   02B3 21 18 00            611 	ld	hl,#0x0018
   02B6 E5                  612 	push	hl
   02B7 DD 6E FE            613 	ld	l,-2 (ix)
   02BA DD 66 FF            614 	ld	h,-1 (ix)
   02BD E5                  615 	push	hl
   02BE DD 6E FC            616 	ld	l,-4 (ix)
   02C1 DD 66 FD            617 	ld	h,-3 (ix)
   02C4 E5                  618 	push	hl
   02C5 CDr00s00            619 	call	__modulong_rrx_s
   02C8 F1                  620 	pop	af
   02C9 F1                  621 	pop	af
   02CA F1                  622 	pop	af
   02CB F1                  623 	pop	af
   02CC 7D                  624 	ld	a, l
   02CD 32r54s00            625 	ld	(#0x0002 + _lastTime),a
                            626 ;../time.c:136: epoch/=24; // now it is days
   02D0 21 00 00            627 	ld	hl,#0x0000
   02D3 E5                  628 	push	hl
   02D4 21 18 00            629 	ld	hl,#0x0018
   02D7 E5                  630 	push	hl
   02D8 DD 6E FE            631 	ld	l,-2 (ix)
   02DB DD 66 FF            632 	ld	h,-1 (ix)
   02DE E5                  633 	push	hl
   02DF DD 6E FC            634 	ld	l,-4 (ix)
   02E2 DD 66 FD            635 	ld	h,-3 (ix)
   02E5 E5                  636 	push	hl
   02E6 CDr00s00            637 	call	__divulong_rrx_s
   02E9 F1                  638 	pop	af
   02EA F1                  639 	pop	af
   02EB F1                  640 	pop	af
   02EC F1                  641 	pop	af
   02ED DD 75 FC            642 	ld	-4 (ix), l
   02F0 DD 74 FD            643 	ld	-3 (ix), h
   02F3 DD 73 FE            644 	ld	-2 (ix),e
   02F6 DD 72 FF            645 	ld	-1 (ix),d
                            646 ;../time.c:137: lastTime.tm_wday=(epoch+4)%7;
   02F9 DD 7E FC            647 	ld	a,-4 (ix)
   02FC C6 04               648 	add	a,#0x04
   02FE 4F                  649 	ld	c,a
   02FF DD 7E FD            650 	ld	a,-3 (ix)
   0302 CE 00               651 	adc	a,#0x00
   0304 47                  652 	ld	b,a
   0305 DD 7E FE            653 	ld	a,-2 (ix)
   0308 CE 00               654 	adc	a,#0x00
   030A 5F                  655 	ld	e,a
   030B DD 7E FF            656 	ld	a,-1 (ix)
   030E CE 00               657 	adc	a,#0x00
   0310 57                  658 	ld	d,a
   0311 21 00 00            659 	ld	hl,#0x0000
   0314 E5                  660 	push	hl
   0315 21 07 00            661 	ld	hl,#0x0007
   0318 E5                  662 	push	hl
   0319 D5                  663 	push	de
   031A C5                  664 	push	bc
   031B CDr00s00            665 	call	__modulong_rrx_s
   031E F1                  666 	pop	af
   031F F1                  667 	pop	af
   0320 F1                  668 	pop	af
   0321 F1                  669 	pop	af
   0322 7D                  670 	ld	a, l
   0323 32r59s00            671 	ld	(#0x0007 + _lastTime),a
                            672 ;../time.c:140: days=0;
   0326 AF                  673 	xor	a,a
   0327 DD 77 F5            674 	ld	-11 (ix),a
   032A DD 77 F6            675 	ld	-10 (ix),a
   032D DD 77 F7            676 	ld	-9 (ix),a
   0330 DD 77 F8            677 	ld	-8 (ix),a
                            678 ;../time.c:141: while((days += (LEAP_YEAR(year) ? 366 : 365)) <= epoch) {
   0333 DD 36 FA B2         679 	ld	-6 (ix),#0xB2
   0337 DD 36 FB 07         680 	ld	-5 (ix),#0x07
   033B                     681 00101$:
   033B DD 7E FA            682 	ld	a,-6 (ix)
   033E E6 03               683 	and	a,#0x03
   0340 16 00               684 	ld	d, #0x00
   0342 B2                  685 	or	a,d
   0343 D6 01               686 	sub	a,#0x01
   0345 3E 00               687 	ld	a,#0x00
   0347 17                  688 	rla
   0348 B7                  689 	or	a,a
   0349 28 05               690 	jr	Z,00119$
   034B 11 6E 01            691 	ld	de,#0x016E
   034E 18 03               692 	jr	00120$
   0350                     693 00119$:
   0350 11 6D 01            694 	ld	de,#0x016D
   0353                     695 00120$:
   0353 7A                  696 	ld	a,d
   0354 17                  697 	rla	
   0355 9F                  698 	sbc	a,a
   0356 4F                  699 	ld	c,a
   0357 47                  700 	ld	b,a
   0358 DD 7E F5            701 	ld	a,-11 (ix)
   035B 83                  702 	add	a,e
   035C 5F                  703 	ld	e,a
   035D DD 7E F6            704 	ld	a,-10 (ix)
   0360 8A                  705 	adc	a,d
   0361 57                  706 	ld	d,a
   0362 DD 7E F7            707 	ld	a,-9 (ix)
   0365 89                  708 	adc	a,c
   0366 4F                  709 	ld	c,a
   0367 DD 7E F8            710 	ld	a,-8 (ix)
   036A 88                  711 	adc	a,b
   036B 47                  712 	ld	b,a
   036C DD 73 F5            713 	ld	-11 (ix),e
   036F DD 72 F6            714 	ld	-10 (ix),d
   0372 DD 71 F7            715 	ld	-9 (ix),c
   0375 DD 70 F8            716 	ld	-8 (ix),b
   0378 DD 7E FC            717 	ld	a,-4 (ix)
   037B 93                  718 	sub	a, e
   037C DD 7E FD            719 	ld	a,-3 (ix)
   037F 9A                  720 	sbc	a, d
   0380 DD 7E FE            721 	ld	a,-2 (ix)
   0383 99                  722 	sbc	a, c
   0384 DD 7E FF            723 	ld	a,-1 (ix)
   0387 98                  724 	sbc	a, b
   0388 38 0A               725 	jr	C,00103$
                            726 ;../time.c:142: year++;
   038A DD 34 FA            727 	inc	-6 (ix)
   038D 20 AC               728 	jr	NZ,00101$
   038F DD 34 FB            729 	inc	-5 (ix)
   0392 18 A7               730 	jr	00101$
   0394                     731 00103$:
                            732 ;../time.c:144: lastTime.tm_year=year-1900;
   0394 DD 7E FA            733 	ld	a,-6 (ix)
   0397 C6 94               734 	add	a,#0x94
   0399 4F                  735 	ld	c,a
   039A DD 7E FB            736 	ld	a,-5 (ix)
   039D CE F8               737 	adc	a,#0xF8
   039F 47                  738 	ld	b,a
   03A0 21r57s00            739 	ld	hl,#0x0005 + _lastTime
   03A3 71                  740 	ld	(hl),c
   03A4 23                  741 	inc	hl
   03A5 70                  742 	ld	(hl),b
                            743 ;../time.c:146: days -= LEAP_YEAR(year) ? 366 : 365;
   03A6 DD 7E FA            744 	ld	a,-6 (ix)
   03A9 E6 03               745 	and	a,#0x03
   03AB DD 77 F3            746 	ld	-13 (ix),a
   03AE DD 36 F4 00         747 	ld	-12 (ix),#0x00
   03B2 DD 7E F3            748 	ld	a,-13 (ix)
   03B5 DD B6 F4            749 	or	a,-12 (ix)
   03B8 D6 01               750 	sub	a,#0x01
   03BA 3E 00               751 	ld	a,#0x00
   03BC 17                  752 	rla
   03BD B7                  753 	or	a,a
   03BE 28 05               754 	jr	Z,00121$
   03C0 11 6E 01            755 	ld	de,#0x016E
   03C3 18 03               756 	jr	00122$
   03C5                     757 00121$:
   03C5 11 6D 01            758 	ld	de,#0x016D
   03C8                     759 00122$:
   03C8 7A                  760 	ld	a,d
   03C9 17                  761 	rla	
   03CA 9F                  762 	sbc	a,a
   03CB 4F                  763 	ld	c,a
   03CC 47                  764 	ld	b,a
   03CD DD 7E F5            765 	ld	a,-11 (ix)
   03D0 93                  766 	sub	a,e
   03D1 DD 77 F5            767 	ld	-11 (ix),a
   03D4 DD 7E F6            768 	ld	a,-10 (ix)
   03D7 9A                  769 	sbc	a,d
   03D8 DD 77 F6            770 	ld	-10 (ix),a
   03DB DD 7E F7            771 	ld	a,-9 (ix)
   03DE 99                  772 	sbc	a,c
   03DF DD 77 F7            773 	ld	-9 (ix),a
   03E2 DD 7E F8            774 	ld	a,-8 (ix)
   03E5 98                  775 	sbc	a,b
   03E6 DD 77 F8            776 	ld	-8 (ix),a
                            777 ;../time.c:147: epoch -= days; // now it is days in this year, starting at 0
   03E9 DD 7E FC            778 	ld	a,-4 (ix)
   03EC DD 96 F5            779 	sub	a,-11 (ix)
   03EF DD 77 FC            780 	ld	-4 (ix),a
   03F2 DD 7E FD            781 	ld	a,-3 (ix)
   03F5 DD 9E F6            782 	sbc	a,-10 (ix)
   03F8 DD 77 FD            783 	ld	-3 (ix),a
   03FB DD 7E FE            784 	ld	a,-2 (ix)
   03FE DD 9E F7            785 	sbc	a,-9 (ix)
   0401 DD 77 FE            786 	ld	-2 (ix),a
   0404 DD 7E FF            787 	ld	a,-1 (ix)
   0407 DD 9E F8            788 	sbc	a,-8 (ix)
   040A DD 77 FF            789 	ld	-1 (ix),a
                            790 ;../time.c:148: lastTime.tm_yday=epoch;
   040D DD 4E FC            791 	ld	c,-4 (ix)
   0410 DD 46 FD            792 	ld	b,-3 (ix)
   0413 21r5As00            793 	ld	hl,#0x0008 + _lastTime
   0416 71                  794 	ld	(hl),c
   0417 23                  795 	inc	hl
   0418 70                  796 	ld	(hl),b
                            797 ;../time.c:153: for (month=0; month<12; month++) {
   0419 DD 36 F9 00         798 	ld	-7 (ix),#0x00
   041D                     799 00113$:
   041D DD 7E F9            800 	ld	a,-7 (ix)
   0420 D6 0C               801 	sub	a, #0x0C
   0422 30 5C               802 	jr	NC,00116$
                            803 ;../time.c:154: if (month==1) { // februari
   0424 DD 7E F9            804 	ld	a,-7 (ix)
   0427 D6 01               805 	sub	a,#0x01
   0429 20 10               806 	jr	NZ,00108$
                            807 ;../time.c:155: if (LEAP_YEAR(year)) {
   042B DD 7E F3            808 	ld	a,-13 (ix)
   042E DD B6 F4            809 	or	a,-12 (ix)
   0431 20 04               810 	jr	NZ,00105$
                            811 ;../time.c:156: monthLength=29;
   0433 06 1D               812 	ld	b,#0x1D
   0435 18 11               813 	jr	00109$
   0437                     814 00105$:
                            815 ;../time.c:158: monthLength=28;
   0437 06 1C               816 	ld	b,#0x1C
   0439 18 0D               817 	jr	00109$
   043B                     818 00108$:
                            819 ;../time.c:161: monthLength = monthDays[month];
   043B 3Er00               820 	ld	a,#<(_monthDays)
   043D DD 86 F9            821 	add	a,-7 (ix)
   0440 5F                  822 	ld	e,a
   0441 3Es00               823 	ld	a,#>(_monthDays)
   0443 CE 00               824 	adc	a,#0x00
   0445 57                  825 	ld	d,a
   0446 1A                  826 	ld	a,(de)
   0447 47                  827 	ld	b,a
   0448                     828 00109$:
                            829 ;../time.c:164: if (epoch>=monthLength) {
   0448 11 00 00            830 	ld	de,#0x0000
   044B 0E 00               831 	ld	c,#0x00
   044D DD 7E FC            832 	ld	a,-4 (ix)
   0450 90                  833 	sub	a, b
   0451 DD 7E FD            834 	ld	a,-3 (ix)
   0454 9B                  835 	sbc	a, e
   0455 DD 7E FE            836 	ld	a,-2 (ix)
   0458 9A                  837 	sbc	a, d
   0459 DD 7E FF            838 	ld	a,-1 (ix)
   045C 99                  839 	sbc	a, c
   045D 38 21               840 	jr	C,00116$
                            841 ;../time.c:165: epoch-=monthLength;
   045F DD 7E FC            842 	ld	a,-4 (ix)
   0462 90                  843 	sub	a,b
   0463 DD 77 FC            844 	ld	-4 (ix),a
   0466 DD 7E FD            845 	ld	a,-3 (ix)
   0469 9B                  846 	sbc	a,e
   046A DD 77 FD            847 	ld	-3 (ix),a
   046D DD 7E FE            848 	ld	a,-2 (ix)
   0470 9A                  849 	sbc	a,d
   0471 DD 77 FE            850 	ld	-2 (ix),a
   0474 DD 7E FF            851 	ld	a,-1 (ix)
   0477 99                  852 	sbc	a,c
   0478 DD 77 FF            853 	ld	-1 (ix),a
                            854 ;../time.c:153: for (month=0; month<12; month++) {
   047B DD 34 F9            855 	inc	-7 (ix)
   047E 18 9D               856 	jr	00113$
   0480                     857 00116$:
                            858 ;../time.c:170: lastTime.tm_mon=month;
   0480 21r56s00            859 	ld	hl,#0x0004 + _lastTime
   0483 DD 7E F9            860 	ld	a,-7 (ix)
   0486 77                  861 	ld	(hl),a
                            862 ;../time.c:171: lastTime.tm_mday=epoch+1;
   0487 DD 7E FC            863 	ld	a, -4 (ix)
   048A 3C                  864 	inc	a
   048B 32r55s00            865 	ld	(#0x0003 + _lastTime),a
                            866 ;../time.c:173: lastTime.tm_isdst=0;
   048E 21r5Cs00            867 	ld	hl,#0x000a + _lastTime
   0491 36 00               868 	ld	(hl),#0x00
                            869 ;../time.c:175: return &lastTime;
   0493 21r52s00            870 	ld	hl,#_lastTime
   0496 DD F9               871 	ld	sp,ix
   0498 DD E1               872 	pop	ix
   049A C9                  873 	ret
   049B                     874 _gmtime_end::
                            875 ;../time.c:179: time_t mktime(struct tm *timeptr) {
                            876 ;	---------------------------------
                            877 ; Function mktime
                            878 ; ---------------------------------
   049B                     879 _mktime_start::
   049B                     880 _mktime:
   049B DD E5               881 	push	ix
   049D DD 21 00 00         882 	ld	ix,#0
   04A1 DD 39               883 	add	ix,sp
   04A3 21 F0 FF            884 	ld	hl,#-16
   04A6 39                  885 	add	hl,sp
   04A7 F9                  886 	ld	sp,hl
                            887 ;../time.c:180: int year=timeptr->tm_year+1900, month=timeptr->tm_mon, i;
   04A8 DD 7E 04            888 	ld	a,4 (ix)
   04AB DD 77 F4            889 	ld	-12 (ix),a
   04AE DD 7E 05            890 	ld	a,5 (ix)
   04B1 DD 77 F5            891 	ld	-11 (ix),a
   04B4 DD 7E F4            892 	ld	a,-12 (ix)
   04B7 C6 05               893 	add	a,#0x05
   04B9 6F                  894 	ld	l, a
   04BA DD 7E F5            895 	ld	a, -11 (ix)
   04BD CE 00               896 	adc	a, #0x00
   04BF 67                  897 	ld	h, a
   04C0 7E                  898 	ld	a,(hl)
   04C1 23                  899 	inc	hl
   04C2 66                  900 	ld	h,(hl)
   04C3 C6 6C               901 	add	a,#0x6C
   04C5 DD 77 FE            902 	ld	-2 (ix),a
   04C8 7C                  903 	ld	a,h
   04C9 CE 07               904 	adc	a,#0x07
   04CB DD 77 FF            905 	ld	-1 (ix),a
   04CE DD 7E F4            906 	ld	a,-12 (ix)
   04D1 C6 04               907 	add	a,#0x04
   04D3 5F                  908 	ld	e,a
   04D4 DD 7E F5            909 	ld	a,-11 (ix)
   04D7 CE 00               910 	adc	a,#0x00
   04D9 57                  911 	ld	d,a
   04DA 1A                  912 	ld	a,(de)
   04DB DD 77 FC            913 	ld	-4 (ix), a
   04DE DD 36 FD 00         914 	ld	-3 (ix),#0x00
                            915 ;../time.c:183: CheckTime(timeptr);
   04E2 DD 6E F4            916 	ld	l,-12 (ix)
   04E5 DD 66 F5            917 	ld	h,-11 (ix)
   04E8 E5                  918 	push	hl
   04E9 CDr6Cs00            919 	call	_CheckTime
   04EC F1                  920 	pop	af
                            921 ;../time.c:186: seconds= (year-1970)*(60*60*24L*365);
   04ED DD 7E FE            922 	ld	a,-2 (ix)
   04F0 C6 4E               923 	add	a,#0x4E
   04F2 5F                  924 	ld	e, a
   04F3 DD 7E FF            925 	ld	a, -1 (ix)
   04F6 CE F8               926 	adc	a, #0xF8
   04F8 57                  927 	ld	d,a
   04F9 17                  928 	rla	
   04FA 9F                  929 	sbc	a,a
   04FB 6F                  930 	ld	l, a
   04FC 67                  931 	ld	h,a
   04FD E5                  932 	push	hl
   04FE D5                  933 	push	de
   04FF 21 E1 01            934 	ld	hl,#0x01E1
   0502 E5                  935 	push	hl
   0503 21 80 33            936 	ld	hl,#0x1E13380
   0506 E5                  937 	push	hl
   0507 CDr00s00            938 	call	__mullong_rrx_s
   050A F1                  939 	pop	af
   050B F1                  940 	pop	af
   050C F1                  941 	pop	af
   050D F1                  942 	pop	af
   050E DD 75 F6            943 	ld	-10 (ix), l
   0511 DD 74 F7            944 	ld	-9 (ix), h
   0514 DD 73 F8            945 	ld	-8 (ix),e
   0517 DD 72 F9            946 	ld	-7 (ix),d
                            947 ;../time.c:189: for (i=1970; i<year; i++) {
   051A DD 7E F6            948 	ld	a,-10 (ix)
   051D DD 77 F0            949 	ld	-16 (ix),a
   0520 DD 7E F7            950 	ld	a,-9 (ix)
   0523 DD 77 F1            951 	ld	-15 (ix),a
   0526 DD 7E F8            952 	ld	a,-8 (ix)
   0529 DD 77 F2            953 	ld	-14 (ix),a
   052C DD 7E F9            954 	ld	a,-7 (ix)
   052F DD 77 F3            955 	ld	-13 (ix),a
   0532 01 B2 07            956 	ld	bc,#0x07B2
   0535                     957 00107$:
   0535 79                  958 	ld	a,c
   0536 DD 96 FE            959 	sub	a, -2 (ix)
   0539 78                  960 	ld	a,b
   053A DD 9E FF            961 	sbc	a, -1 (ix)
   053D E2r42s05            962 	jp	PO, 00126$
   0540 EE 80               963 	xor	a, #0x80
   0542                     964 00126$:
   0542 F2r7As05            965 	jp	P,00124$
                            966 ;../time.c:190: if (LEAP_YEAR(i)) {
   0545 C5                  967 	push	bc
   0546 21 04 00            968 	ld	hl,#0x0004
   0549 E5                  969 	push	hl
   054A C5                  970 	push	bc
   054B CDr00s00            971 	call	__modsint_rrx_s
   054E F1                  972 	pop	af
   054F F1                  973 	pop	af
   0550 54                  974 	ld	d,h
   0551 5D                  975 	ld	e,l
   0552 C1                  976 	pop	bc
   0553 7B                  977 	ld	a,e
   0554 B2                  978 	or	a,d
   0555 20 20               979 	jr	NZ,00109$
                            980 ;../time.c:191: seconds+= 60*60*24L;
   0557 DD 7E F0            981 	ld	a,-16 (ix)
   055A C6 80               982 	add	a,#0x80
   055C DD 77 F0            983 	ld	-16 (ix),a
   055F DD 7E F1            984 	ld	a,-15 (ix)
   0562 CE 51               985 	adc	a,#0x51
   0564 DD 77 F1            986 	ld	-15 (ix),a
   0567 DD 7E F2            987 	ld	a,-14 (ix)
   056A CE 01               988 	adc	a,#0x01
   056C DD 77 F2            989 	ld	-14 (ix),a
   056F DD 7E F3            990 	ld	a,-13 (ix)
   0572 CE 00               991 	adc	a,#0x00
   0574 DD 77 F3            992 	ld	-13 (ix),a
   0577                     993 00109$:
                            994 ;../time.c:189: for (i=1970; i<year; i++) {
   0577 03                  995 	inc	bc
   0578 18 BB               996 	jr	00107$
   057A                     997 00124$:
   057A DD 7E F0            998 	ld	a,-16 (ix)
   057D DD 77 F6            999 	ld	-10 (ix),a
   0580 DD 7E F1           1000 	ld	a,-15 (ix)
   0583 DD 77 F7           1001 	ld	-9 (ix),a
   0586 DD 7E F2           1002 	ld	a,-14 (ix)
   0589 DD 77 F8           1003 	ld	-8 (ix),a
   058C DD 7E F3           1004 	ld	a,-13 (ix)
   058F DD 77 F9           1005 	ld	-7 (ix),a
                           1006 ;../time.c:196: for (i=0; i<month; i++) {
   0592 21 04 00           1007 	ld	hl,#0x0004
   0595 E5                 1008 	push	hl
   0596 DD 6E FE           1009 	ld	l,-2 (ix)
   0599 DD 66 FF           1010 	ld	h,-1 (ix)
   059C E5                 1011 	push	hl
   059D CDr00s00           1012 	call	__modsint_rrx_s
   05A0 F1                 1013 	pop	af
   05A1 F1                 1014 	pop	af
   05A2 DD 74 F1           1015 	ld	-15 (ix),h
   05A5 DD 75 F0           1016 	ld	-16 (ix),l
   05A8 DD 36 FA 00        1017 	ld	-6 (ix),#0x00
   05AC DD 36 FB 00        1018 	ld	-5 (ix),#0x00
   05B0                    1019 00111$:
   05B0 DD 7E FA           1020 	ld	a,-6 (ix)
   05B3 DD 96 FC           1021 	sub	a, -4 (ix)
   05B6 DD 7E FB           1022 	ld	a,-5 (ix)
   05B9 DD 9E FD           1023 	sbc	a, -3 (ix)
   05BC E2rC1s05           1024 	jp	PO, 00127$
   05BF EE 80              1025 	xor	a, #0x80
   05C1                    1026 00127$:
   05C1 F2r49s06           1027 	jp	P,00114$
                           1028 ;../time.c:197: if (i==1 && LEAP_YEAR(year)) { 
   05C4 DD 7E FA           1029 	ld	a,-6 (ix)
   05C7 D6 01              1030 	sub	a,#0x01
   05C9 20 30              1031 	jr	NZ,00104$
   05CB DD 7E FB           1032 	ld	a,-5 (ix)
   05CE B7                 1033 	or	a,a
   05CF 20 2A              1034 	jr	NZ,00104$
   05D1 DD 7E F0           1035 	ld	a,-16 (ix)
   05D4 DD B6 F1           1036 	or	a,-15 (ix)
   05D7 20 22              1037 	jr	NZ,00104$
                           1038 ;../time.c:198: seconds+= 60*60*24L*29;
   05D9 DD 7E F6           1039 	ld	a,-10 (ix)
   05DC C6 80              1040 	add	a,#0x80
   05DE DD 77 F6           1041 	ld	-10 (ix),a
   05E1 DD 7E F7           1042 	ld	a,-9 (ix)
   05E4 CE 3B              1043 	adc	a,#0x3B
   05E6 DD 77 F7           1044 	ld	-9 (ix),a
   05E9 DD 7E F8           1045 	ld	a,-8 (ix)
   05EC CE 26              1046 	adc	a,#0x26
   05EE DD 77 F8           1047 	ld	-8 (ix),a
   05F1 DD 7E F9           1048 	ld	a,-7 (ix)
   05F4 CE 00              1049 	adc	a,#0x00
   05F6 DD 77 F9           1050 	ld	-7 (ix),a
   05F9 18 42              1051 	jr	00113$
   05FB                    1052 00104$:
                           1053 ;../time.c:200: seconds+= 60*60*24L*monthDays[i];
   05FB 3Er00              1054 	ld	a,#<(_monthDays)
   05FD DD 86 FA           1055 	add	a,-6 (ix)
   0600 5F                 1056 	ld	e,a
   0601 3Es00              1057 	ld	a,#>(_monthDays)
   0603 DD 8E FB           1058 	adc	a,-5 (ix)
   0606 57                 1059 	ld	d,a
   0607 1A                 1060 	ld	a,(de)
   0608 5F                 1061 	ld	e,a
   0609 17                 1062 	rla	
   060A 9F                 1063 	sbc	a,a
   060B 57                 1064 	ld	d,a
   060C 6F                 1065 	ld	l, a
   060D 67                 1066 	ld	h,a
   060E E5                 1067 	push	hl
   060F D5                 1068 	push	de
   0610 21 01 00           1069 	ld	hl,#0x0001
   0613 E5                 1070 	push	hl
   0614 21 80 51           1071 	ld	hl,#0x15180
   0617 E5                 1072 	push	hl
   0618 CDr00s00           1073 	call	__mullong_rrx_s
   061B F1                 1074 	pop	af
   061C F1                 1075 	pop	af
   061D F1                 1076 	pop	af
   061E F1                 1077 	pop	af
   061F 44                 1078 	ld	b,h
   0620 4D                 1079 	ld	c,l
   0621 DD 7E F6           1080 	ld	a,-10 (ix)
   0624 81                 1081 	add	a,c
   0625 DD 77 F6           1082 	ld	-10 (ix),a
   0628 DD 7E F7           1083 	ld	a,-9 (ix)
   062B 88                 1084 	adc	a,b
   062C DD 77 F7           1085 	ld	-9 (ix),a
   062F DD 7E F8           1086 	ld	a,-8 (ix)
   0632 8B                 1087 	adc	a,e
   0633 DD 77 F8           1088 	ld	-8 (ix),a
   0636 DD 7E F9           1089 	ld	a,-7 (ix)
   0639 8A                 1090 	adc	a,d
   063A DD 77 F9           1091 	ld	-7 (ix),a
   063D                    1092 00113$:
                           1093 ;../time.c:196: for (i=0; i<month; i++) {
   063D DD 34 FA           1094 	inc	-6 (ix)
   0640 C2rB0s05           1095 	jp	NZ,00111$
   0643 DD 34 FB           1096 	inc	-5 (ix)
   0646 C3rB0s05           1097 	jp	00111$
   0649                    1098 00114$:
                           1099 ;../time.c:204: seconds+= (timeptr->tm_mday-1)*60*60*24L;
   0649 DD 4E F4           1100 	ld	c,-12 (ix)
   064C DD 46 F5           1101 	ld	b,-11 (ix)
   064F 03                 1102 	inc	bc
   0650 03                 1103 	inc	bc
   0651 03                 1104 	inc	bc
   0652 0A                 1105 	ld	a,(bc)
   0653 6F                 1106 	ld	l,a
   0654 26 00              1107 	ld	h,#0x00
   0656 2B                 1108 	dec	hl
   0657 4D                 1109 	ld	c,l
   0658 7C                 1110 	ld	a,h
   0659 47                 1111 	ld	b,a
   065A 17                 1112 	rla	
   065B 9F                 1113 	sbc	a,a
   065C 6F                 1114 	ld	l, a
   065D 67                 1115 	ld	h,a
   065E E5                 1116 	push	hl
   065F C5                 1117 	push	bc
   0660 21 01 00           1118 	ld	hl,#0x0001
   0663 E5                 1119 	push	hl
   0664 21 80 51           1120 	ld	hl,#0x15180
   0667 E5                 1121 	push	hl
   0668 CDr00s00           1122 	call	__mullong_rrx_s
   066B F1                 1123 	pop	af
   066C F1                 1124 	pop	af
   066D F1                 1125 	pop	af
   066E F1                 1126 	pop	af
   066F 44                 1127 	ld	b,h
   0670 4D                 1128 	ld	c,l
   0671 DD 7E F6           1129 	ld	a,-10 (ix)
   0674 81                 1130 	add	a,c
   0675 DD 77 F6           1131 	ld	-10 (ix),a
   0678 DD 7E F7           1132 	ld	a,-9 (ix)
   067B 88                 1133 	adc	a,b
   067C DD 77 F7           1134 	ld	-9 (ix),a
   067F DD 7E F8           1135 	ld	a,-8 (ix)
   0682 8B                 1136 	adc	a,e
   0683 DD 77 F8           1137 	ld	-8 (ix),a
   0686 DD 7E F9           1138 	ld	a,-7 (ix)
   0689 8A                 1139 	adc	a,d
   068A DD 77 F9           1140 	ld	-7 (ix),a
                           1141 ;../time.c:205: seconds+= timeptr->tm_hour*60*60L;
   068D DD 4E F4           1142 	ld	c,-12 (ix)
   0690 DD 46 F5           1143 	ld	b,-11 (ix)
   0693 03                 1144 	inc	bc
   0694 03                 1145 	inc	bc
   0695 0A                 1146 	ld	a,(bc)
   0696 4F                 1147 	ld	c, a
   0697 06 00              1148 	ld	b,#0x00
   0699 21 00 00           1149 	ld	hl,#0x0000
   069C E5                 1150 	push	hl
   069D C5                 1151 	push	bc
   069E 21 00 00           1152 	ld	hl,#0x0000
   06A1 E5                 1153 	push	hl
   06A2 21 10 0E           1154 	ld	hl,#0x0E10
   06A5 E5                 1155 	push	hl
   06A6 CDr00s00           1156 	call	__mullong_rrx_s
   06A9 F1                 1157 	pop	af
   06AA F1                 1158 	pop	af
   06AB F1                 1159 	pop	af
   06AC F1                 1160 	pop	af
   06AD 44                 1161 	ld	b,h
   06AE 4D                 1162 	ld	c,l
   06AF DD 7E F6           1163 	ld	a,-10 (ix)
   06B2 81                 1164 	add	a,c
   06B3 DD 77 F6           1165 	ld	-10 (ix),a
   06B6 DD 7E F7           1166 	ld	a,-9 (ix)
   06B9 88                 1167 	adc	a,b
   06BA DD 77 F7           1168 	ld	-9 (ix),a
   06BD DD 7E F8           1169 	ld	a,-8 (ix)
   06C0 8B                 1170 	adc	a,e
   06C1 DD 77 F8           1171 	ld	-8 (ix),a
   06C4 DD 7E F9           1172 	ld	a,-7 (ix)
   06C7 8A                 1173 	adc	a,d
   06C8 DD 77 F9           1174 	ld	-7 (ix),a
                           1175 ;../time.c:206: seconds+= timeptr->tm_min*60;
   06CB DD 4E F4           1176 	ld	c,-12 (ix)
   06CE DD 46 F5           1177 	ld	b,-11 (ix)
   06D1 03                 1178 	inc	bc
   06D2 0A                 1179 	ld	a,(bc)
   06D3 5F                 1180 	ld	e, a
   06D4 16 00              1181 	ld	d, #0x00
   06D6 6F                 1182 	ld	l, a
   06D7 62                 1183 	ld	h,d
   06D8 29                 1184 	add	hl,hl
   06D9 19                 1185 	add	hl,de
   06DA 29                 1186 	add	hl,hl
   06DB 19                 1187 	add	hl,de
   06DC 29                 1188 	add	hl,hl
   06DD 19                 1189 	add	hl,de
   06DE 29                 1190 	add	hl,hl
   06DF 29                 1191 	add	hl,hl
   06E0 4D                 1192 	ld	c,l
   06E1 44                 1193 	ld	b,h
   06E2 78                 1194 	ld	a,b
   06E3 17                 1195 	rla	
   06E4 9F                 1196 	sbc	a,a
   06E5 5F                 1197 	ld	e,a
   06E6 57                 1198 	ld	d,a
   06E7 DD 7E F6           1199 	ld	a,-10 (ix)
   06EA 81                 1200 	add	a,c
   06EB DD 77 F6           1201 	ld	-10 (ix),a
   06EE DD 7E F7           1202 	ld	a,-9 (ix)
   06F1 88                 1203 	adc	a,b
   06F2 DD 77 F7           1204 	ld	-9 (ix),a
   06F5 DD 7E F8           1205 	ld	a,-8 (ix)
   06F8 8B                 1206 	adc	a,e
   06F9 DD 77 F8           1207 	ld	-8 (ix),a
   06FC DD 7E F9           1208 	ld	a,-7 (ix)
   06FF 8A                 1209 	adc	a,d
   0700 DD 77 F9           1210 	ld	-7 (ix),a
                           1211 ;../time.c:207: seconds+= timeptr->tm_sec;
   0703 DD 6E F4           1212 	ld	l,-12 (ix)
   0706 DD 66 F5           1213 	ld	h,-11 (ix)
   0709 4E                 1214 	ld	c, (hl)
   070A 3E 00              1215 	ld	a, #0x00
   070C 47                 1216 	ld	b,a
   070D 17                 1217 	rla	
   070E 9F                 1218 	sbc	a,a
   070F 5F                 1219 	ld	e,a
   0710 57                 1220 	ld	d,a
   0711 DD 7E F6           1221 	ld	a,-10 (ix)
   0714 81                 1222 	add	a,c
   0715 DD 77 F6           1223 	ld	-10 (ix),a
   0718 DD 7E F7           1224 	ld	a,-9 (ix)
   071B 88                 1225 	adc	a,b
   071C DD 77 F7           1226 	ld	-9 (ix),a
   071F DD 7E F8           1227 	ld	a,-8 (ix)
   0722 8B                 1228 	adc	a,e
   0723 DD 77 F8           1229 	ld	-8 (ix),a
   0726 DD 7E F9           1230 	ld	a,-7 (ix)
   0729 8A                 1231 	adc	a,d
   072A DD 77 F9           1232 	ld	-7 (ix),a
                           1233 ;../time.c:208: return seconds;
   072D DD 6E F6           1234 	ld	l,-10 (ix)
   0730 DD 66 F7           1235 	ld	h,-9 (ix)
   0733 DD 5E F8           1236 	ld	e,-8 (ix)
   0736 DD 56 F9           1237 	ld	d,-7 (ix)
   0739 DD F9              1238 	ld	sp,ix
   073B DD E1              1239 	pop	ix
   073D C9                 1240 	ret
   073E                    1241 _mktime_end::
                           1242 	.area _CODE
   073E                    1243 __str_1:
   073E 4A 61 6E           1244 	.ascii "Jan"
   0741 00                 1245 	.db 0x00
   0742                    1246 __str_2:
   0742 46 65 62           1247 	.ascii "Feb"
   0745 00                 1248 	.db 0x00
   0746                    1249 __str_3:
   0746 4D 61 72           1250 	.ascii "Mar"
   0749 00                 1251 	.db 0x00
   074A                    1252 __str_4:
   074A 41 70 72           1253 	.ascii "Apr"
   074D 00                 1254 	.db 0x00
   074E                    1255 __str_5:
   074E 4D 61 79           1256 	.ascii "May"
   0751 00                 1257 	.db 0x00
   0752                    1258 __str_6:
   0752 4A 75 6E           1259 	.ascii "Jun"
   0755 00                 1260 	.db 0x00
   0756                    1261 __str_7:
   0756 4A 75 6C           1262 	.ascii "Jul"
   0759 00                 1263 	.db 0x00
   075A                    1264 __str_8:
   075A 41 75 67           1265 	.ascii "Aug"
   075D 00                 1266 	.db 0x00
   075E                    1267 __str_9:
   075E 53 65 70           1268 	.ascii "Sep"
   0761 00                 1269 	.db 0x00
   0762                    1270 __str_10:
   0762 4F 63 74           1271 	.ascii "Oct"
   0765 00                 1272 	.db 0x00
   0766                    1273 __str_11:
   0766 4E 6F 76           1274 	.ascii "Nov"
   0769 00                 1275 	.db 0x00
   076A                    1276 __str_12:
   076A 44 65 63           1277 	.ascii "Dec"
   076D 00                 1278 	.db 0x00
   076E                    1279 __str_13:
   076E 53 75 6E           1280 	.ascii "Sun"
   0771 00                 1281 	.db 0x00
   0772                    1282 __str_14:
   0772 4D 6F 6E           1283 	.ascii "Mon"
   0775 00                 1284 	.db 0x00
   0776                    1285 __str_15:
   0776 54 75 65           1286 	.ascii "Tue"
   0779 00                 1287 	.db 0x00
   077A                    1288 __str_16:
   077A 57 65 64           1289 	.ascii "Wed"
   077D 00                 1290 	.db 0x00
   077E                    1291 __str_17:
   077E 54 68 75           1292 	.ascii "Thu"
   0781 00                 1293 	.db 0x00
   0782                    1294 __str_18:
   0782 46 72 69           1295 	.ascii "Fri"
   0785 00                 1296 	.db 0x00
   0786                    1297 __str_19:
   0786 53 61 74           1298 	.ascii "Sat"
   0789 00                 1299 	.db 0x00
                           1300 	.area _CABS
