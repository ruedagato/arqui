                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:26 2015
                              5 ;--------------------------------------------------------
                              6 	.module _itoa
                              7 	.optsdcc -mmcs51 --model-medium
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl __itoa
                             13 	.globl __uitoa
                             14 	.globl __itoa_PARM_3
                             15 	.globl __itoa_PARM_2
                             16 	.globl __uitoa_PARM_3
                             17 	.globl __uitoa_PARM_2
                             18 ;--------------------------------------------------------
                             19 ; special function registers
                             20 ;--------------------------------------------------------
                             21 	.area RSEG    (ABS,DATA)
   0000                      22 	.org 0x0000
                             23 ;--------------------------------------------------------
                             24 ; special function bits
                             25 ;--------------------------------------------------------
                             26 	.area RSEG    (ABS,DATA)
   0000                      27 	.org 0x0000
                             28 ;--------------------------------------------------------
                             29 ; overlayable register banks
                             30 ;--------------------------------------------------------
                             31 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      32 	.ds 8
                             33 ;--------------------------------------------------------
                             34 ; internal ram data
                             35 ;--------------------------------------------------------
                             36 	.area DSEG    (DATA)
   0000                      37 __uitoa_sloc0_1_0:
   0000                      38 	.ds 2
   0002                      39 __uitoa_sloc1_1_0:
   0002                      40 	.ds 3
                             41 ;--------------------------------------------------------
                             42 ; overlayable items in internal ram 
                             43 ;--------------------------------------------------------
                             44 	.area OSEG    (OVR,DATA)
                             45 ;--------------------------------------------------------
                             46 ; indirectly addressable internal ram data
                             47 ;--------------------------------------------------------
                             48 	.area ISEG    (DATA)
                             49 ;--------------------------------------------------------
                             50 ; absolute internal ram data
                             51 ;--------------------------------------------------------
                             52 	.area IABS    (ABS,DATA)
                             53 	.area IABS    (ABS,DATA)
                             54 ;--------------------------------------------------------
                             55 ; bit data
                             56 ;--------------------------------------------------------
                             57 	.area BSEG    (BIT)
                             58 ;--------------------------------------------------------
                             59 ; paged external ram data
                             60 ;--------------------------------------------------------
                             61 	.area PSEG    (PAG,XDATA)
   0000                      62 __uitoa_PARM_2:
   0000                      63 	.ds 3
   0003                      64 __uitoa_PARM_3:
   0003                      65 	.ds 1
   0004                      66 __uitoa_value_1_1:
   0004                      67 	.ds 2
   0006                      68 __uitoa_i_1_1:
   0006                      69 	.ds 1
   0007                      70 __itoa_PARM_2:
   0007                      71 	.ds 3
   000A                      72 __itoa_PARM_3:
   000A                      73 	.ds 1
                             74 ;--------------------------------------------------------
                             75 ; external ram data
                             76 ;--------------------------------------------------------
                             77 	.area XSEG    (XDATA)
                             78 ;--------------------------------------------------------
                             79 ; absolute external ram data
                             80 ;--------------------------------------------------------
                             81 	.area XABS    (ABS,XDATA)
                             82 ;--------------------------------------------------------
                             83 ; external initialized ram data
                             84 ;--------------------------------------------------------
                             85 	.area XISEG   (XDATA)
                             86 	.area HOME    (CODE)
                             87 	.area GSINIT0 (CODE)
                             88 	.area GSINIT1 (CODE)
                             89 	.area GSINIT2 (CODE)
                             90 	.area GSINIT3 (CODE)
                             91 	.area GSINIT4 (CODE)
                             92 	.area GSINIT5 (CODE)
                             93 	.area GSINIT  (CODE)
                             94 	.area GSFINAL (CODE)
                             95 	.area CSEG    (CODE)
                             96 ;--------------------------------------------------------
                             97 ; global & static initialisations
                             98 ;--------------------------------------------------------
                             99 	.area HOME    (CODE)
                            100 	.area GSINIT  (CODE)
                            101 	.area GSFINAL (CODE)
                            102 	.area GSINIT  (CODE)
                            103 ;--------------------------------------------------------
                            104 ; Home
                            105 ;--------------------------------------------------------
                            106 	.area HOME    (CODE)
                            107 	.area HOME    (CODE)
                            108 ;--------------------------------------------------------
                            109 ; code
                            110 ;--------------------------------------------------------
                            111 	.area CSEG    (CODE)
                            112 ;------------------------------------------------------------
                            113 ;Allocation info for local variables in function '_uitoa'
                            114 ;------------------------------------------------------------
                            115 ;sloc0                     Allocated with name '__uitoa_sloc0_1_0'
                            116 ;sloc1                     Allocated with name '__uitoa_sloc1_1_0'
                            117 ;------------------------------------------------------------
                            118 ;	_itoa.c:40: void _uitoa(unsigned int value, char* string, unsigned char radix)
                            119 ;	-----------------------------------------
                            120 ;	 function _uitoa
                            121 ;	-----------------------------------------
   0000                     122 __uitoa:
                    0002    123 	ar2 = 0x02
                    0003    124 	ar3 = 0x03
                    0004    125 	ar4 = 0x04
                    0005    126 	ar5 = 0x05
                    0006    127 	ar6 = 0x06
                    0007    128 	ar7 = 0x07
                    0000    129 	ar0 = 0x00
                    0001    130 	ar1 = 0x01
   0000 AA 83               131 	mov	r2,dph
   0002 E5 82               132 	mov	a,dpl
   0004 78r04               133 	mov	r0,#__uitoa_value_1_1
   0006 F2                  134 	movx	@r0,a
   0007 08                  135 	inc	r0
   0008 EA                  136 	mov	a,r2
   0009 F2                  137 	movx	@r0,a
                            138 ;	_itoa.c:45: do {
   000A 7B 00               139 	mov	r3,#0x00
   000C                     140 00103$:
                            141 ;	_itoa.c:46: string[index] = '0' + (value % radix);
   000C 78r00               142 	mov	r0,#__uitoa_PARM_2
   000E E2                  143 	movx	a,@r0
   000F 2B                  144 	add	a,r3
   0010 FD                  145 	mov	r5,a
   0011 08                  146 	inc	r0
   0012 E2                  147 	movx	a,@r0
   0013 34 00               148 	addc	a,#0x00
   0015 FE                  149 	mov	r6,a
   0016 08                  150 	inc	r0
   0017 E2                  151 	movx	a,@r0
   0018 FF                  152 	mov	r7,a
   0019 78r03               153 	mov	r0,#__uitoa_PARM_3
   001B E2                  154 	movx	a,@r0
   001C F5*00               155 	mov	__uitoa_sloc0_1_0,a
   001E 75*01 00            156 	mov	(__uitoa_sloc0_1_0 + 1),#0x00
   0021 78r00               157 	mov	r0,#__moduint_PARM_2
   0023 E5*00               158 	mov	a,__uitoa_sloc0_1_0
   0025 F2                  159 	movx	@r0,a
   0026 08                  160 	inc	r0
   0027 E5*01               161 	mov	a,(__uitoa_sloc0_1_0 + 1)
   0029 F2                  162 	movx	@r0,a
   002A 78r04               163 	mov	r0,#__uitoa_value_1_1
   002C E2                  164 	movx	a,@r0
   002D F5 82               165 	mov	dpl,a
   002F 08                  166 	inc	r0
   0030 E2                  167 	movx	a,@r0
   0031 F5 83               168 	mov	dph,a
   0033 C0 03               169 	push	ar3
   0035 C0 05               170 	push	ar5
   0037 C0 06               171 	push	ar6
   0039 C0 07               172 	push	ar7
   003B 12s00r00            173 	lcall	__moduint
   003E AC 82               174 	mov	r4,dpl
   0040 AA 83               175 	mov	r2,dph
   0042 D0 07               176 	pop	ar7
   0044 D0 06               177 	pop	ar6
   0046 D0 05               178 	pop	ar5
   0048 D0 03               179 	pop	ar3
   004A 74 30               180 	mov	a,#0x30
   004C 2C                  181 	add	a,r4
   004D FC                  182 	mov	r4,a
   004E 8D 82               183 	mov	dpl,r5
   0050 8E 83               184 	mov	dph,r6
   0052 8F F0               185 	mov	b,r7
   0054 12s00r00            186 	lcall	__gptrput
                            187 ;	_itoa.c:47: if (string[index] > '9')
   0057 C3                  188 	clr	c
   0058 74 B9               189 	mov	a,#(0x39 ^ 0x80)
   005A 8C F0               190 	mov	b,r4
   005C 63 F0 80            191 	xrl	b,#0x80
   005F 95 F0               192 	subb	a,b
   0061 50 17               193 	jnc	00102$
                            194 ;	_itoa.c:48: string[index] += 'A' - '9' - 1;
   0063 8D 82               195 	mov	dpl,r5
   0065 8E 83               196 	mov	dph,r6
   0067 8F F0               197 	mov	b,r7
   0069 12s00r00            198 	lcall	__gptrget
   006C FA                  199 	mov	r2,a
   006D 74 07               200 	mov	a,#0x07
   006F 2A                  201 	add	a,r2
   0070 FA                  202 	mov	r2,a
   0071 8D 82               203 	mov	dpl,r5
   0073 8E 83               204 	mov	dph,r6
   0075 8F F0               205 	mov	b,r7
   0077 12s00r00            206 	lcall	__gptrput
   007A                     207 00102$:
                            208 ;	_itoa.c:49: value /= radix;
   007A 78r00               209 	mov	r0,#__divuint_PARM_2
   007C E5*00               210 	mov	a,__uitoa_sloc0_1_0
   007E F2                  211 	movx	@r0,a
   007F 08                  212 	inc	r0
   0080 E5*01               213 	mov	a,(__uitoa_sloc0_1_0 + 1)
   0082 F2                  214 	movx	@r0,a
   0083 78r04               215 	mov	r0,#__uitoa_value_1_1
   0085 E2                  216 	movx	a,@r0
   0086 F5 82               217 	mov	dpl,a
   0088 08                  218 	inc	r0
   0089 E2                  219 	movx	a,@r0
   008A F5 83               220 	mov	dph,a
   008C C0 03               221 	push	ar3
   008E 12s00r00            222 	lcall	__divuint
   0091 78r04               223 	mov	r0,#__uitoa_value_1_1
   0093 E5 82               224 	mov	a,dpl
   0095 F2                  225 	movx	@r0,a
   0096 08                  226 	inc	r0
   0097 E5 83               227 	mov	a,dph
   0099 F2                  228 	movx	@r0,a
   009A D0 03               229 	pop	ar3
                            230 ;	_itoa.c:50: ++index;
   009C 0B                  231 	inc	r3
                            232 ;	_itoa.c:51: } while (value != 0);
   009D 78r04               233 	mov	r0,#__uitoa_value_1_1
   009F E2                  234 	movx	a,@r0
   00A0 F5 F0               235 	mov	b,a
   00A2 08                  236 	inc	r0
   00A3 E2                  237 	movx	a,@r0
   00A4 45 F0               238 	orl	a,b
   00A6 60 03               239 	jz	00119$
   00A8 02s00r0C            240 	ljmp	00103$
   00AB                     241 00119$:
                            242 ;	_itoa.c:54: string[index--] = '\0';
   00AB EB                  243 	mov	a,r3
   00AC 14                  244 	dec	a
   00AD FA                  245 	mov	r2,a
   00AE 78r00               246 	mov	r0,#__uitoa_PARM_2
   00B0 E2                  247 	movx	a,@r0
   00B1 2B                  248 	add	a,r3
   00B2 FB                  249 	mov	r3,a
   00B3 08                  250 	inc	r0
   00B4 E2                  251 	movx	a,@r0
   00B5 34 00               252 	addc	a,#0x00
   00B7 FC                  253 	mov	r4,a
   00B8 08                  254 	inc	r0
   00B9 E2                  255 	movx	a,@r0
   00BA FD                  256 	mov	r5,a
   00BB 8B 82               257 	mov	dpl,r3
   00BD 8C 83               258 	mov	dph,r4
   00BF 8D F0               259 	mov	b,r5
   00C1 E4                  260 	clr	a
   00C2 12s00r00            261 	lcall	__gptrput
                            262 ;	_itoa.c:57: while (index > i) {
   00C5 78r06               263 	mov	r0,#__uitoa_i_1_1
   00C7 E4                  264 	clr	a
   00C8 F2                  265 	movx	@r0,a
   00C9                     266 00106$:
   00C9 78r06               267 	mov	r0,#__uitoa_i_1_1
   00CB C3                  268 	clr	c
   00CC E2                  269 	movx	a,@r0
   00CD 64 80               270 	xrl	a,#0x80
   00CF 8A F0               271 	mov	b,r2
   00D1 63 F0 80            272 	xrl	b,#0x80
   00D4 95 F0               273 	subb	a,b
   00D6 50 59               274 	jnc	00109$
                            275 ;	_itoa.c:58: char tmp = string[i];
   00D8 78r00               276 	mov	r0,#__uitoa_PARM_2
   00DA 79r06               277 	mov	r1,#__uitoa_i_1_1
   00DC E3                  278 	movx	a,@r1
   00DD C5 F0               279 	xch	a,b
   00DF E2                  280 	movx	a,@r0
   00E0 25 F0               281 	add	a,b
   00E2 F5*02               282 	mov	__uitoa_sloc1_1_0,a
   00E4 08                  283 	inc	r0
   00E5 E2                  284 	movx	a,@r0
   00E6 34 00               285 	addc	a,#0x00
   00E8 F5*03               286 	mov	(__uitoa_sloc1_1_0 + 1),a
   00EA 08                  287 	inc	r0
   00EB E2                  288 	movx	a,@r0
   00EC F5*04               289 	mov	(__uitoa_sloc1_1_0 + 2),a
   00EE 85*02 82            290 	mov	dpl,__uitoa_sloc1_1_0
   00F1 85*03 83            291 	mov	dph,(__uitoa_sloc1_1_0 + 1)
   00F4 85*04 F0            292 	mov	b,(__uitoa_sloc1_1_0 + 2)
   00F7 12s00r00            293 	lcall	__gptrget
   00FA FE                  294 	mov	r6,a
                            295 ;	_itoa.c:59: string[i] = string[index];
   00FB 78r00               296 	mov	r0,#__uitoa_PARM_2
   00FD E2                  297 	movx	a,@r0
   00FE 2A                  298 	add	a,r2
   00FF FF                  299 	mov	r7,a
   0100 08                  300 	inc	r0
   0101 E2                  301 	movx	a,@r0
   0102 34 00               302 	addc	a,#0x00
   0104 FB                  303 	mov	r3,a
   0105 08                  304 	inc	r0
   0106 E2                  305 	movx	a,@r0
   0107 FC                  306 	mov	r4,a
   0108 8F 82               307 	mov	dpl,r7
   010A 8B 83               308 	mov	dph,r3
   010C 8C F0               309 	mov	b,r4
   010E 12s00r00            310 	lcall	__gptrget
   0111 FD                  311 	mov	r5,a
   0112 85*02 82            312 	mov	dpl,__uitoa_sloc1_1_0
   0115 85*03 83            313 	mov	dph,(__uitoa_sloc1_1_0 + 1)
   0118 85*04 F0            314 	mov	b,(__uitoa_sloc1_1_0 + 2)
   011B 12s00r00            315 	lcall	__gptrput
                            316 ;	_itoa.c:60: string[index] = tmp;
   011E 8F 82               317 	mov	dpl,r7
   0120 8B 83               318 	mov	dph,r3
   0122 8C F0               319 	mov	b,r4
   0124 EE                  320 	mov	a,r6
   0125 12s00r00            321 	lcall	__gptrput
                            322 ;	_itoa.c:61: ++i;
   0128 78r06               323 	mov	r0,#__uitoa_i_1_1
   012A E2                  324 	movx	a,@r0
   012B 24 01               325 	add	a,#0x01
   012D F2                  326 	movx	@r0,a
                            327 ;	_itoa.c:62: --index;
   012E 1A                  328 	dec	r2
   012F 80 98               329 	sjmp	00106$
   0131                     330 00109$:
   0131 22                  331 	ret
                            332 ;------------------------------------------------------------
                            333 ;Allocation info for local variables in function '_itoa'
                            334 ;------------------------------------------------------------
                            335 ;------------------------------------------------------------
                            336 ;	_itoa.c:66: void _itoa(int value, char* string, unsigned char radix)
                            337 ;	-----------------------------------------
                            338 ;	 function _itoa
                            339 ;	-----------------------------------------
   0132                     340 __itoa:
   0132 AA 82               341 	mov	r2,dpl
                            342 ;	_itoa.c:68: if (value < 0 && radix == 10) {
   0134 E5 83               343 	mov	a,dph
   0136 FB                  344 	mov	r3,a
   0137 30 E7 2F            345 	jnb	acc.7,00102$
   013A 78r0A               346 	mov	r0,#__itoa_PARM_3
   013C E2                  347 	movx	a,@r0
   013D B4 0A 29            348 	cjne	a,#0x0A,00102$
                            349 ;	_itoa.c:69: *string++ = '-';
   0140 78r07               350 	mov	r0,#__itoa_PARM_2
   0142 E2                  351 	movx	a,@r0
   0143 FC                  352 	mov	r4,a
   0144 08                  353 	inc	r0
   0145 E2                  354 	movx	a,@r0
   0146 FD                  355 	mov	r5,a
   0147 08                  356 	inc	r0
   0148 E2                  357 	movx	a,@r0
   0149 FE                  358 	mov	r6,a
   014A 8C 82               359 	mov	dpl,r4
   014C 8D 83               360 	mov	dph,r5
   014E 8E F0               361 	mov	b,r6
   0150 74 2D               362 	mov	a,#0x2D
   0152 12s00r00            363 	lcall	__gptrput
   0155 78r07               364 	mov	r0,#__itoa_PARM_2
   0157 74 01               365 	mov	a,#0x01
   0159 2C                  366 	add	a,r4
   015A F2                  367 	movx	@r0,a
   015B E4                  368 	clr	a
   015C 3D                  369 	addc	a,r5
   015D 08                  370 	inc	r0
   015E F2                  371 	movx	@r0,a
   015F 08                  372 	inc	r0
   0160 EE                  373 	mov	a,r6
   0161 F2                  374 	movx	@r0,a
                            375 ;	_itoa.c:70: value = -value;
   0162 C3                  376 	clr	c
   0163 E4                  377 	clr	a
   0164 9A                  378 	subb	a,r2
   0165 FA                  379 	mov	r2,a
   0166 E4                  380 	clr	a
   0167 9B                  381 	subb	a,r3
   0168 FB                  382 	mov	r3,a
   0169                     383 00102$:
                            384 ;	_itoa.c:72: _uitoa(value, string, radix);
   0169 78r07               385 	mov	r0,#__itoa_PARM_2
   016B 79r00               386 	mov	r1,#__uitoa_PARM_2
   016D E2                  387 	movx	a,@r0
   016E F3                  388 	movx	@r1,a
   016F 08                  389 	inc	r0
   0170 E2                  390 	movx	a,@r0
   0171 09                  391 	inc	r1
   0172 F3                  392 	movx	@r1,a
   0173 08                  393 	inc	r0
   0174 E2                  394 	movx	a,@r0
   0175 09                  395 	inc	r1
   0176 F3                  396 	movx	@r1,a
   0177 78r0A               397 	mov	r0,#__itoa_PARM_3
   0179 79r03               398 	mov	r1,#__uitoa_PARM_3
   017B E2                  399 	movx	a,@r0
   017C F3                  400 	movx	@r1,a
   017D 8A 82               401 	mov	dpl,r2
   017F 8B 83               402 	mov	dph,r3
   0181 02s00r00            403 	ljmp	__uitoa
                            404 	.area CSEG    (CODE)
                            405 	.area CONST   (CODE)
                            406 	.area XINIT   (CODE)
                            407 	.area CABS    (ABS,CODE)
