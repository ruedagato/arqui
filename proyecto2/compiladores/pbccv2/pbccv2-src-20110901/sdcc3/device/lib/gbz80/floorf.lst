                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:19 2015
                              5 ;--------------------------------------------------------
                              6 	.module floorf
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _floorf
                             13 ;--------------------------------------------------------
                             14 ;  ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; overlayable items in  ram 
                             19 ;--------------------------------------------------------
                             20 	.area _OVERLAY
                             21 ;--------------------------------------------------------
                             22 ; external initialized ram data
                             23 ;--------------------------------------------------------
                             24 ;--------------------------------------------------------
                             25 ; global & static initialisations
                             26 ;--------------------------------------------------------
                             27 	.area _HOME
                             28 	.area _GSINIT
                             29 	.area _GSFINAL
                             30 	.area _GSINIT
                             31 ;--------------------------------------------------------
                             32 ; Home
                             33 ;--------------------------------------------------------
                             34 	.area _HOME
                             35 	.area _HOME
                             36 ;--------------------------------------------------------
                             37 ; code
                             38 ;--------------------------------------------------------
                             39 	.area _CODE
                             40 ;../floorf.c:33: float floorf (float x) _FLOAT_FUNC_REENTRANT
                             41 ;	---------------------------------
                             42 ; Function floorf
                             43 ; ---------------------------------
   0000                      44 _floorf_start::
   0000                      45 _floorf:
   0000 E8 F8                46 	lda	sp,-8(sp)
                             47 ;../floorf.c:36: r=x;
   0002 F8 0C                48 	ldhl	sp,#12
   0004 7E                   49 	ld	a,(hl)
   0005 23                   50 	inc	hl
   0006 66                   51 	ld	h,(hl)
   0007 6F                   52 	ld	l,a
   0008 E5                   53 	push	hl
   0009 F8 0C                54 	ldhl	sp,#12
   000B 7E                   55 	ld	a,(hl)
   000C 23                   56 	inc	hl
   000D 66                   57 	ld	h,(hl)
   000E 6F                   58 	ld	l,a
   000F E5                   59 	push	hl
   0010 CDr00s00             60 	call	___fs2slong
   0013 E8 04                61 	lda	sp,4(sp)
   0015 E5                   62 	push	hl
   0016 F8 06                63 	ldhl	sp,#6
   0018 73                   64 	ld	(hl),e
   0019 23                   65 	inc	hl
   001A 72                   66 	ld	(hl),d
   001B D1                   67 	pop	de
   001C 23                   68 	inc	hl
   001D 73                   69 	ld	(hl),e
   001E 23                   70 	inc	hl
   001F 72                   71 	ld	(hl),d
                             72 ;../floorf.c:37: if (r<=0)
   0020 F8 04                73 	ldhl	sp,#4
   0022 3E 00                74 	ld	a, #0x00
   0024 96                   75 	sub	a, (hl)
   0025 23                   76 	inc	hl
   0026 3E 00                77 	ld	a, #0x00
   0028 9E                   78 	sbc	a, (hl)
   0029 23                   79 	inc	hl
   002A 3E 00                80 	ld	a, #0x00
   002C 9E                   81 	sbc	a, (hl)
   002D 23                   82 	inc	hl
   002E 3E 00                83 	ld	a, #0x00
   0030 9E                   84 	sbc	a, (hl)
   0031 3E 00                85 	ld	a, #0x00
   0033 57                   86 	ld	d, a
   0034 5E                   87 	ld	e, (hl)
   0035 CB 7B                88 	bit	7, e
   0037 CAr42s00             89 	jp	Z, 00110$
   003A CB 7A                90 	bit	7, d
   003C C2r48s00             91 	jp	NZ, 00111$
   003F BF                   92 	cp	a, a
   0040 18 06                93 	jr	00111$
   0042                      94 00110$:
   0042 CB 7A                95 	bit	7, d
   0044 CAr48s00             96 	jp	Z, 00111$
   0047 37                   97 	scf
   0048                      98 00111$:
   0048 DArEFs00             99 	jp	C,00102$
                            100 ;../floorf.c:38: return (r+((r>x)?-1:0));
   004B F8 06               101 	ldhl	sp,#6
   004D 7E                  102 	ld	a,(hl)
   004E 23                  103 	inc	hl
   004F 66                  104 	ld	h,(hl)
   0050 6F                  105 	ld	l,a
   0051 E5                  106 	push	hl
   0052 F8 06               107 	ldhl	sp,#6
   0054 7E                  108 	ld	a,(hl)
   0055 23                  109 	inc	hl
   0056 66                  110 	ld	h,(hl)
   0057 6F                  111 	ld	l,a
   0058 E5                  112 	push	hl
   0059 CDr00s00            113 	call	___slong2fs
   005C E8 04               114 	lda	sp,4(sp)
   005E E5                  115 	push	hl
   005F F8 02               116 	ldhl	sp,#2
   0061 73                  117 	ld	(hl),e
   0062 23                  118 	inc	hl
   0063 72                  119 	ld	(hl),d
   0064 D1                  120 	pop	de
   0065 23                  121 	inc	hl
   0066 73                  122 	ld	(hl),e
   0067 23                  123 	inc	hl
   0068 72                  124 	ld	(hl),d
   0069 F8 0C               125 	ldhl	sp,#12
   006B 7E                  126 	ld	a,(hl)
   006C 23                  127 	inc	hl
   006D 66                  128 	ld	h,(hl)
   006E 6F                  129 	ld	l,a
   006F E5                  130 	push	hl
   0070 F8 0C               131 	ldhl	sp,#12
   0072 7E                  132 	ld	a,(hl)
   0073 23                  133 	inc	hl
   0074 66                  134 	ld	h,(hl)
   0075 6F                  135 	ld	l,a
   0076 E5                  136 	push	hl
   0077 F8 06               137 	ldhl	sp,#6
   0079 7E                  138 	ld	a,(hl)
   007A 23                  139 	inc	hl
   007B 66                  140 	ld	h,(hl)
   007C 6F                  141 	ld	l,a
   007D E5                  142 	push	hl
   007E F8 06               143 	ldhl	sp,#6
   0080 7E                  144 	ld	a,(hl)
   0081 23                  145 	inc	hl
   0082 66                  146 	ld	h,(hl)
   0083 6F                  147 	ld	l,a
   0084 E5                  148 	push	hl
   0085 CDr00s00            149 	call	___fsgt
   0088 E8 08               150 	lda	sp,8(sp)
   008A 4B                  151 	ld	c,e
   008B AF                  152 	xor	a,a
   008C B1                  153 	or	a,c
   008D CAr94s00            154 	jp	Z,00106$
   0090 0E FF               155 	ld	c,#0xFF
   0092 18 02               156 	jr	00107$
   0094                     157 00106$:
   0094 0E 00               158 	ld	c,#0x00
   0096                     159 00107$:
   0096 F8 00               160 	ldhl	sp,#0
   0098 71                  161 	ld	(hl),c
   0099 79                  162 	ld	a,c
   009A 17                  163 	rla	
   009B 9F                  164 	sbc	a,a
   009C 23                  165 	inc	hl
   009D 77                  166 	ld	(hl),a
   009E 23                  167 	inc	hl
   009F 77                  168 	ld	(hl),a
   00A0 23                  169 	inc	hl
   00A1 77                  170 	ld	(hl),a
   00A2 23                  171 	inc	hl
   00A3 23                  172 	inc	hl
   00A4 2B                  173 	dec	hl
   00A5 5E                  174 	ld	e,(hl)
   00A6 23                  175 	inc	hl
   00A7 56                  176 	ld	d,(hl)
   00A8 7B                  177 	ld	a,e
   00A9 F8 00               178 	ldhl	sp,#0
   00AB 86                  179 	add	a,(hl)
   00AC 5F                  180 	ld	e,a
   00AD 7A                  181 	ld	a,d
   00AE 23                  182 	inc	hl
   00AF 8E                  183 	adc	a,(hl)
   00B0 F5                  184 	push	af
   00B1 77                  185 	ld	(hl),a
   00B2 2B                  186 	dec	hl
   00B3 73                  187 	ld	(hl),e
   00B4 F8 09               188 	ldhl	sp,#9
   00B6 2B                  189 	dec	hl
   00B7 5E                  190 	ld	e,(hl)
   00B8 23                  191 	inc	hl
   00B9 56                  192 	ld	d,(hl)
   00BA F8 04               193 	ldhl	sp,#4
   00BC F1                  194 	pop	af
   00BD 7B                  195 	ld	a,e
   00BE 8E                  196 	adc	a,(hl)
   00BF 5F                  197 	ld	e,a
   00C0 7A                  198 	ld	a,d
   00C1 23                  199 	inc	hl
   00C2 8E                  200 	adc	a,(hl)
   00C3 77                  201 	ld	(hl),a
   00C4 2B                  202 	dec	hl
   00C5 73                  203 	ld	(hl),e
   00C6 7E                  204 	ld	a,(hl)
   00C7 23                  205 	inc	hl
   00C8 66                  206 	ld	h,(hl)
   00C9 6F                  207 	ld	l,a
   00CA E5                  208 	push	hl
   00CB F8 02               209 	ldhl	sp,#2
   00CD 7E                  210 	ld	a,(hl)
   00CE 23                  211 	inc	hl
   00CF 66                  212 	ld	h,(hl)
   00D0 6F                  213 	ld	l,a
   00D1 E5                  214 	push	hl
   00D2 CDr00s00            215 	call	___slong2fs
   00D5 E8 04               216 	lda	sp,4(sp)
   00D7 E5                  217 	push	hl
   00D8 F8 02               218 	ldhl	sp,#2
   00DA 73                  219 	ld	(hl),e
   00DB 23                  220 	inc	hl
   00DC 72                  221 	ld	(hl),d
   00DD D1                  222 	pop	de
   00DE 23                  223 	inc	hl
   00DF 73                  224 	ld	(hl),e
   00E0 23                  225 	inc	hl
   00E1 72                  226 	ld	(hl),d
   00E2 F8 01               227 	ldhl	sp,#1
   00E4 2B                  228 	dec	hl
   00E5 5E                  229 	ld	e,(hl)
   00E6 23                  230 	inc	hl
   00E7 56                  231 	ld	d,(hl)
   00E8 23                  232 	inc	hl
   00E9 7E                  233 	ld	a,(hl)
   00EA 23                  234 	inc	hl
   00EB 66                  235 	ld	h,(hl)
   00EC 6F                  236 	ld	l,a
   00ED 18 29               237 	jr	00104$
   00EF                     238 00102$:
                            239 ;../floorf.c:40: return r;
   00EF F8 06               240 	ldhl	sp,#6
   00F1 7E                  241 	ld	a,(hl)
   00F2 23                  242 	inc	hl
   00F3 66                  243 	ld	h,(hl)
   00F4 6F                  244 	ld	l,a
   00F5 E5                  245 	push	hl
   00F6 F8 06               246 	ldhl	sp,#6
   00F8 7E                  247 	ld	a,(hl)
   00F9 23                  248 	inc	hl
   00FA 66                  249 	ld	h,(hl)
   00FB 6F                  250 	ld	l,a
   00FC E5                  251 	push	hl
   00FD CDr00s00            252 	call	___slong2fs
   0100 E8 04               253 	lda	sp,4(sp)
   0102 E5                  254 	push	hl
   0103 F8 02               255 	ldhl	sp,#2
   0105 73                  256 	ld	(hl),e
   0106 23                  257 	inc	hl
   0107 72                  258 	ld	(hl),d
   0108 D1                  259 	pop	de
   0109 23                  260 	inc	hl
   010A 73                  261 	ld	(hl),e
   010B 23                  262 	inc	hl
   010C 72                  263 	ld	(hl),d
   010D F8 01               264 	ldhl	sp,#1
   010F 2B                  265 	dec	hl
   0110 5E                  266 	ld	e,(hl)
   0111 23                  267 	inc	hl
   0112 56                  268 	ld	d,(hl)
   0113 23                  269 	inc	hl
   0114 7E                  270 	ld	a,(hl)
   0115 23                  271 	inc	hl
   0116 66                  272 	ld	h,(hl)
   0117 6F                  273 	ld	l,a
   0118                     274 00104$:
   0118 E8 08               275 	lda	sp,8(sp)
   011A C9                  276 	ret
   011B                     277 _floorf_end::
                            278 	.area _CODE
                            279 	.area _CABS
