                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:19 2015
                              5 ;--------------------------------------------------------
                              6 	.module _atol
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _atol
                             13 ;--------------------------------------------------------
                             14 ;  ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; overlayable items in  ram 
                             19 ;--------------------------------------------------------
                             20 	.area _OVERLAY
                             21 ;--------------------------------------------------------
                             22 ; external initialized ram data
                             23 ;--------------------------------------------------------
                             24 ;--------------------------------------------------------
                             25 ; global & static initialisations
                             26 ;--------------------------------------------------------
                             27 	.area _HOME
                             28 	.area _GSINIT
                             29 	.area _GSFINAL
                             30 	.area _GSINIT
                             31 ;--------------------------------------------------------
                             32 ; Home
                             33 ;--------------------------------------------------------
                             34 	.area _HOME
                             35 	.area _HOME
                             36 ;--------------------------------------------------------
                             37 ; code
                             38 ;--------------------------------------------------------
                             39 	.area _CODE
                             40 ;../_atol.c:29: long atol(char * s)
                             41 ;	---------------------------------
                             42 ; Function atol
                             43 ; ---------------------------------
   0000                      44 _atol_start::
   0000                      45 _atol:
   0000 E8 EF                46 	lda	sp,-17(sp)
                             47 ;../_atol.c:31: register long rv=0; 
   0002 AF                   48 	xor	a,a
   0003 F8 0D                49 	ldhl	sp,#13
   0005 77                   50 	ld	(hl),a
   0006 23                   51 	inc	hl
   0007 77                   52 	ld	(hl),a
   0008 23                   53 	inc	hl
   0009 77                   54 	ld	(hl),a
   000A 23                   55 	inc	hl
   000B 77                   56 	ld	(hl),a
                             57 ;../_atol.c:35: while (*s) {
   000C F8 14                58 	ldhl	sp,#20
   000E 2B                   59 	dec	hl
   000F 4E                   60 	ld	c,(hl)
   0010 23                   61 	inc	hl
   0011 46                   62 	ld	b,(hl)
   0012                      63 00107$:
   0012 0A                   64 	ld	a,(bc)
   0013 F8 0C                65 	ldhl	sp,#12
   0015 77                   66 	ld	(hl),a
   0016 B7                   67 	or	a,a
   0017 CAr6Cs00             68 	jp	Z,00133$
                             69 ;../_atol.c:36: if (*s <= '9' && *s >= '0')
   001A 7E                   70 	ld	a, (hl)
   001B 5F                   71 	ld	e, a
   001C 3E 39                72 	ld	a, #0x39
   001E 57                   73 	ld	d, a
   001F 3E 39                74 	ld	a,#0x39
   0021 96                   75 	sub	a, (hl)
   0022 CB 7B                76 	bit	7, e
   0024 CAr2Fs00             77 	jp	Z, 00135$
   0027 CB 7A                78 	bit	7, d
   0029 C2r35s00             79 	jp	NZ, 00136$
   002C BF                   80 	cp	a, a
   002D 18 06                81 	jr	00136$
   002F                      82 00135$:
   002F CB 7A                83 	bit	7, d
   0031 CAr35s00             84 	jp	Z, 00136$
   0034 37                   85 	scf
   0035                      86 00136$:
   0035 DAr58s00             87 	jp	C,00102$
   0038 3E 30                88 	ld	a, #0x30
   003A 5F                   89 	ld	e, a
   003B F8 0C                90 	ldhl	sp,#12
   003D 7E                   91 	ld	a, (hl)
   003E 57                   92 	ld	d, a
   003F 7E                   93 	ld	a,(hl)
   0040 D6 30                94 	sub	a, #0x30
   0042 CB 7B                95 	bit	7, e
   0044 CAr4Fs00             96 	jp	Z, 00137$
   0047 CB 7A                97 	bit	7, d
   0049 C2r55s00             98 	jp	NZ, 00138$
   004C BF                   99 	cp	a, a
   004D 18 06               100 	jr	00138$
   004F                     101 00137$:
   004F CB 7A               102 	bit	7, d
   0051 CAr55s00            103 	jp	Z, 00138$
   0054 37                  104 	scf
   0055                     105 00138$:
   0055 D2r6Cs00            106 	jp	NC,00133$
                            107 ;../_atol.c:37: break;
   0058                     108 00102$:
                            109 ;../_atol.c:38: if (*s == '-' || *s == '+') 
   0058 0A                  110 	ld	a,(bc)
   0059 F8 0C               111 	ldhl	sp,#12
   005B 77                  112 	ld	(hl),a
   005C 7E                  113 	ld	a,(hl)
   005D D6 2D               114 	sub	a,#0x2D
   005F CAr6Cs00            115 	jp	Z,00133$
   0062                     116 00139$:
   0062 7E                  117 	ld	a,(hl)
   0063 D6 2B               118 	sub	a,#0x2B
   0065 CAr6Cs00            119 	jp	Z,00133$
   0068                     120 00140$:
                            121 ;../_atol.c:40: s++;
   0068 03                  122 	inc	bc
   0069 C3r12s00            123 	jp	00107$
   006C                     124 00133$:
   006C F8 13               125 	ldhl	sp,#19
   006E 71                  126 	ld	(hl),c
   006F 23                  127 	inc	hl
   0070 70                  128 	ld	(hl),b
                            129 ;../_atol.c:43: sign = (*s == '-');
   0071 F8 0A               130 	ldhl	sp,#10
   0073 71                  131 	ld	(hl),c
   0074 23                  132 	inc	hl
   0075 70                  133 	ld	(hl),b
   0076 0A                  134 	ld	a,(bc)
   0077 4F                  135 	ld	c,a
   0078 D6 2D               136 	sub	a,#0x2D
   007A C2r81s00            137 	jp	NZ,00141$
   007D 3E 01               138 	ld	a,#0x01
   007F 18 01               139 	jr	00142$
   0081                     140 00141$:
   0081 AF                  141 	xor	a,a
   0082                     142 00142$:
   0082 47                  143 	ld	b,a
   0083 F8 0C               144 	ldhl	sp,#12
   0085 70                  145 	ld	(hl),b
                            146 ;../_atol.c:44: if (*s == '-' || *s == '+') s++;
   0086 AF                  147 	xor	a,a
   0087 B0                  148 	or	a,b
   0088 C2r93s00            149 	jp	NZ,00110$
   008B 79                  150 	ld	a,c
   008C D6 2B               151 	sub	a,#0x2B
   008E CAr93s00            152 	jp	Z,00144$
   0091                     153 00143$:
   0091 18 11               154 	jr	00131$
   0093                     155 00144$:
   0093                     156 00110$:
   0093 F8 0B               157 	ldhl	sp,#11
   0095 2B                  158 	dec	hl
   0096 5E                  159 	ld	e,(hl)
   0097 23                  160 	inc	hl
   0098 56                  161 	ld	d,(hl)
   0099 21 01 00            162 	ld	hl,#0x0001
   009C 19                  163 	add	hl,de
   009D 7D                  164 	ld	a,l
   009E 54                  165 	ld	d,h
   009F F8 13               166 	ldhl	sp,#19
   00A1 77                  167 	ld	(hl),a
   00A2 23                  168 	inc	hl
   00A3 72                  169 	ld	(hl),d
                            170 ;../_atol.c:46: while (*s && *s >= '0' && *s <= '9') {
   00A4                     171 00131$:
   00A4 F8 13               172 	ldhl	sp,#19
   00A6 7E                  173 	ld	a,(hl)
   00A7 23                  174 	inc	hl
   00A8 5E                  175 	ld	e,(hl)
   00A9 F8 08               176 	ldhl	sp,#8
   00AB 77                  177 	ld	(hl),a
   00AC 23                  178 	inc	hl
   00AD 73                  179 	ld	(hl),e
   00AE                     180 00115$:
   00AE F8 09               181 	ldhl	sp,#9
   00B0 2B                  182 	dec	hl
   00B1 5E                  183 	ld	e,(hl)
   00B2 23                  184 	inc	hl
   00B3 56                  185 	ld	d,(hl)
   00B4 1A                  186 	ld	a,(de)
   00B5 4F                  187 	ld	c,a
   00B6 B7                  188 	or	a,a
   00B7 CAr79s01            189 	jp	Z,00117$
   00BA 3E 30               190 	ld	a, #0x30
   00BC 5F                  191 	ld	e, a
   00BD 79                  192 	ld	a, c
   00BE 57                  193 	ld	d, a
   00BF 79                  194 	ld	a,c
   00C0 D6 30               195 	sub	a, #0x30
   00C2 CB 7B               196 	bit	7, e
   00C4 CArCFs00            197 	jp	Z, 00145$
   00C7 CB 7A               198 	bit	7, d
   00C9 C2rD5s00            199 	jp	NZ, 00146$
   00CC BF                  200 	cp	a, a
   00CD 18 06               201 	jr	00146$
   00CF                     202 00145$:
   00CF CB 7A               203 	bit	7, d
   00D1 CArD5s00            204 	jp	Z, 00146$
   00D4 37                  205 	scf
   00D5                     206 00146$:
   00D5 DAr79s01            207 	jp	C,00117$
   00D8 79                  208 	ld	a, c
   00D9 5F                  209 	ld	e, a
   00DA 3E 39               210 	ld	a, #0x39
   00DC 57                  211 	ld	d, a
   00DD 3E 39               212 	ld	a,#0x39
   00DF 91                  213 	sub	a, c
   00E0 CB 7B               214 	bit	7, e
   00E2 CArEDs00            215 	jp	Z, 00147$
   00E5 CB 7A               216 	bit	7, d
   00E7 C2rF3s00            217 	jp	NZ, 00148$
   00EA BF                  218 	cp	a, a
   00EB 18 06               219 	jr	00148$
   00ED                     220 00147$:
   00ED CB 7A               221 	bit	7, d
   00EF CArF3s00            222 	jp	Z, 00148$
   00F2 37                  223 	scf
   00F3                     224 00148$:
   00F3 DAr79s01            225 	jp	C,00117$
                            226 ;../_atol.c:47: rv = (rv * 10) + (*s - '0');
   00F6 C5                  227 	push	bc
   00F7 F8 11               228 	ldhl	sp,#17
   00F9 7E                  229 	ld	a,(hl)
   00FA 23                  230 	inc	hl
   00FB 66                  231 	ld	h,(hl)
   00FC 6F                  232 	ld	l,a
   00FD E5                  233 	push	hl
   00FE F8 11               234 	ldhl	sp,#17
   0100 7E                  235 	ld	a,(hl)
   0101 23                  236 	inc	hl
   0102 66                  237 	ld	h,(hl)
   0103 6F                  238 	ld	l,a
   0104 E5                  239 	push	hl
   0105 21 00 00            240 	ld	hl,#0x0000
   0108 E5                  241 	push	hl
   0109 21 0A 00            242 	ld	hl,#0x000A
   010C E5                  243 	push	hl
   010D CDr00s00            244 	call	__mullong_rrx_s
   0110 E8 08               245 	lda	sp,8(sp)
   0112 E5                  246 	push	hl
   0113 F8 08               247 	ldhl	sp,#8
   0115 73                  248 	ld	(hl),e
   0116 23                  249 	inc	hl
   0117 72                  250 	ld	(hl),d
   0118 D1                  251 	pop	de
   0119 23                  252 	inc	hl
   011A 73                  253 	ld	(hl),e
   011B 23                  254 	inc	hl
   011C 72                  255 	ld	(hl),d
   011D C1                  256 	pop	bc
   011E 79                  257 	ld	a,c
   011F 17                  258 	rla	
   0120 9F                  259 	sbc	a,a
   0121 47                  260 	ld	b,a
   0122 79                  261 	ld	a,c
   0123 C6 D0               262 	add	a,#0xD0
   0125 4F                  263 	ld	c,a
   0126 78                  264 	ld	a,b
   0127 CE FF               265 	adc	a,#0xFF
   0129 47                  266 	ld	b,a
   012A F8 00               267 	ldhl	sp,#0
   012C 71                  268 	ld	(hl),c
   012D 23                  269 	inc	hl
   012E 70                  270 	ld	(hl),b
   012F 78                  271 	ld	a,b
   0130 17                  272 	rla	
   0131 9F                  273 	sbc	a,a
   0132 23                  274 	inc	hl
   0133 77                  275 	ld	(hl),a
   0134 23                  276 	inc	hl
   0135 77                  277 	ld	(hl),a
   0136 23                  278 	inc	hl
   0137 23                  279 	inc	hl
   0138 2B                  280 	dec	hl
   0139 5E                  281 	ld	e,(hl)
   013A 23                  282 	inc	hl
   013B 56                  283 	ld	d,(hl)
   013C 7B                  284 	ld	a,e
   013D F8 00               285 	ldhl	sp,#0
   013F 86                  286 	add	a,(hl)
   0140 5F                  287 	ld	e,a
   0141 7A                  288 	ld	a,d
   0142 23                  289 	inc	hl
   0143 8E                  290 	adc	a,(hl)
   0144 F5                  291 	push	af
   0145 77                  292 	ld	(hl),a
   0146 2B                  293 	dec	hl
   0147 73                  294 	ld	(hl),e
   0148 F8 09               295 	ldhl	sp,#9
   014A 2B                  296 	dec	hl
   014B 5E                  297 	ld	e,(hl)
   014C 23                  298 	inc	hl
   014D 56                  299 	ld	d,(hl)
   014E F8 04               300 	ldhl	sp,#4
   0150 F1                  301 	pop	af
   0151 7B                  302 	ld	a,e
   0152 8E                  303 	adc	a,(hl)
   0153 5F                  304 	ld	e,a
   0154 7A                  305 	ld	a,d
   0155 23                  306 	inc	hl
   0156 8E                  307 	adc	a,(hl)
   0157 77                  308 	ld	(hl),a
   0158 2B                  309 	dec	hl
   0159 73                  310 	ld	(hl),e
   015A 2B                  311 	dec	hl
   015B 2B                  312 	dec	hl
   015C 54                  313 	ld	d,h
   015D 5D                  314 	ld	e,l
   015E F8 0D               315 	ldhl	sp,#13
   0160 1A                  316 	ld	a,(de)
   0161 77                  317 	ld	(hl),a
   0162 23                  318 	inc	hl
   0163 13                  319 	inc	de
   0164 1A                  320 	ld	a,(de)
   0165 77                  321 	ld	(hl),a
   0166 23                  322 	inc	hl
   0167 13                  323 	inc	de
   0168 1A                  324 	ld	a,(de)
   0169 77                  325 	ld	(hl),a
   016A 23                  326 	inc	hl
   016B 13                  327 	inc	de
   016C 1A                  328 	ld	a,(de)
   016D 77                  329 	ld	(hl),a
                            330 ;../_atol.c:48: s++;
   016E F8 08               331 	ldhl	sp,#8
   0170 34                  332 	inc	(hl)
   0171 C2rAEs00            333 	jp	NZ,00115$
   0174 23                  334 	inc	hl
   0175 34                  335 	inc	(hl)
   0176                     336 00149$:
   0176 C3rAEs00            337 	jp	00115$
   0179                     338 00117$:
                            339 ;../_atol.c:51: return (sign ? -rv : rv);
   0179 AF                  340 	xor	a,a
   017A F8 0C               341 	ldhl	sp,#12
   017C B6                  342 	or	a,(hl)
   017D CArA3s01            343 	jp	Z,00120$
   0180 11 00 00            344 	ld	de,#0x0000
   0183 7B                  345 	ld	a,e
   0184 23                  346 	inc	hl
   0185 96                  347 	sub	a,(hl)
   0186 5F                  348 	ld	e,a
   0187 7A                  349 	ld	a,d
   0188 23                  350 	inc	hl
   0189 9E                  351 	sbc	a,(hl)
   018A F5                  352 	push	af
   018B F8 03               353 	ldhl	sp,#3
   018D 77                  354 	ld	(hl),a
   018E 2B                  355 	dec	hl
   018F 73                  356 	ld	(hl),e
   0190 11 00 00            357 	ld	de,#0x0000
   0193 F8 11               358 	ldhl	sp,#17
   0195 F1                  359 	pop	af
   0196 7B                  360 	ld	a,e
   0197 9E                  361 	sbc	a,(hl)
   0198 5F                  362 	ld	e,a
   0199 7A                  363 	ld	a,d
   019A 23                  364 	inc	hl
   019B 9E                  365 	sbc	a,(hl)
   019C F8 03               366 	ldhl	sp,#3
   019E 77                  367 	ld	(hl),a
   019F 2B                  368 	dec	hl
   01A0 73                  369 	ld	(hl),e
   01A1 18 14               370 	jr	00121$
   01A3                     371 00120$:
   01A3 F8 0D               372 	ldhl	sp,#13
   01A5 54                  373 	ld	d,h
   01A6 5D                  374 	ld	e,l
   01A7 F8 00               375 	ldhl	sp,#0
   01A9 1A                  376 	ld	a,(de)
   01AA 77                  377 	ld	(hl),a
   01AB 23                  378 	inc	hl
   01AC 13                  379 	inc	de
   01AD 1A                  380 	ld	a,(de)
   01AE 77                  381 	ld	(hl),a
   01AF 23                  382 	inc	hl
   01B0 13                  383 	inc	de
   01B1 1A                  384 	ld	a,(de)
   01B2 77                  385 	ld	(hl),a
   01B3 23                  386 	inc	hl
   01B4 13                  387 	inc	de
   01B5 1A                  388 	ld	a,(de)
   01B6 77                  389 	ld	(hl),a
   01B7                     390 00121$:
   01B7 F8 01               391 	ldhl	sp,#1
   01B9 2B                  392 	dec	hl
   01BA 5E                  393 	ld	e,(hl)
   01BB 23                  394 	inc	hl
   01BC 56                  395 	ld	d,(hl)
   01BD 23                  396 	inc	hl
   01BE 7E                  397 	ld	a,(hl)
   01BF 23                  398 	inc	hl
   01C0 66                  399 	ld	h,(hl)
   01C1 6F                  400 	ld	l,a
   01C2                     401 00118$:
   01C2 E8 11               402 	lda	sp,17(sp)
   01C4 C9                  403 	ret
   01C5                     404 _atol_end::
                            405 	.area _CODE
                            406 	.area _CABS
