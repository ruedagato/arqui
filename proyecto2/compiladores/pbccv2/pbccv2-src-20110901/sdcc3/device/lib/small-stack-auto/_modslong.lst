                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:31 2015
                              5 ;--------------------------------------------------------
                              6 	.module _modslong
                              7 	.optsdcc -mmcs51 --model-small
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 ;--------------------------------------------------------
                             13 ; special function registers
                             14 ;--------------------------------------------------------
                             15 	.area RSEG    (ABS,DATA)
   0000                      16 	.org 0x0000
                             17 ;--------------------------------------------------------
                             18 ; special function bits
                             19 ;--------------------------------------------------------
                             20 	.area RSEG    (ABS,DATA)
   0000                      21 	.org 0x0000
                             22 ;--------------------------------------------------------
                             23 ; overlayable register banks
                             24 ;--------------------------------------------------------
                             25 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      26 	.ds 8
                             27 ;--------------------------------------------------------
                             28 ; internal ram data
                             29 ;--------------------------------------------------------
                             30 	.area DSEG    (DATA)
                             31 ;--------------------------------------------------------
                             32 ; overlayable items in internal ram 
                             33 ;--------------------------------------------------------
                             34 	.area OSEG    (OVR,DATA)
                             35 ;--------------------------------------------------------
                             36 ; indirectly addressable internal ram data
                             37 ;--------------------------------------------------------
                             38 	.area ISEG    (DATA)
                             39 ;--------------------------------------------------------
                             40 ; absolute internal ram data
                             41 ;--------------------------------------------------------
                             42 	.area IABS    (ABS,DATA)
                             43 	.area IABS    (ABS,DATA)
                             44 ;--------------------------------------------------------
                             45 ; bit data
                             46 ;--------------------------------------------------------
                             47 	.area BSEG    (BIT)
                             48 ;--------------------------------------------------------
                             49 ; paged external ram data
                             50 ;--------------------------------------------------------
                             51 	.area PSEG    (PAG,XDATA)
                             52 ;--------------------------------------------------------
                             53 ; external ram data
                             54 ;--------------------------------------------------------
                             55 	.area XSEG    (XDATA)
                             56 ;--------------------------------------------------------
                             57 ; absolute external ram data
                             58 ;--------------------------------------------------------
                             59 	.area XABS    (ABS,XDATA)
                             60 ;--------------------------------------------------------
                             61 ; external initialized ram data
                             62 ;--------------------------------------------------------
                             63 	.area XISEG   (XDATA)
                             64 	.area HOME    (CODE)
                             65 	.area GSINIT0 (CODE)
                             66 	.area GSINIT1 (CODE)
                             67 	.area GSINIT2 (CODE)
                             68 	.area GSINIT3 (CODE)
                             69 	.area GSINIT4 (CODE)
                             70 	.area GSINIT5 (CODE)
                             71 	.area GSINIT  (CODE)
                             72 	.area GSFINAL (CODE)
                             73 	.area CSEG    (CODE)
                             74 ;--------------------------------------------------------
                             75 ; global & static initialisations
                             76 ;--------------------------------------------------------
                             77 	.area HOME    (CODE)
                             78 	.area GSINIT  (CODE)
                             79 	.area GSFINAL (CODE)
                             80 	.area GSINIT  (CODE)
                             81 ;--------------------------------------------------------
                             82 ; Home
                             83 ;--------------------------------------------------------
                             84 	.area HOME    (CODE)
                             85 	.area HOME    (CODE)
                             86 ;--------------------------------------------------------
                             87 ; code
                             88 ;--------------------------------------------------------
                             89 	.area CSEG    (CODE)
                             90 ;------------------------------------------------------------
                             91 ;Allocation info for local variables in function '_modslong_dummy'
                             92 ;------------------------------------------------------------
                             93 ;------------------------------------------------------------
                             94 ;	_modslong.c:153: _modslong_dummy (void) __naked
                             95 ;	-----------------------------------------
                             96 ;	 function _modslong_dummy
                             97 ;	-----------------------------------------
   0000                      98 __modslong_dummy:
                             99 ;	naked function: no prologue.
                            100 ;	_modslong.c:243: mov	a1,a
                            101 	
                            102 ;	# 167 "_modslong.c"
                    0002    103 	 ar2 = 2 ; BUG register set is not considered
                    0003    104 	 ar3 = 3
                    0004    105 	 ar4 = 4
                    0005    106 	 ar5 = 5
                            107 	
                            108 	 .globl __modslong
                            109 	
   0000                     110 	__modslong:
                            111 	
                            112     ; r1 in acc
   0000 F9                  113 	 mov r1,a ; save r1
                            114 	
   0001 C2 D5               115 	 clr F0 ; F0 (Flag 0)
                            116     ; available to user for general purpose
   0003 30 E7 15            117 	 jnb acc.7,a_not_negative
                            118 	
   0006 D2 D5               119 	 setb F0
                            120 	
   0008 E4                  121 	 clr a ; a = -a;
   0009 C3                  122 	 clr c
   000A 95 82               123 	 subb a,dpl
   000C F5 82               124 	 mov dpl,a
   000E E4                  125 	 clr a
   000F 95 83               126 	 subb a,dph
   0011 F5 83               127 	 mov dph,a
   0013 E4                  128 	 clr a
   0014 95 F0               129 	 subb a,b
   0016 F5 F0               130 	 mov b,a
   0018 E4                  131 	 clr a
   0019 99                  132 	 subb a,r1
   001A F9                  133 	 mov r1,a
                            134 	
   001B                     135 	a_not_negative:
                            136 	
   001B E5 81               137 	 mov a,sp
   001D 24 FB               138 	 add a,#-2-3 ; 2 bytes return address, 3 bytes param b
   001F F8                  139 	 mov r0,a ; r1 points to r2
                            140 	
   0020 86 02               141 	 mov ar2,@r0 ; load r2
   0022 08                  142 	 inc r0 ; r0 points to r3
   0023 86 03               143 	 mov ar3,@r0 ; r3
   0025 08                  144 	 inc r0
   0026 86 04               145 	 mov ar4,@r0 ; r4
   0028 08                  146 	 inc r0
   0029 E6                  147 	 mov a,@r0 ; r5
   002A FD                  148 	 mov r5,a
                            149 	
   002B 30 E7 0D            150 	 jnb acc.7,b_not_negative
                            151 	
   002E E4                  152 	 clr a ; b = -b;
   002F C3                  153 	 clr c
   0030 9A                  154 	 subb a,r2
   0031 FA                  155 	 mov r2,a
   0032 E4                  156 	 clr a
   0033 9B                  157 	 subb a,r3
   0034 FB                  158 	 mov r3,a
   0035 E4                  159 	 clr a
   0036 9C                  160 	 subb a,r4
   0037 FC                  161 	 mov r4,a
   0038 E4                  162 	 clr a
   0039 9D                  163 	 subb a,r5
   003A FD                  164 	 mov r5,a
                            165 	
   003B                     166 	b_not_negative:
                            167 	
   003B 12s00r00            168 	 lcall __modlong
                            169 	
   003E 30 D5 12            170 	 jnb F0,not_negative
                            171 	
                            172     ; result in (a == r1), b, dph, dpl
   0041 E4                  173 	 clr a
   0042 C3                  174 	 clr c
   0043 95 82               175 	 subb a,dpl
   0045 F5 82               176 	 mov dpl,a
   0047 E4                  177 	 clr a
   0048 95 83               178 	 subb a,dph
   004A F5 83               179 	 mov dph,a
   004C E4                  180 	 clr a
   004D 95 F0               181 	 subb a,b
   004F F5 F0               182 	 mov b,a
   0051 E4                  183 	 clr a
   0052 99                  184 	 subb a,r1 ; result in a, b, dph, dpl
                            185 	
   0053                     186 	not_negative:
   0053 22                  187 	 ret
                            188 	
                            189 	 
                            190 ;	naked function: no epilogue.
                            191 	.area CSEG    (CODE)
                            192 	.area CONST   (CODE)
                            193 	.area XINIT   (CODE)
                            194 	.area CABS    (ABS,CODE)
