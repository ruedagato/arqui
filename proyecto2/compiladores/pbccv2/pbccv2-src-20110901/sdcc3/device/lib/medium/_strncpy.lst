                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:26 2015
                              5 ;--------------------------------------------------------
                              6 	.module _strncpy
                              7 	.optsdcc -mmcs51 --model-medium
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _strncpy_PARM_3
                             13 	.globl _strncpy_PARM_2
                             14 	.globl _strncpy
                             15 ;--------------------------------------------------------
                             16 ; special function registers
                             17 ;--------------------------------------------------------
                             18 	.area RSEG    (ABS,DATA)
   0000                      19 	.org 0x0000
                             20 ;--------------------------------------------------------
                             21 ; special function bits
                             22 ;--------------------------------------------------------
                             23 	.area RSEG    (ABS,DATA)
   0000                      24 	.org 0x0000
                             25 ;--------------------------------------------------------
                             26 ; overlayable register banks
                             27 ;--------------------------------------------------------
                             28 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      29 	.ds 8
                             30 ;--------------------------------------------------------
                             31 ; internal ram data
                             32 ;--------------------------------------------------------
                             33 	.area DSEG    (DATA)
                             34 ;--------------------------------------------------------
                             35 ; overlayable items in internal ram 
                             36 ;--------------------------------------------------------
                             37 	.area	OSEG    (OVR,DATA)
   0000                      38 _strncpy_sloc0_1_0::
   0000                      39 	.ds 3
                             40 ;--------------------------------------------------------
                             41 ; indirectly addressable internal ram data
                             42 ;--------------------------------------------------------
                             43 	.area ISEG    (DATA)
                             44 ;--------------------------------------------------------
                             45 ; absolute internal ram data
                             46 ;--------------------------------------------------------
                             47 	.area IABS    (ABS,DATA)
                             48 	.area IABS    (ABS,DATA)
                             49 ;--------------------------------------------------------
                             50 ; bit data
                             51 ;--------------------------------------------------------
                             52 	.area BSEG    (BIT)
                             53 ;--------------------------------------------------------
                             54 ; paged external ram data
                             55 ;--------------------------------------------------------
                             56 	.area PSEG    (PAG,XDATA)
   0000                      57 _strncpy_PARM_2:
   0000                      58 	.ds 3
   0003                      59 _strncpy_PARM_3:
   0003                      60 	.ds 2
   0005                      61 _strncpy_d_1_1:
   0005                      62 	.ds 3
   0008                      63 _strncpy_d1_1_1:
   0008                      64 	.ds 3
                             65 ;--------------------------------------------------------
                             66 ; external ram data
                             67 ;--------------------------------------------------------
                             68 	.area XSEG    (XDATA)
                             69 ;--------------------------------------------------------
                             70 ; absolute external ram data
                             71 ;--------------------------------------------------------
                             72 	.area XABS    (ABS,XDATA)
                             73 ;--------------------------------------------------------
                             74 ; external initialized ram data
                             75 ;--------------------------------------------------------
                             76 	.area XISEG   (XDATA)
                             77 	.area HOME    (CODE)
                             78 	.area GSINIT0 (CODE)
                             79 	.area GSINIT1 (CODE)
                             80 	.area GSINIT2 (CODE)
                             81 	.area GSINIT3 (CODE)
                             82 	.area GSINIT4 (CODE)
                             83 	.area GSINIT5 (CODE)
                             84 	.area GSINIT  (CODE)
                             85 	.area GSFINAL (CODE)
                             86 	.area CSEG    (CODE)
                             87 ;--------------------------------------------------------
                             88 ; global & static initialisations
                             89 ;--------------------------------------------------------
                             90 	.area HOME    (CODE)
                             91 	.area GSINIT  (CODE)
                             92 	.area GSFINAL (CODE)
                             93 	.area GSINIT  (CODE)
                             94 ;--------------------------------------------------------
                             95 ; Home
                             96 ;--------------------------------------------------------
                             97 	.area HOME    (CODE)
                             98 	.area HOME    (CODE)
                             99 ;--------------------------------------------------------
                            100 ; code
                            101 ;--------------------------------------------------------
                            102 	.area CSEG    (CODE)
                            103 ;------------------------------------------------------------
                            104 ;Allocation info for local variables in function 'strncpy'
                            105 ;------------------------------------------------------------
                            106 ;sloc0                     Allocated with name '_strncpy_sloc0_1_0'
                            107 ;------------------------------------------------------------
                            108 ;	_strncpy.c:31: char *strncpy (
                            109 ;	-----------------------------------------
                            110 ;	 function strncpy
                            111 ;	-----------------------------------------
   0000                     112 _strncpy:
                    0002    113 	ar2 = 0x02
                    0003    114 	ar3 = 0x03
                    0004    115 	ar4 = 0x04
                    0005    116 	ar5 = 0x05
                    0006    117 	ar6 = 0x06
                    0007    118 	ar7 = 0x07
                    0000    119 	ar0 = 0x00
                    0001    120 	ar1 = 0x01
   0000 AA 82               121 	mov	r2,dpl
   0002 AB 83               122 	mov	r3,dph
   0004 AC F0               123 	mov	r4,b
                            124 ;	_strncpy.c:36: register char * d1 =  d;
   0006 78r08               125 	mov	r0,#_strncpy_d1_1_1
   0008 EA                  126 	mov	a,r2
   0009 F2                  127 	movx	@r0,a
   000A 08                  128 	inc	r0
   000B EB                  129 	mov	a,r3
   000C F2                  130 	movx	@r0,a
   000D 08                  131 	inc	r0
   000E EC                  132 	mov	a,r4
   000F F2                  133 	movx	@r0,a
                            134 ;	_strncpy.c:38: while ( n && *s )
   0010 78r03               135 	mov	r0,#_strncpy_PARM_3
   0012 E2                  136 	movx	a,@r0
   0013 FD                  137 	mov	r5,a
   0014 08                  138 	inc	r0
   0015 E2                  139 	movx	a,@r0
   0016 FE                  140 	mov	r6,a
   0017 78r00               141 	mov	r0,#_strncpy_PARM_2
   0019 E2                  142 	movx	a,@r0
   001A F5*00               143 	mov	_strncpy_sloc0_1_0,a
   001C 08                  144 	inc	r0
   001D E2                  145 	movx	a,@r0
   001E F5*01               146 	mov	(_strncpy_sloc0_1_0 + 1),a
   0020 08                  147 	inc	r0
   0021 E2                  148 	movx	a,@r0
   0022 F5*02               149 	mov	(_strncpy_sloc0_1_0 + 2),a
   0024                     150 00102$:
   0024 ED                  151 	mov	a,r5
   0025 4E                  152 	orl	a,r6
   0026 60 2D               153 	jz	00114$
   0028 85*00 82            154 	mov	dpl,_strncpy_sloc0_1_0
   002B 85*01 83            155 	mov	dph,(_strncpy_sloc0_1_0 + 1)
   002E 85*02 F0            156 	mov	b,(_strncpy_sloc0_1_0 + 2)
   0031 12s00r00            157 	lcall	__gptrget
   0034 FF                  158 	mov	r7,a
   0035 60 1E               159 	jz	00114$
                            160 ;	_strncpy.c:40: n-- ;
   0037 1D                  161 	dec	r5
   0038 BD FF 01            162 	cjne	r5,#0xff,00119$
   003B 1E                  163 	dec	r6
   003C                     164 00119$:
                            165 ;	_strncpy.c:41: *d++ = *s++ ;
   003C 05*00               166 	inc	_strncpy_sloc0_1_0
   003E E4                  167 	clr	a
   003F B5*00 02            168 	cjne	a,_strncpy_sloc0_1_0,00120$
   0042 05*01               169 	inc	(_strncpy_sloc0_1_0 + 1)
   0044                     170 00120$:
   0044 8A 82               171 	mov	dpl,r2
   0046 8B 83               172 	mov	dph,r3
   0048 8C F0               173 	mov	b,r4
   004A EF                  174 	mov	a,r7
   004B 12s00r00            175 	lcall	__gptrput
   004E A3                  176 	inc	dptr
   004F AA 82               177 	mov	r2,dpl
   0051 AB 83               178 	mov	r3,dph
                            179 ;	_strncpy.c:43: while ( n-- )
   0053 80 CF               180 	sjmp	00102$
   0055                     181 00114$:
   0055 78r05               182 	mov	r0,#_strncpy_d_1_1
   0057 EA                  183 	mov	a,r2
   0058 F2                  184 	movx	@r0,a
   0059 08                  185 	inc	r0
   005A EB                  186 	mov	a,r3
   005B F2                  187 	movx	@r0,a
   005C 08                  188 	inc	r0
   005D EC                  189 	mov	a,r4
   005E F2                  190 	movx	@r0,a
   005F                     191 00105$:
   005F 8D 07               192 	mov	ar7,r5
   0061 8E 02               193 	mov	ar2,r6
   0063 1D                  194 	dec	r5
   0064 BD FF 01            195 	cjne	r5,#0xff,00121$
   0067 1E                  196 	dec	r6
   0068                     197 00121$:
   0068 EF                  198 	mov	a,r7
   0069 4A                  199 	orl	a,r2
   006A 60 1D               200 	jz	00107$
                            201 ;	_strncpy.c:45: *d++ = '\0' ;
   006C 78r05               202 	mov	r0,#_strncpy_d_1_1
   006E E2                  203 	movx	a,@r0
   006F F5 82               204 	mov	dpl,a
   0071 08                  205 	inc	r0
   0072 E2                  206 	movx	a,@r0
   0073 F5 83               207 	mov	dph,a
   0075 08                  208 	inc	r0
   0076 E2                  209 	movx	a,@r0
   0077 F5 F0               210 	mov	b,a
   0079 E4                  211 	clr	a
   007A 12s00r00            212 	lcall	__gptrput
   007D A3                  213 	inc	dptr
   007E 18                  214 	dec	r0
   007F 18                  215 	dec	r0
   0080 E5 82               216 	mov	a,dpl
   0082 F2                  217 	movx	@r0,a
   0083 08                  218 	inc	r0
   0084 E5 83               219 	mov	a,dph
   0086 F2                  220 	movx	@r0,a
   0087 80 D6               221 	sjmp	00105$
   0089                     222 00107$:
                            223 ;	_strncpy.c:47: return d1;
   0089 78r08               224 	mov	r0,#_strncpy_d1_1_1
   008B E2                  225 	movx	a,@r0
   008C F5 82               226 	mov	dpl,a
   008E 08                  227 	inc	r0
   008F E2                  228 	movx	a,@r0
   0090 F5 83               229 	mov	dph,a
   0092 08                  230 	inc	r0
   0093 E2                  231 	movx	a,@r0
   0094 F5 F0               232 	mov	b,a
   0096 22                  233 	ret
                            234 	.area CSEG    (CODE)
                            235 	.area CONST   (CODE)
                            236 	.area XINIT   (CODE)
                            237 	.area CABS    (ABS,CODE)
