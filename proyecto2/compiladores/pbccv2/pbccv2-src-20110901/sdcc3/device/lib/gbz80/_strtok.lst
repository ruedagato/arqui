                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:20 2015
                              5 ;--------------------------------------------------------
                              6 	.module _strtok
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _strtok
                             13 ;--------------------------------------------------------
                             14 ;  ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
   0000                      17 _strtok_s_1_1:
   0000                      18 	.ds 2
                             19 ;--------------------------------------------------------
                             20 ; overlayable items in  ram 
                             21 ;--------------------------------------------------------
                             22 	.area _OVERLAY
                             23 ;--------------------------------------------------------
                             24 ; external initialized ram data
                             25 ;--------------------------------------------------------
                             26 ;--------------------------------------------------------
                             27 ; global & static initialisations
                             28 ;--------------------------------------------------------
                             29 	.area _HOME
                             30 	.area _GSINIT
                             31 	.area _GSFINAL
                             32 	.area _GSINIT
                             33 ;--------------------------------------------------------
                             34 ; Home
                             35 ;--------------------------------------------------------
                             36 	.area _HOME
                             37 	.area _HOME
                             38 ;--------------------------------------------------------
                             39 ; code
                             40 ;--------------------------------------------------------
                             41 	.area _CODE
                             42 ;../_strtok.c:36: char * strtok (
                             43 ;	---------------------------------
                             44 ; Function strtok
                             45 ; ---------------------------------
   0000                      46 _strtok_start::
   0000                      47 _strtok:
                             48 	
   0000 F5                   49 	push	af
                             50 ;../_strtok.c:43: if ( str )
   0001 F8 04                51 	ldhl	sp,#4
   0003 7E                   52 	ld	a,(hl)
   0004 23                   53 	inc	hl
   0005 B6                   54 	or	a,(hl)
   0006 CAr13s00             55 	jp	Z,00102$
                             56 ;../_strtok.c:44: s = str ;
   0009 2B                   57 	dec	hl
   000A 7E                   58 	ld	a,(hl)
   000B 23                   59 	inc	hl
   000C 5E                   60 	ld	e,(hl)
   000D 21r00s00             61 	ld	hl,#_strtok_s_1_1
   0010 77                   62 	ld	(hl),a
   0011 23                   63 	inc	hl
   0012 73                   64 	ld	(hl),e
   0013                      65 00102$:
                             66 ;../_strtok.c:45: if ( !s )
   0013 21r00s00             67 	ld	hl,#_strtok_s_1_1
   0016 7E                   68 	ld	a,(hl)
   0017 23                   69 	inc	hl
   0018 B6                   70 	or	a,(hl)
   0019 C2r22s00             71 	jp	NZ,00108$
                             72 ;../_strtok.c:46: return NULL;
   001C 11 00 00             73 	ld	de,#0x0000
   001F C3rC7s00             74 	jp	00119$
                             75 ;../_strtok.c:48: while (*s) {
   0022                      76 00108$:
   0022 21r01s00             77 	ld	hl,#_strtok_s_1_1 + 1
   0025 2B                   78 	dec	hl
   0026 4E                   79 	ld	c,(hl)
   0027 23                   80 	inc	hl
   0028 46                   81 	ld	b,(hl)
   0029 0A                   82 	ld	a,(bc)
   002A B7                   83 	or	a,a
   002B CAr54s00             84 	jp	Z,00110$
                             85 ;../_strtok.c:49: if (strchr(control,*s))
   002E 2B                   86 	dec	hl
   002F 4E                   87 	ld	c,(hl)
   0030 23                   88 	inc	hl
   0031 46                   89 	ld	b,(hl)
   0032 0A                   90 	ld	a,(bc)
   0033 4F                   91 	ld	c,a
   0034 F5                   92 	push	af
   0035 33                   93 	inc	sp
   0036 F8 07                94 	ldhl	sp,#7
   0038 7E                   95 	ld	a,(hl)
   0039 23                   96 	inc	hl
   003A 66                   97 	ld	h,(hl)
   003B 6F                   98 	ld	l,a
   003C E5                   99 	push	hl
   003D CDr00s00            100 	call	_strchr
   0040 E8 03               101 	lda	sp,3(sp)
   0042 42                  102 	ld	b,d
   0043 4B                  103 	ld	c,e
   0044 79                  104 	ld	a,c
   0045 B0                  105 	or	a,b
   0046 CAr54s00            106 	jp	Z,00110$
                            107 ;../_strtok.c:50: s++;
   0049 21r00s00            108 	ld	hl,#_strtok_s_1_1
   004C 34                  109 	inc	(hl)
   004D C2r22s00            110 	jp	NZ,00108$
   0050 23                  111 	inc	hl
   0051 34                  112 	inc	(hl)
   0052                     113 00130$:
   0052 18 CE               114 	jr	00108$
                            115 ;../_strtok.c:52: break;
   0054                     116 00110$:
                            117 ;../_strtok.c:55: s1 = s ;
   0054 21r00s00            118 	ld	hl,#_strtok_s_1_1
   0057 7E                  119 	ld	a,(hl)
   0058 23                  120 	inc	hl
   0059 5E                  121 	ld	e,(hl)
   005A F8 00               122 	ldhl	sp,#0
   005C 77                  123 	ld	(hl),a
   005D 23                  124 	inc	hl
   005E 73                  125 	ld	(hl),e
                            126 ;../_strtok.c:57: while (*s) {
   005F                     127 00113$:
   005F 21r01s00            128 	ld	hl,#_strtok_s_1_1 + 1
   0062 2B                  129 	dec	hl
   0063 4E                  130 	ld	c,(hl)
   0064 23                  131 	inc	hl
   0065 46                  132 	ld	b,(hl)
   0066 0A                  133 	ld	a,(bc)
   0067 B7                  134 	or	a,a
   0068 CArABs00            135 	jp	Z,00115$
                            136 ;../_strtok.c:58: if (strchr(control,*s)) {
   006B 2B                  137 	dec	hl
   006C 4E                  138 	ld	c,(hl)
   006D 23                  139 	inc	hl
   006E 46                  140 	ld	b,(hl)
   006F 0A                  141 	ld	a,(bc)
   0070 4F                  142 	ld	c,a
   0071 F5                  143 	push	af
   0072 33                  144 	inc	sp
   0073 F8 07               145 	ldhl	sp,#7
   0075 7E                  146 	ld	a,(hl)
   0076 23                  147 	inc	hl
   0077 66                  148 	ld	h,(hl)
   0078 6F                  149 	ld	l,a
   0079 E5                  150 	push	hl
   007A CDr00s00            151 	call	_strchr
   007D E8 03               152 	lda	sp,3(sp)
   007F 42                  153 	ld	b,d
   0080 4B                  154 	ld	c,e
   0081 79                  155 	ld	a,c
   0082 B0                  156 	or	a,b
   0083 CAr9Fs00            157 	jp	Z,00112$
                            158 ;../_strtok.c:59: *s++ = '\0';
   0086 21r01s00            159 	ld	hl,#_strtok_s_1_1 + 1
   0089 2B                  160 	dec	hl
   008A 4E                  161 	ld	c,(hl)
   008B 23                  162 	inc	hl
   008C 46                  163 	ld	b,(hl)
   008D 3E 00               164 	ld	a,#0x00
   008F 02                  165 	ld	(bc),a
   0090 2B                  166 	dec	hl
   0091 34                  167 	inc	(hl)
   0092 C2r97s00            168 	jp	NZ,00131$
   0095 23                  169 	inc	hl
   0096 34                  170 	inc	(hl)
   0097                     171 00131$:
                            172 ;../_strtok.c:60: return s1 ;
   0097 F8 01               173 	ldhl	sp,#1
   0099 2B                  174 	dec	hl
   009A 5E                  175 	ld	e,(hl)
   009B 23                  176 	inc	hl
   009C 56                  177 	ld	d,(hl)
   009D 18 28               178 	jr	00119$
   009F                     179 00112$:
                            180 ;../_strtok.c:62: s++ ;
   009F 21r00s00            181 	ld	hl,#_strtok_s_1_1
   00A2 34                  182 	inc	(hl)
   00A3 C2r5Fs00            183 	jp	NZ,00113$
   00A6 23                  184 	inc	hl
   00A7 34                  185 	inc	(hl)
   00A8                     186 00132$:
   00A8 C3r5Fs00            187 	jp	00113$
   00AB                     188 00115$:
                            189 ;../_strtok.c:65: s = NULL;
   00AB 21r00s00            190 	ld	hl,#_strtok_s_1_1
   00AE 36 00               191 	ld	(hl),#0x00
   00B0 23                  192 	inc	hl
   00B1 36 00               193 	ld	(hl),#0x00
                            194 ;../_strtok.c:67: if (*s1)
   00B3 F8 01               195 	ldhl	sp,#1
   00B5 2B                  196 	dec	hl
   00B6 5E                  197 	ld	e,(hl)
   00B7 23                  198 	inc	hl
   00B8 56                  199 	ld	d,(hl)
   00B9 1A                  200 	ld	a,(de)
   00BA B7                  201 	or	a,a
   00BB CArC4s00            202 	jp	Z,00117$
                            203 ;../_strtok.c:68: return s1;
   00BE 2B                  204 	dec	hl
   00BF 5E                  205 	ld	e,(hl)
   00C0 23                  206 	inc	hl
   00C1 56                  207 	ld	d,(hl)
   00C2 18 03               208 	jr	00119$
   00C4                     209 00117$:
                            210 ;../_strtok.c:70: return NULL;
   00C4 11 00 00            211 	ld	de,#0x0000
   00C7                     212 00119$:
   00C7 E8 02               213 	lda	sp,2(sp)
   00C9 C9                  214 	ret
   00CA                     215 _strtok_end::
                            216 	.area _CODE
                            217 	.area _CABS
