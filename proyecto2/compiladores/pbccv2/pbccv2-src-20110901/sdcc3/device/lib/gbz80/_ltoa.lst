                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:20 2015
                              5 ;--------------------------------------------------------
                              6 	.module _ltoa
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl __ltoa
                             13 	.globl __ultoa
                             14 ;--------------------------------------------------------
                             15 ;  ram data
                             16 ;--------------------------------------------------------
                             17 	.area _DATA
                             18 ;--------------------------------------------------------
                             19 ; overlayable items in  ram 
                             20 ;--------------------------------------------------------
                             21 	.area _OVERLAY
                             22 ;--------------------------------------------------------
                             23 ; external initialized ram data
                             24 ;--------------------------------------------------------
                             25 ;--------------------------------------------------------
                             26 ; global & static initialisations
                             27 ;--------------------------------------------------------
                             28 	.area _HOME
                             29 	.area _GSINIT
                             30 	.area _GSFINAL
                             31 	.area _GSINIT
                             32 ;--------------------------------------------------------
                             33 ; Home
                             34 ;--------------------------------------------------------
                             35 	.area _HOME
                             36 	.area _HOME
                             37 ;--------------------------------------------------------
                             38 ; code
                             39 ;--------------------------------------------------------
                             40 	.area _CODE
                             41 ;../_ltoa.c:56: void _ultoa(unsigned long value, char* string, unsigned char radix)
                             42 ;	---------------------------------
                             43 ; Function _ultoa
                             44 ; ---------------------------------
   0000                      45 __ultoa_start::
   0000                      46 __ultoa:
   0000 E8 D4                47 	lda	sp,-44(sp)
                             48 ;../_ltoa.c:61: do {
   0002 F8 0C                49 	ldhl	sp,#12
   0004 7D                   50 	ld	a,l
   0005 54                   51 	ld	d,h
   0006 F8 08                52 	ldhl	sp,#8
   0008 77                   53 	ld	(hl),a
   0009 23                   54 	inc	hl
   000A 72                   55 	ld	(hl),d
   000B 23                   56 	inc	hl
   000C 23                   57 	inc	hl
   000D 36 20                58 	ld	(hl),#0x20
   000F                      59 00103$:
                             60 ;../_ltoa.c:62: unsigned char c = '0' + (value % radix);
   000F F8 34                61 	ldhl	sp,#52
   0011 7E                   62 	ld	a,(hl)
   0012 F8 04                63 	ldhl	sp,#4
   0014 77                   64 	ld	(hl),a
   0015 23                   65 	inc	hl
   0016 36 00                66 	ld	(hl),#0x00
   0018 23                   67 	inc	hl
   0019 36 00                68 	ld	(hl),#0x00
   001B 23                   69 	inc	hl
   001C 36 00                70 	ld	(hl),#0x00
   001E 2B                   71 	dec	hl
   001F 7E                   72 	ld	a,(hl)
   0020 23                   73 	inc	hl
   0021 66                   74 	ld	h,(hl)
   0022 6F                   75 	ld	l,a
   0023 E5                   76 	push	hl
   0024 F8 06                77 	ldhl	sp,#6
   0026 7E                   78 	ld	a,(hl)
   0027 23                   79 	inc	hl
   0028 66                   80 	ld	h,(hl)
   0029 6F                   81 	ld	l,a
   002A E5                   82 	push	hl
   002B F8 34                83 	ldhl	sp,#52
   002D 7E                   84 	ld	a,(hl)
   002E 23                   85 	inc	hl
   002F 66                   86 	ld	h,(hl)
   0030 6F                   87 	ld	l,a
   0031 E5                   88 	push	hl
   0032 F8 34                89 	ldhl	sp,#52
   0034 7E                   90 	ld	a,(hl)
   0035 23                   91 	inc	hl
   0036 66                   92 	ld	h,(hl)
   0037 6F                   93 	ld	l,a
   0038 E5                   94 	push	hl
   0039 CDr00s00             95 	call	__modulong_rrx_s
   003C E8 08                96 	lda	sp,8(sp)
   003E E5                   97 	push	hl
   003F F8 02                98 	ldhl	sp,#2
   0041 73                   99 	ld	(hl),e
   0042 23                  100 	inc	hl
   0043 72                  101 	ld	(hl),d
   0044 D1                  102 	pop	de
   0045 23                  103 	inc	hl
   0046 73                  104 	ld	(hl),e
   0047 23                  105 	inc	hl
   0048 72                  106 	ld	(hl),d
   0049 F8 00               107 	ldhl	sp,#0
   004B 4E                  108 	ld	c,(hl)
   004C 79                  109 	ld	a,c
   004D C6 30               110 	add	a,#0x30
   004F F8 0A               111 	ldhl	sp,#10
   0051 77                  112 	ld	(hl),a
                            113 ;../_ltoa.c:63: if (c > (unsigned char)'9')
   0052 3E 39               114 	ld	a,#0x39
   0054 96                  115 	sub	a, (hl)
   0055 D2r5Cs00            116 	jp	NC,00102$
                            117 ;../_ltoa.c:64: c += 'A' - '9' - 1;
   0058 7E                  118 	ld	a,(hl)
   0059 C6 07               119 	add	a,#0x07
   005B 77                  120 	ld	(hl),a
   005C                     121 00102$:
                            122 ;../_ltoa.c:65: buffer[--index] = c;
   005C F8 0B               123 	ldhl	sp,#11
   005E 35                  124 	dec	(hl)
   005F 2B                  125 	dec	hl
   0060 2B                  126 	dec	hl
   0061 2B                  127 	dec	hl
   0062 5E                  128 	ld	e,(hl)
   0063 23                  129 	inc	hl
   0064 56                  130 	ld	d,(hl)
   0065 23                  131 	inc	hl
   0066 23                  132 	inc	hl
   0067 6E                  133 	ld	l,(hl)
   0068 26 00               134 	ld	h,#0x00
   006A 19                  135 	add	hl,de
   006B 4D                  136 	ld	c,l
   006C 44                  137 	ld	b,h
   006D F8 0A               138 	ldhl	sp,#10
   006F 7E                  139 	ld	a,(hl)
   0070 02                  140 	ld	(bc),a
                            141 ;../_ltoa.c:66: value /= radix;
   0071 F8 06               142 	ldhl	sp,#6
   0073 7E                  143 	ld	a,(hl)
   0074 23                  144 	inc	hl
   0075 66                  145 	ld	h,(hl)
   0076 6F                  146 	ld	l,a
   0077 E5                  147 	push	hl
   0078 F8 06               148 	ldhl	sp,#6
   007A 7E                  149 	ld	a,(hl)
   007B 23                  150 	inc	hl
   007C 66                  151 	ld	h,(hl)
   007D 6F                  152 	ld	l,a
   007E E5                  153 	push	hl
   007F F8 34               154 	ldhl	sp,#52
   0081 7E                  155 	ld	a,(hl)
   0082 23                  156 	inc	hl
   0083 66                  157 	ld	h,(hl)
   0084 6F                  158 	ld	l,a
   0085 E5                  159 	push	hl
   0086 F8 34               160 	ldhl	sp,#52
   0088 7E                  161 	ld	a,(hl)
   0089 23                  162 	inc	hl
   008A 66                  163 	ld	h,(hl)
   008B 6F                  164 	ld	l,a
   008C E5                  165 	push	hl
   008D CDr00s00            166 	call	__divulong_rrx_s
   0090 E8 08               167 	lda	sp,8(sp)
   0092 E5                  168 	push	hl
   0093 F8 02               169 	ldhl	sp,#2
   0095 73                  170 	ld	(hl),e
   0096 23                  171 	inc	hl
   0097 72                  172 	ld	(hl),d
   0098 D1                  173 	pop	de
   0099 23                  174 	inc	hl
   009A 73                  175 	ld	(hl),e
   009B 23                  176 	inc	hl
   009C 72                  177 	ld	(hl),d
   009D F8 00               178 	ldhl	sp,#0
   009F 54                  179 	ld	d,h
   00A0 5D                  180 	ld	e,l
   00A1 F8 2E               181 	ldhl	sp,#46
   00A3 1A                  182 	ld	a,(de)
   00A4 77                  183 	ld	(hl),a
   00A5 23                  184 	inc	hl
   00A6 13                  185 	inc	de
   00A7 1A                  186 	ld	a,(de)
   00A8 77                  187 	ld	(hl),a
   00A9 23                  188 	inc	hl
   00AA 13                  189 	inc	de
   00AB 1A                  190 	ld	a,(de)
   00AC 77                  191 	ld	(hl),a
   00AD 23                  192 	inc	hl
   00AE 13                  193 	inc	de
   00AF 1A                  194 	ld	a,(de)
   00B0 77                  195 	ld	(hl),a
                            196 ;../_ltoa.c:67: } while (value);
   00B1 F8 2E               197 	ldhl	sp,#46
   00B3 7E                  198 	ld	a,(hl)
   00B4 23                  199 	inc	hl
   00B5 B6                  200 	or	a,(hl)
   00B6 23                  201 	inc	hl
   00B7 B6                  202 	or	a,(hl)
   00B8 23                  203 	inc	hl
   00B9 B6                  204 	or	a,(hl)
   00BA C2r0Fs00            205 	jp	NZ,00103$
                            206 ;../_ltoa.c:69: do {
   00BD 23                  207 	inc	hl
   00BE 7E                  208 	ld	a,(hl)
   00BF 23                  209 	inc	hl
   00C0 5E                  210 	ld	e,(hl)
   00C1 F8 00               211 	ldhl	sp,#0
   00C3 77                  212 	ld	(hl),a
   00C4 23                  213 	inc	hl
   00C5 73                  214 	ld	(hl),e
   00C6                     215 00106$:
                            216 ;../_ltoa.c:70: *string++ = buffer[index];
   00C6 F8 09               217 	ldhl	sp,#9
   00C8 2B                  218 	dec	hl
   00C9 5E                  219 	ld	e,(hl)
   00CA 23                  220 	inc	hl
   00CB 56                  221 	ld	d,(hl)
   00CC 23                  222 	inc	hl
   00CD 23                  223 	inc	hl
   00CE 6E                  224 	ld	l,(hl)
   00CF 26 00               225 	ld	h,#0x00
   00D1 19                  226 	add	hl,de
   00D2 4D                  227 	ld	c,l
   00D3 44                  228 	ld	b,h
   00D4 0A                  229 	ld	a,(bc)
   00D5 F8 01               230 	ldhl	sp,#1
   00D7 2B                  231 	dec	hl
   00D8 5E                  232 	ld	e,(hl)
   00D9 23                  233 	inc	hl
   00DA 56                  234 	ld	d,(hl)
   00DB 12                  235 	ld	(de),a
   00DC 2B                  236 	dec	hl
   00DD 34                  237 	inc	(hl)
   00DE C2rE3s00            238 	jp	NZ,00117$
   00E1 23                  239 	inc	hl
   00E2 34                  240 	inc	(hl)
   00E3                     241 00117$:
                            242 ;../_ltoa.c:71: } while ( ++index != NUMBER_OF_DIGITS );
   00E3 F8 0B               243 	ldhl	sp,#11
   00E5 34                  244 	inc	(hl)
   00E6 7E                  245 	ld	a,(hl)
   00E7 D6 20               246 	sub	a,#0x20
   00E9 CArEEs00            247 	jp	Z,00119$
   00EC                     248 00118$:
   00EC 18 D8               249 	jr	00106$
   00EE                     250 00119$:
                            251 ;../_ltoa.c:73: *string = 0;  /* string terminator */
   00EE F8 01               252 	ldhl	sp,#1
   00F0 2B                  253 	dec	hl
   00F1 5E                  254 	ld	e,(hl)
   00F2 23                  255 	inc	hl
   00F3 56                  256 	ld	d,(hl)
   00F4 3E 00               257 	ld	a,#0x00
   00F6 12                  258 	ld	(de),a
   00F7                     259 00109$:
   00F7 E8 2C               260 	lda	sp,44(sp)
   00F9 C9                  261 	ret
   00FA                     262 __ultoa_end::
                            263 ;../_ltoa.c:76: void _ltoa(long value, char* string, unsigned char radix)
                            264 ;	---------------------------------
                            265 ; Function _ltoa
                            266 ; ---------------------------------
   00FA                     267 __ltoa_start::
   00FA                     268 __ltoa:
                            269 	
                            270 ;../_ltoa.c:78: if (value < 0 && radix == 10) {
   00FA F8 02               271 	ldhl	sp,#2
   00FC 7E                  272 	ld	a, (hl)
   00FD D6 00               273 	sub	a, #0x00
   00FF 23                  274 	inc	hl
   0100 7E                  275 	ld	a, (hl)
   0101 DE 00               276 	sbc	a, #0x00
   0103 23                  277 	inc	hl
   0104 7E                  278 	ld	a, (hl)
   0105 DE 00               279 	sbc	a, #0x00
   0107 23                  280 	inc	hl
   0108 7E                  281 	ld	a, (hl)
   0109 DE 00               282 	sbc	a, #0x00
   010B 56                  283 	ld	d, (hl)
   010C 3E 00               284 	ld	a, #0x00
   010E 5F                  285 	ld	e, a
   010F CB 7B               286 	bit	7, e
   0111 CAr1Cs01            287 	jp	Z, 00108$
   0114 CB 7A               288 	bit	7, d
   0116 C2r22s01            289 	jp	NZ, 00109$
   0119 BF                  290 	cp	a, a
   011A 18 06               291 	jr	00109$
   011C                     292 00108$:
   011C CB 7A               293 	bit	7, d
   011E CAr22s01            294 	jp	Z, 00109$
   0121 37                  295 	scf
   0122                     296 00109$:
   0122 D2r60s01            297 	jp	NC,00102$
   0125 F8 08               298 	ldhl	sp,#8
   0127 7E                  299 	ld	a,(hl)
   0128 D6 0A               300 	sub	a,#0x0A
   012A CAr2Fs01            301 	jp	Z,00111$
   012D                     302 00110$:
   012D 18 31               303 	jr	00102$
   012F                     304 00111$:
                            305 ;../_ltoa.c:79: *string++ = '-';
   012F 2B                  306 	dec	hl
   0130 2B                  307 	dec	hl
   0131 4E                  308 	ld	c,(hl)
   0132 23                  309 	inc	hl
   0133 46                  310 	ld	b,(hl)
   0134 3E 2D               311 	ld	a,#0x2D
   0136 02                  312 	ld	(bc),a
   0137 21 01 00            313 	ld	hl,#0x0001
   013A 09                  314 	add	hl,bc
   013B 7D                  315 	ld	a,l
   013C 54                  316 	ld	d,h
   013D F8 06               317 	ldhl	sp,#6
   013F 77                  318 	ld	(hl),a
   0140 23                  319 	inc	hl
   0141 72                  320 	ld	(hl),d
                            321 ;../_ltoa.c:80: value = -value;
   0142 11 00 00            322 	ld	de,#0x0000
   0145 7B                  323 	ld	a,e
   0146 F8 02               324 	ldhl	sp,#2
   0148 96                  325 	sub	a,(hl)
   0149 5F                  326 	ld	e,a
   014A 7A                  327 	ld	a,d
   014B 23                  328 	inc	hl
   014C 9E                  329 	sbc	a,(hl)
   014D F5                  330 	push	af
   014E 77                  331 	ld	(hl),a
   014F 2B                  332 	dec	hl
   0150 73                  333 	ld	(hl),e
   0151 11 00 00            334 	ld	de,#0x0000
   0154 23                  335 	inc	hl
   0155 23                  336 	inc	hl
   0156 F1                  337 	pop	af
   0157 7B                  338 	ld	a,e
   0158 9E                  339 	sbc	a,(hl)
   0159 5F                  340 	ld	e,a
   015A 7A                  341 	ld	a,d
   015B 23                  342 	inc	hl
   015C 9E                  343 	sbc	a,(hl)
   015D 77                  344 	ld	(hl),a
   015E 2B                  345 	dec	hl
   015F 73                  346 	ld	(hl),e
   0160                     347 00102$:
                            348 ;../_ltoa.c:82: _ultoa(value, string, radix);
   0160 F8 08               349 	ldhl	sp,#8
   0162 7E                  350 	ld	a,(hl)
   0163 F5                  351 	push	af
   0164 33                  352 	inc	sp
   0165 2B                  353 	dec	hl
   0166 2B                  354 	dec	hl
   0167 7E                  355 	ld	a,(hl)
   0168 23                  356 	inc	hl
   0169 66                  357 	ld	h,(hl)
   016A 6F                  358 	ld	l,a
   016B E5                  359 	push	hl
   016C F8 07               360 	ldhl	sp,#7
   016E 7E                  361 	ld	a,(hl)
   016F 23                  362 	inc	hl
   0170 66                  363 	ld	h,(hl)
   0171 6F                  364 	ld	l,a
   0172 E5                  365 	push	hl
   0173 F8 07               366 	ldhl	sp,#7
   0175 7E                  367 	ld	a,(hl)
   0176 23                  368 	inc	hl
   0177 66                  369 	ld	h,(hl)
   0178 6F                  370 	ld	l,a
   0179 E5                  371 	push	hl
   017A CDr00s00            372 	call	__ultoa
   017D E8 07               373 	lda	sp,7(sp)
   017F                     374 00104$:
                            375 	
   017F C9                  376 	ret
   0180                     377 __ltoa_end::
                            378 	.area _CODE
                            379 	.area _CABS
