                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:28 2015
                              5 ;--------------------------------------------------------
                              6 	.module _fsreturnval
                              7 	.optsdcc -mmcs51 --model-large
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 ;--------------------------------------------------------
                             13 ; special function registers
                             14 ;--------------------------------------------------------
                             15 	.area RSEG    (ABS,DATA)
   0000                      16 	.org 0x0000
                             17 ;--------------------------------------------------------
                             18 ; special function bits
                             19 ;--------------------------------------------------------
                             20 	.area RSEG    (ABS,DATA)
   0000                      21 	.org 0x0000
                             22 ;--------------------------------------------------------
                             23 ; overlayable register banks
                             24 ;--------------------------------------------------------
                             25 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      26 	.ds 8
                             27 ;--------------------------------------------------------
                             28 ; internal ram data
                             29 ;--------------------------------------------------------
                             30 	.area DSEG    (DATA)
                             31 ;--------------------------------------------------------
                             32 ; overlayable items in internal ram 
                             33 ;--------------------------------------------------------
                             34 	.area OSEG    (OVR,DATA)
                             35 ;--------------------------------------------------------
                             36 ; indirectly addressable internal ram data
                             37 ;--------------------------------------------------------
                             38 	.area ISEG    (DATA)
                             39 ;--------------------------------------------------------
                             40 ; absolute internal ram data
                             41 ;--------------------------------------------------------
                             42 	.area IABS    (ABS,DATA)
                             43 	.area IABS    (ABS,DATA)
                             44 ;--------------------------------------------------------
                             45 ; bit data
                             46 ;--------------------------------------------------------
                             47 	.area BSEG    (BIT)
                             48 ;--------------------------------------------------------
                             49 ; paged external ram data
                             50 ;--------------------------------------------------------
                             51 	.area PSEG    (PAG,XDATA)
                             52 ;--------------------------------------------------------
                             53 ; external ram data
                             54 ;--------------------------------------------------------
                             55 	.area XSEG    (XDATA)
                             56 ;--------------------------------------------------------
                             57 ; absolute external ram data
                             58 ;--------------------------------------------------------
                             59 	.area XABS    (ABS,XDATA)
                             60 ;--------------------------------------------------------
                             61 ; external initialized ram data
                             62 ;--------------------------------------------------------
                             63 	.area XISEG   (XDATA)
                             64 	.area HOME    (CODE)
                             65 	.area GSINIT0 (CODE)
                             66 	.area GSINIT1 (CODE)
                             67 	.area GSINIT2 (CODE)
                             68 	.area GSINIT3 (CODE)
                             69 	.area GSINIT4 (CODE)
                             70 	.area GSINIT5 (CODE)
                             71 	.area GSINIT  (CODE)
                             72 	.area GSFINAL (CODE)
                             73 	.area CSEG    (CODE)
                             74 ;--------------------------------------------------------
                             75 ; global & static initialisations
                             76 ;--------------------------------------------------------
                             77 	.area HOME    (CODE)
                             78 	.area GSINIT  (CODE)
                             79 	.area GSFINAL (CODE)
                             80 	.area GSINIT  (CODE)
                             81 ;--------------------------------------------------------
                             82 ; Home
                             83 ;--------------------------------------------------------
                             84 	.area HOME    (CODE)
                             85 	.area HOME    (CODE)
                             86 ;--------------------------------------------------------
                             87 ; code
                             88 ;--------------------------------------------------------
                             89 	.area CSEG    (CODE)
                             90 ;------------------------------------------------------------
                             91 ;Allocation info for local variables in function 'dummy'
                             92 ;------------------------------------------------------------
                             93 ;------------------------------------------------------------
                             94 ;	_fsreturnval.c:37: static void dummy(void) __naked
                             95 ;	-----------------------------------------
                             96 ;	 function dummy
                             97 ;	-----------------------------------------
   0000                      98 _dummy:
                             99 ;	naked function: no prologue.
                            100 ;	_fsreturnval.c:112: __endasm;
                            101 	
                            102 	
                            103 	 .globl fs_round_and_return
   0000                     104 	fs_round_and_return:
                            105 	
                            106 	
   0000 B9 80 03            107 	 cjne r1, #128, 00001$
   0003 EA                  108 	 mov a, r2
   0004 13                  109 	 rrc a
   0005 B3                  110 	 cpl c
   0006                     111 	00001$:
   0006 40 10               112 	 jc fs_zerocheck_return
   0008 EA                  113 	 mov a, r2
   0009 24 01               114 	 add a, #1
   000B FA                  115 	 mov r2, a
   000C E4                  116 	 clr a
   000D 3B                  117 	 addc a, r3
   000E FB                  118 	 mov r3, a
   000F E4                  119 	 clr a
   0010 3C                  120 	 addc a, r4
   0011 FC                  121 	 mov r4, a
   0012 50 04               122 	 jnc fs_zerocheck_return
   0014 7C 80               123 	 mov r4, #0x80
   0016 05 82               124 	 inc dpl
                            125 	
                            126 	
                            127 	 .globl fs_zerocheck_return
   0018                     128 	fs_zerocheck_return:
                            129 	
   0018 BC 00 0E            130 	 cjne r4, #0, fs_direct_return
   001B BB 00 0B            131 	 cjne r3, #0, fs_direct_return
   001E BA 00 08            132 	 cjne r2, #0, fs_direct_return
                            133 	
                            134 	 .globl fs_return_zero
   0021                     135 	fs_return_zero:
   0021 E4                  136 	 clr a
   0022 F5 F0               137 	 mov b, a
   0024 F5 83               138 	 mov dph, a
   0026 F5 82               139 	 mov dpl, a
   0028 22                  140 	 ret
                            141 	
                            142 	 .globl fs_direct_return
   0029                     143 	fs_direct_return:
                            144 	
   0029 A2 D1               145 	 mov c, psw.1
   002B E5 82               146 	 mov a, dpl
   002D 13                  147 	 rrc a
   002E 8C F0               148 	 mov b, r4
   0030 92 F7               149 	 mov b.7, c
   0032 8B 83               150 	 mov dph, r3
   0034 8A 82               151 	 mov dpl, r2
   0036 22                  152 	 ret
                            153 	
                            154 	 .globl fs_return_inf
   0037                     155 	fs_return_inf:
   0037 E4                  156 	 clr a
   0038 F5 83               157 	 mov dph, a
   003A F5 82               158 	 mov dpl, a
   003C 75 F0 80            159 	 mov b, #0x80
   003F F4                  160 	 cpl a
   0040 A2 D1               161 	 mov c, psw.1
   0042 13                  162 	 rrc a
   0043 22                  163 	 ret
                            164 	
                            165 	 .globl fs_return_nan
   0044                     166 	fs_return_nan:
   0044 E4                  167 	 clr a
   0045 F5 83               168 	 mov dph, a
   0047 F5 82               169 	 mov dpl, a
   0049 75 F0 C0            170 	 mov b, #0xC0
   004C 74 7F               171 	 mov a, #0x7F
   004E 22                  172 	 ret
                            173 	
                            174 	 
                            175 ;	naked function: no epilogue.
                            176 	.area CSEG    (CODE)
                            177 	.area CONST   (CODE)
                            178 	.area XINIT   (CODE)
                            179 	.area CABS    (ABS,CODE)
