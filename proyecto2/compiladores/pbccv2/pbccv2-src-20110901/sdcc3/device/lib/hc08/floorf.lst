                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:21 2015
                              5 ;--------------------------------------------------------
                              6 	.module floorf
                              7 	.optsdcc -mhc08
                              8 	
                              9 	.area HOME (CODE)
                             10 	.area GSINIT0 (CODE)
                             11 	.area GSINIT (CODE)
                             12 	.area GSFINAL (CODE)
                             13 	.area CSEG (CODE)
                             14 	.area XINIT
                             15 	.area CONST   (CODE)
                             16 	.area DSEG
                             17 	.area OSEG    (OVR)
                             18 	.area BSEG
                             19 	.area XSEG
                             20 	.area XISEG
                             21 ;--------------------------------------------------------
                             22 ; Public variables in this module
                             23 ;--------------------------------------------------------
                             24 	.globl _floorf
                             25 ;--------------------------------------------------------
                             26 ;  ram data
                             27 ;--------------------------------------------------------
                             28 	.area DSEG
                             29 ;--------------------------------------------------------
                             30 ; overlayable items in  ram 
                             31 ;--------------------------------------------------------
                             32 	.area OSEG    (OVR)
                             33 ;--------------------------------------------------------
                             34 ; absolute external ram data
                             35 ;--------------------------------------------------------
                             36 	.area XABS    (ABS)
                             37 ;--------------------------------------------------------
                             38 ; external initialized ram data
                             39 ;--------------------------------------------------------
                             40 	.area XISEG
                             41 ;--------------------------------------------------------
                             42 ; extended address mode data
                             43 ;--------------------------------------------------------
                             44 	.area XSEG
                             45 ;--------------------------------------------------------
                             46 ; global & static initialisations
                             47 ;--------------------------------------------------------
                             48 	.area HOME (CODE)
                             49 	.area GSINIT (CODE)
                             50 	.area GSFINAL (CODE)
                             51 	.area GSINIT (CODE)
                             52 ;--------------------------------------------------------
                             53 ; Home
                             54 ;--------------------------------------------------------
                             55 	.area HOME (CODE)
                             56 	.area HOME (CODE)
                             57 ;--------------------------------------------------------
                             58 ; code
                             59 ;--------------------------------------------------------
                             60 	.area CSEG (CODE)
                             61 ;------------------------------------------------------------
                             62 ;Allocation info for local variables in function 'floorf'
                             63 ;------------------------------------------------------------
                             64 ;x                         Allocated to stack - offset 2
                             65 ;r                         Allocated to stack - offset -4
                             66 ;sloc0                     Allocated to stack - offset -5
                             67 ;sloc1                     Allocated to stack - offset -9
                             68 ;------------------------------------------------------------
                             69 ;../floorf.c:33: float floorf (float x) _FLOAT_FUNC_REENTRANT
                             70 ;	-----------------------------------------
                             71 ;	 function floorf
                             72 ;	-----------------------------------------
   0000                      73 _floorf:
   0000 A7 F7                74 	ais	#-9
                             75 ;../floorf.c:36: r=x;
   0002 9E E6 0C             76 	lda	12,s
   0005 C7s00r00             77 	sta	___fs2slong_PARM_1
   0008 9E E6 0D             78 	lda	13,s
   000B C7s00r01             79 	sta	(___fs2slong_PARM_1 + 1)
   000E 9E E6 0E             80 	lda	14,s
   0011 C7s00r02             81 	sta	(___fs2slong_PARM_1 + 2)
   0014 9E E6 0F             82 	lda	15,s
   0017 C7s00r03             83 	sta	(___fs2slong_PARM_1 + 3)
   001A CDs00r00             84 	jsr	___fs2slong
   001D 9E E7 09             85 	sta	9,s
   0020 9E EF 08             86 	stx	8,s
   0023 B6*00                87 	lda	*__ret2
   0025 9E E7 07             88 	sta	7,s
   0028 B6*00                89 	lda	*__ret3
   002A 9E E7 06             90 	sta	6,s
                             91 ;../floorf.c:37: if (r<=0)
   002D 4F                   92 	clra
   002E 9E E0 09             93 	sub	9,s
   0031 4F                   94 	clra
   0032 9E E2 08             95 	sbc	8,s
   0035 4F                   96 	clra
   0036 9E E2 07             97 	sbc	7,s
   0039 4F                   98 	clra
   003A 9E E2 06             99 	sbc	6,s
   003D 90 03               100 	bge	00110$
   003F CCs00rFA            101 	jmp	00102$
   0042                     102 00110$:
                            103 ;../floorf.c:38: return (r+((r>x)?-1:0));
   0042 9E E6 06            104 	lda	6,s
   0045 C7s00r00            105 	sta	___slong2fs_PARM_1
   0048 9E E6 07            106 	lda	7,s
   004B C7s00r01            107 	sta	(___slong2fs_PARM_1 + 1)
   004E 9E E6 08            108 	lda	8,s
   0051 C7s00r02            109 	sta	(___slong2fs_PARM_1 + 2)
   0054 9E E6 09            110 	lda	9,s
   0057 C7s00r03            111 	sta	(___slong2fs_PARM_1 + 3)
   005A CDs00r00            112 	jsr	___slong2fs
   005D C7s00r03            113 	sta	(___fsgt_PARM_1 + 3)
   0060 CFs00r02            114 	stx	(___fsgt_PARM_1 + 2)
   0063 B6*00               115 	lda	*__ret2
   0065 C7s00r01            116 	sta	(___fsgt_PARM_1 + 1)
   0068 B6*00               117 	lda	*__ret3
   006A C7s00r00            118 	sta	___fsgt_PARM_1
   006D 9E E6 0C            119 	lda	12,s
   0070 C7s00r00            120 	sta	___fsgt_PARM_2
   0073 9E E6 0D            121 	lda	13,s
   0076 C7s00r01            122 	sta	(___fsgt_PARM_2 + 1)
   0079 9E E6 0E            123 	lda	14,s
   007C C7s00r02            124 	sta	(___fsgt_PARM_2 + 2)
   007F 9E E6 0F            125 	lda	15,s
   0082 C7s00r03            126 	sta	(___fsgt_PARM_2 + 3)
   0085 CDs00r00            127 	jsr	___fsgt
   0088 9E E7 05            128 	sta	5,s
   008B 9E 6D 05            129 	tst	5,s
   008E 27 07               130 	beq	00106$
   0090                     131 00111$:
   0090 A6 FF               132 	lda	#0xFF
   0092 9E E7 05            133 	sta	5,s
   0095 20 04               134 	bra	00107$
   0097                     135 00106$:
   0097 4F                  136 	clra
   0098 9E E7 05            137 	sta	5,s
   009B                     138 00107$:
   009B 9E E6 05            139 	lda	5,s
   009E 9E E7 04            140 	sta	4,s
   00A1 9E E6 05            141 	lda	5,s
   00A4 49                  142 	rola	
   00A5 4F                  143 	clra	
   00A6 A2 00               144 	sbc	#0x00
   00A8 9E E7 03            145 	sta	3,s
   00AB 9E E7 02            146 	sta	2,s
   00AE 9E E7 01            147 	sta	1,s
   00B1 9E E6 09            148 	lda	9,s
   00B4 9E EB 04            149 	add	4,s
   00B7 C7s00r03            150 	sta	(___slong2fs_PARM_1 + 3)
   00BA 9E E6 08            151 	lda	8,s
   00BD 9E E9 03            152 	adc	3,s
   00C0 C7s00r02            153 	sta	(___slong2fs_PARM_1 + 2)
   00C3 9E E6 07            154 	lda	7,s
   00C6 9E E9 02            155 	adc	2,s
   00C9 C7s00r01            156 	sta	(___slong2fs_PARM_1 + 1)
   00CC 9E E6 06            157 	lda	6,s
   00CF 9E E9 01            158 	adc	1,s
   00D2 C7s00r00            159 	sta	___slong2fs_PARM_1
   00D5 CDs00r00            160 	jsr	___slong2fs
   00D8 9E E7 04            161 	sta	4,s
   00DB 9E EF 03            162 	stx	3,s
   00DE B6*00               163 	lda	*__ret2
   00E0 9E E7 02            164 	sta	2,s
   00E3 B6*00               165 	lda	*__ret3
   00E5 9E E7 01            166 	sta	1,s
   00E8 9E E6 01            167 	lda	1,s
   00EB B7*00               168 	sta	*__ret3
   00ED 9E E6 02            169 	lda	2,s
   00F0 B7*00               170 	sta	*__ret2
   00F2 9E EE 03            171 	ldx	3,s
   00F5 9E E6 04            172 	lda	4,s
   00F8 20 3B               173 	bra	00104$
   00FA                     174 00102$:
                            175 ;../floorf.c:40: return r;
   00FA 9E E6 06            176 	lda	6,s
   00FD C7s00r00            177 	sta	___slong2fs_PARM_1
   0100 9E E6 07            178 	lda	7,s
   0103 C7s00r01            179 	sta	(___slong2fs_PARM_1 + 1)
   0106 9E E6 08            180 	lda	8,s
   0109 C7s00r02            181 	sta	(___slong2fs_PARM_1 + 2)
   010C 9E E6 09            182 	lda	9,s
   010F C7s00r03            183 	sta	(___slong2fs_PARM_1 + 3)
   0112 CDs00r00            184 	jsr	___slong2fs
   0115 9E E7 04            185 	sta	4,s
   0118 9E EF 03            186 	stx	3,s
   011B B6*00               187 	lda	*__ret2
   011D 9E E7 02            188 	sta	2,s
   0120 B6*00               189 	lda	*__ret3
   0122 9E E7 01            190 	sta	1,s
   0125 9E E6 01            191 	lda	1,s
   0128 B7*00               192 	sta	*__ret3
   012A 9E E6 02            193 	lda	2,s
   012D B7*00               194 	sta	*__ret2
   012F 9E EE 03            195 	ldx	3,s
   0132 9E E6 04            196 	lda	4,s
   0135                     197 00104$:
   0135 A7 09               198 	ais	#9
   0137 81                  199 	rts
                            200 	.area CSEG (CODE)
                            201 	.area CONST   (CODE)
                            202 	.area XINIT
                            203 	.area CABS    (ABS,CODE)
