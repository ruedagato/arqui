                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:16 2015
                              5 ;--------------------------------------------------------
                              6 	.module frexpf
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _frexpf
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../frexpf.c:34: float frexpf(const float x, int *pw2)
                             44 ;	---------------------------------
                             45 ; Function frexpf
                             46 ; ---------------------------------
   0000                      47 _frexpf_start::
   0000                      48 _frexpf:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 21 F6 FF             52 	ld	hl,#-10
   000B 39                   53 	add	hl,sp
   000C F9                   54 	ld	sp,hl
                             55 ;../frexpf.c:39: fl.f=x;
   000D 21 06 00             56 	ld	hl,#0x0006
   0010 39                   57 	add	hl,sp
   0011 DD 7E 04             58 	ld	a,4 (ix)
   0014 77                   59 	ld	(hl),a
   0015 23                   60 	inc	hl
   0016 DD 7E 05             61 	ld	a,5 (ix)
   0019 77                   62 	ld	(hl),a
   001A 23                   63 	inc	hl
   001B DD 7E 06             64 	ld	a,6 (ix)
   001E 77                   65 	ld	(hl),a
   001F 23                   66 	inc	hl
   0020 DD 7E 07             67 	ld	a,7 (ix)
   0023 77                   68 	ld	(hl),a
                             69 ;../frexpf.c:41: i  = ( fl.l >> 23) & 0x000000ff;
   0024 21 06 00             70 	ld	hl,#0x0006
   0027 39                   71 	add	hl,sp
   0028 DD 75 FA             72 	ld	-6 (ix),l
   002B DD 74 FB             73 	ld	-5 (ix),h
   002E 7E                   74 	ld	a,(hl)
   002F DD 77 F6             75 	ld	-10 (ix),a
   0032 23                   76 	inc	hl
   0033 7E                   77 	ld	a,(hl)
   0034 DD 77 F7             78 	ld	-9 (ix),a
   0037 23                   79 	inc	hl
   0038 7E                   80 	ld	a,(hl)
   0039 DD 77 F8             81 	ld	-8 (ix),a
   003C 23                   82 	inc	hl
   003D 7E                   83 	ld	a,(hl)
   003E DD 77 F9             84 	ld	-7 (ix),a
   0041 3E 17                85 	ld	a,#0x17
   0043 F5                   86 	push	af
   0044 33                   87 	inc	sp
   0045 DD 6E F8             88 	ld	l,-8 (ix)
   0048 DD 66 F9             89 	ld	h,-7 (ix)
   004B E5                   90 	push	hl
   004C DD 6E F6             91 	ld	l,-10 (ix)
   004F DD 66 F7             92 	ld	h,-9 (ix)
   0052 E5                   93 	push	hl
   0053 CDr00s00             94 	call	__rrslong_rrx_s
   0056 F1                   95 	pop	af
   0057 F1                   96 	pop	af
   0058 33                   97 	inc	sp
   0059 4D                   98 	ld	c,l
   005A 06 00                99 	ld	b,#0x00
   005C 11 00 00            100 	ld	de,#0x0000
                            101 ;../frexpf.c:42: i -= 0x7e;
   005F 79                  102 	ld	a,c
   0060 C6 82               103 	add	a,#0x82
   0062 4F                  104 	ld	c,a
   0063 78                  105 	ld	a,b
   0064 CE FF               106 	adc	a,#0xFF
   0066 47                  107 	ld	b,a
   0067 7B                  108 	ld	a,e
   0068 CE FF               109 	adc	a,#0xFF
   006A 7A                  110 	ld	a,d
   006B CE FF               111 	adc	a,#0xFF
                            112 ;../frexpf.c:43: *pw2 = i;
   006D DD 6E 08            113 	ld	l,8 (ix)
   0070 DD 66 09            114 	ld	h,9 (ix)
   0073 71                  115 	ld	(hl),c
   0074 23                  116 	inc	hl
   0075 70                  117 	ld	(hl),b
                            118 ;../frexpf.c:44: fl.l &= 0x807fffff; /* strip all exponent bits */
   0076 DD 4E F6            119 	ld	c,-10 (ix)
   0079 DD 46 F7            120 	ld	b,-9 (ix)
   007C DD 7E F8            121 	ld	a,-8 (ix)
   007F E6 7F               122 	and	a,#0x7F
   0081 5F                  123 	ld	e,a
   0082 DD 7E F9            124 	ld	a,-7 (ix)
   0085 E6 80               125 	and	a,#0x80
   0087 57                  126 	ld	d,a
   0088 DD 6E FA            127 	ld	l,-6 (ix)
   008B DD 66 FB            128 	ld	h,-5 (ix)
   008E 71                  129 	ld	(hl),c
   008F 23                  130 	inc	hl
   0090 70                  131 	ld	(hl),b
   0091 23                  132 	inc	hl
   0092 73                  133 	ld	(hl),e
   0093 23                  134 	inc	hl
   0094 72                  135 	ld	(hl),d
                            136 ;../frexpf.c:45: fl.l |= 0x3f000000; /* mantissa between 0.5 and 1 */
   0095 DD 6E FA            137 	ld	l,-6 (ix)
   0098 DD 66 FB            138 	ld	h,-5 (ix)
   009B 4E                  139 	ld	c,(hl)
   009C 23                  140 	inc	hl
   009D 46                  141 	ld	b,(hl)
   009E 23                  142 	inc	hl
   009F 5E                  143 	ld	e,(hl)
   00A0 23                  144 	inc	hl
   00A1 7E                  145 	ld	a, (hl)
   00A2 F6 3F               146 	or	a, #0x3F
   00A4 57                  147 	ld	d,a
   00A5 DD 6E FA            148 	ld	l,-6 (ix)
   00A8 DD 66 FB            149 	ld	h,-5 (ix)
   00AB 71                  150 	ld	(hl),c
   00AC 23                  151 	inc	hl
   00AD 70                  152 	ld	(hl),b
   00AE 23                  153 	inc	hl
   00AF 73                  154 	ld	(hl),e
   00B0 23                  155 	inc	hl
   00B1 72                  156 	ld	(hl),d
                            157 ;../frexpf.c:46: return(fl.f);
   00B2 21 06 00            158 	ld	hl,#0x0006
   00B5 39                  159 	add	hl,sp
   00B6 4E                  160 	ld	c,(hl)
   00B7 23                  161 	inc	hl
   00B8 46                  162 	ld	b,(hl)
   00B9 23                  163 	inc	hl
   00BA 5E                  164 	ld	e,(hl)
   00BB 23                  165 	inc	hl
   00BC 56                  166 	ld	d,(hl)
   00BD 69                  167 	ld	l,c
   00BE 60                  168 	ld	h,b
   00BF DD F9               169 	ld	sp,ix
   00C1 DD E1               170 	pop	ix
   00C3 C9                  171 	ret
   00C4                     172 _frexpf_end::
                            173 	.area _CODE
                            174 	.area _CABS
