                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:17 2015
                              5 ;--------------------------------------------------------
                              6 	.module _atol
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _atol
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../_atol.c:29: long atol(char * s)
                             44 ;	---------------------------------
                             45 ; Function atol
                             46 ; ---------------------------------
   0000                      47 _atol_start::
   0000                      48 _atol:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 21 F5 FF             52 	ld	hl,#-11
   000B 39                   53 	add	hl,sp
   000C F9                   54 	ld	sp,hl
                             55 ;../_atol.c:31: register long rv=0; 
   000D AF                   56 	xor	a,a
   000E DD 77 FC             57 	ld	-4 (ix),a
   0011 DD 77 FD             58 	ld	-3 (ix),a
   0014 DD 77 FE             59 	ld	-2 (ix),a
   0017 DD 77 FF             60 	ld	-1 (ix),a
                             61 ;../_atol.c:35: while (*s) {
   001A DD 4E 04             62 	ld	c,4 (ix)
   001D DD 46 05             63 	ld	b,5 (ix)
   0020                      64 00107$:
   0020 0A                   65 	ld	a,(bc)
   0021 6F                   66 	ld	l,a
   0022 B7                   67 	or	a,a
   0023 28 24                68 	jr	Z,00133$
                             69 ;../_atol.c:36: if (*s <= '9' && *s >= '0')
   0025 3E 39                70 	ld	a,#0x39
   0027 95                   71 	sub	a, l
   0028 E2r2Ds00             72 	jp	PO, 00135$
   002B EE 80                73 	xor	a, #0x80
   002D                      74 00135$:
   002D FAr3Bs00             75 	jp	M,00102$
   0030 7D                   76 	ld	a,l
   0031 D6 30                77 	sub	a, #0x30
   0033 E2r38s00             78 	jp	PO, 00136$
   0036 EE 80                79 	xor	a, #0x80
   0038                      80 00136$:
   0038 F2r49s00             81 	jp	P,00133$
                             82 ;../_atol.c:37: break;
   003B                      83 00102$:
                             84 ;../_atol.c:38: if (*s == '-' || *s == '+') 
   003B 0A                   85 	ld	a,(bc)
   003C 6F                   86 	ld	l,a
   003D D6 2D                87 	sub	a,#0x2D
   003F 28 08                88 	jr	Z,00133$
   0041 7D                   89 	ld	a,l
   0042 D6 2B                90 	sub	a,#0x2B
   0044 28 03                91 	jr	Z,00133$
                             92 ;../_atol.c:40: s++;
   0046 03                   93 	inc	bc
   0047 18 D7                94 	jr	00107$
   0049                      95 00133$:
   0049 DD 71 04             96 	ld	4 (ix),c
   004C DD 70 05             97 	ld	5 (ix),b
                             98 ;../_atol.c:43: sign = (*s == '-');
   004F 59                   99 	ld	e,c
   0050 50                  100 	ld	d,b
   0051 0A                  101 	ld	a,(bc)
   0052 6F                  102 	ld	l,a
   0053 D6 2D               103 	sub	a,#0x2D
   0055 20 04               104 	jr	NZ,00139$
   0057 3E 01               105 	ld	a,#0x01
   0059 18 01               106 	jr	00140$
   005B                     107 00139$:
   005B AF                  108 	xor	a,a
   005C                     109 00140$:
   005C 4F                  110 	ld	c,a
   005D DD 71 FB            111 	ld	-5 (ix),c
                            112 ;../_atol.c:44: if (*s == '-' || *s == '+') s++;
   0060 AF                  113 	xor	a,a
   0061 B1                  114 	or	a,c
   0062 20 05               115 	jr	NZ,00110$
   0064 7D                  116 	ld	a,l
   0065 D6 2B               117 	sub	a,#0x2B
   0067 20 0A               118 	jr	NZ,00131$
   0069                     119 00110$:
   0069 21 01 00            120 	ld	hl,#0x0001
   006C 19                  121 	add	hl,de
   006D DD 75 04            122 	ld	4 (ix),l
   0070 DD 74 05            123 	ld	5 (ix),h
                            124 ;../_atol.c:46: while (*s && *s >= '0' && *s <= '9') {
   0073                     125 00131$:
   0073 DD 7E 04            126 	ld	a,4 (ix)
   0076 DD 77 F9            127 	ld	-7 (ix),a
   0079 DD 7E 05            128 	ld	a,5 (ix)
   007C DD 77 FA            129 	ld	-6 (ix),a
   007F                     130 00115$:
   007F DD 6E F9            131 	ld	l,-7 (ix)
   0082 DD 66 FA            132 	ld	h,-6 (ix)
   0085 4E                  133 	ld	c,(hl)
   0086 AF                  134 	xor	a,a
   0087 B1                  135 	or	a,c
   0088 28 7D               136 	jr	Z,00117$
   008A 79                  137 	ld	a,c
   008B D6 30               138 	sub	a, #0x30
   008D E2r92s00            139 	jp	PO, 00143$
   0090 EE 80               140 	xor	a, #0x80
   0092                     141 00143$:
   0092 FAr07s01            142 	jp	M,00117$
   0095 3E 39               143 	ld	a,#0x39
   0097 91                  144 	sub	a, c
   0098 E2r9Ds00            145 	jp	PO, 00144$
   009B EE 80               146 	xor	a, #0x80
   009D                     147 00144$:
   009D FAr07s01            148 	jp	M,00117$
                            149 ;../_atol.c:47: rv = (rv * 10) + (*s - '0');
   00A0 C5                  150 	push	bc
   00A1 DD 6E FE            151 	ld	l,-2 (ix)
   00A4 DD 66 FF            152 	ld	h,-1 (ix)
   00A7 E5                  153 	push	hl
   00A8 DD 6E FC            154 	ld	l,-4 (ix)
   00AB DD 66 FD            155 	ld	h,-3 (ix)
   00AE E5                  156 	push	hl
   00AF 21 00 00            157 	ld	hl,#0x0000
   00B2 E5                  158 	push	hl
   00B3 21 0A 00            159 	ld	hl,#0x000A
   00B6 E5                  160 	push	hl
   00B7 CDr00s00            161 	call	__mullong_rrx_s
   00BA F1                  162 	pop	af
   00BB F1                  163 	pop	af
   00BC F1                  164 	pop	af
   00BD F1                  165 	pop	af
   00BE DD 72 F8            166 	ld	-8 (ix),d
   00C1 DD 73 F7            167 	ld	-9 (ix),e
   00C4 DD 74 F6            168 	ld	-10 (ix),h
   00C7 DD 75 F5            169 	ld	-11 (ix),l
   00CA C1                  170 	pop	bc
   00CB 79                  171 	ld	a,c
   00CC 6F                  172 	ld	l,a
   00CD 17                  173 	rla	
   00CE 9F                  174 	sbc	a,a
   00CF 67                  175 	ld	h,a
   00D0 11 D0 FF            176 	ld	de, #0xFFD0
   00D3 19                  177 	add	hl, de
   00D4 44                  178 	ld	b, h
   00D5 4D                  179 	ld	c, l
   00D6 7C                  180 	ld	a,h
   00D7 17                  181 	rla	
   00D8 9F                  182 	sbc	a,a
   00D9 5F                  183 	ld	e,a
   00DA 57                  184 	ld	d,a
   00DB DD 7E F5            185 	ld	a,-11 (ix)
   00DE 81                  186 	add	a,c
   00DF 4F                  187 	ld	c,a
   00E0 DD 7E F6            188 	ld	a,-10 (ix)
   00E3 88                  189 	adc	a,b
   00E4 47                  190 	ld	b,a
   00E5 DD 7E F7            191 	ld	a,-9 (ix)
   00E8 8B                  192 	adc	a,e
   00E9 5F                  193 	ld	e,a
   00EA DD 7E F8            194 	ld	a,-8 (ix)
   00ED 8A                  195 	adc	a,d
   00EE 57                  196 	ld	d,a
   00EF DD 71 FC            197 	ld	-4 (ix),c
   00F2 DD 70 FD            198 	ld	-3 (ix),b
   00F5 DD 73 FE            199 	ld	-2 (ix),e
   00F8 DD 72 FF            200 	ld	-1 (ix),d
                            201 ;../_atol.c:48: s++;
   00FB DD 34 F9            202 	inc	-7 (ix)
   00FE C2r7Fs00            203 	jp	NZ,00115$
   0101 DD 34 FA            204 	inc	-6 (ix)
   0104 C3r7Fs00            205 	jp	00115$
   0107                     206 00117$:
                            207 ;../_atol.c:51: return (sign ? -rv : rv);
   0107 AF                  208 	xor	a,a
   0108 DD B6 FB            209 	or	a,-5 (ix)
   010B 28 19               210 	jr	Z,00120$
   010D AF                  211 	xor	a,a
   010E DD 9E FC            212 	sbc	a,-4 (ix)
   0111 4F                  213 	ld	c,a
   0112 3E 00               214 	ld	a,#0x00
   0114 DD 9E FD            215 	sbc	a,-3 (ix)
   0117 47                  216 	ld	b,a
   0118 3E 00               217 	ld	a,#0x00
   011A DD 9E FE            218 	sbc	a,-2 (ix)
   011D 5F                  219 	ld	e,a
   011E 3E 00               220 	ld	a,#0x00
   0120 DD 9E FF            221 	sbc	a,-1 (ix)
   0123 57                  222 	ld	d,a
   0124 18 0C               223 	jr	00121$
   0126                     224 00120$:
   0126 DD 4E FC            225 	ld	c,-4 (ix)
   0129 DD 46 FD            226 	ld	b,-3 (ix)
   012C DD 5E FE            227 	ld	e,-2 (ix)
   012F DD 56 FF            228 	ld	d,-1 (ix)
   0132                     229 00121$:
   0132 69                  230 	ld	l,c
   0133 60                  231 	ld	h,b
   0134 DD F9               232 	ld	sp,ix
   0136 DD E1               233 	pop	ix
   0138 C9                  234 	ret
   0139                     235 _atol_end::
                            236 	.area _CODE
                            237 	.area _CABS
