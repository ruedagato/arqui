                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:26 2015
                              5 ;--------------------------------------------------------
                              6 	.module _memset
                              7 	.optsdcc -mmcs51 --model-medium
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _memset_PARM_3
                             13 	.globl _memset_PARM_2
                             14 	.globl _memset
                             15 ;--------------------------------------------------------
                             16 ; special function registers
                             17 ;--------------------------------------------------------
                             18 	.area RSEG    (ABS,DATA)
   0000                      19 	.org 0x0000
                             20 ;--------------------------------------------------------
                             21 ; special function bits
                             22 ;--------------------------------------------------------
                             23 	.area RSEG    (ABS,DATA)
   0000                      24 	.org 0x0000
                             25 ;--------------------------------------------------------
                             26 ; overlayable register banks
                             27 ;--------------------------------------------------------
                             28 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      29 	.ds 8
                             30 ;--------------------------------------------------------
                             31 ; internal ram data
                             32 ;--------------------------------------------------------
                             33 	.area DSEG    (DATA)
                             34 ;--------------------------------------------------------
                             35 ; overlayable items in internal ram 
                             36 ;--------------------------------------------------------
                             37 	.area OSEG    (OVR,DATA)
                             38 ;--------------------------------------------------------
                             39 ; indirectly addressable internal ram data
                             40 ;--------------------------------------------------------
                             41 	.area ISEG    (DATA)
                             42 ;--------------------------------------------------------
                             43 ; absolute internal ram data
                             44 ;--------------------------------------------------------
                             45 	.area IABS    (ABS,DATA)
                             46 	.area IABS    (ABS,DATA)
                             47 ;--------------------------------------------------------
                             48 ; bit data
                             49 ;--------------------------------------------------------
                             50 	.area BSEG    (BIT)
                             51 ;--------------------------------------------------------
                             52 ; paged external ram data
                             53 ;--------------------------------------------------------
                             54 	.area PSEG    (PAG,XDATA)
   0000                      55 _memset_PARM_2:
   0000                      56 	.ds 1
   0001                      57 _memset_PARM_3:
   0001                      58 	.ds 2
   0003                      59 _memset_buf_1_1:
   0003                      60 	.ds 3
   0006                      61 _memset_ret_1_1:
   0006                      62 	.ds 3
                             63 ;--------------------------------------------------------
                             64 ; external ram data
                             65 ;--------------------------------------------------------
                             66 	.area XSEG    (XDATA)
                             67 ;--------------------------------------------------------
                             68 ; absolute external ram data
                             69 ;--------------------------------------------------------
                             70 	.area XABS    (ABS,XDATA)
                             71 ;--------------------------------------------------------
                             72 ; external initialized ram data
                             73 ;--------------------------------------------------------
                             74 	.area XISEG   (XDATA)
                             75 	.area HOME    (CODE)
                             76 	.area GSINIT0 (CODE)
                             77 	.area GSINIT1 (CODE)
                             78 	.area GSINIT2 (CODE)
                             79 	.area GSINIT3 (CODE)
                             80 	.area GSINIT4 (CODE)
                             81 	.area GSINIT5 (CODE)
                             82 	.area GSINIT  (CODE)
                             83 	.area GSFINAL (CODE)
                             84 	.area CSEG    (CODE)
                             85 ;--------------------------------------------------------
                             86 ; global & static initialisations
                             87 ;--------------------------------------------------------
                             88 	.area HOME    (CODE)
                             89 	.area GSINIT  (CODE)
                             90 	.area GSFINAL (CODE)
                             91 	.area GSINIT  (CODE)
                             92 ;--------------------------------------------------------
                             93 ; Home
                             94 ;--------------------------------------------------------
                             95 	.area HOME    (CODE)
                             96 	.area HOME    (CODE)
                             97 ;--------------------------------------------------------
                             98 ; code
                             99 ;--------------------------------------------------------
                            100 	.area CSEG    (CODE)
                            101 ;------------------------------------------------------------
                            102 ;Allocation info for local variables in function 'memset'
                            103 ;------------------------------------------------------------
                            104 ;------------------------------------------------------------
                            105 ;	_memset.c:36: void * memset (
                            106 ;	-----------------------------------------
                            107 ;	 function memset
                            108 ;	-----------------------------------------
   0000                     109 _memset:
                    0002    110 	ar2 = 0x02
                    0003    111 	ar3 = 0x03
                    0004    112 	ar4 = 0x04
                    0005    113 	ar5 = 0x05
                    0006    114 	ar6 = 0x06
                    0007    115 	ar7 = 0x07
                    0000    116 	ar0 = 0x00
                    0001    117 	ar1 = 0x01
   0000 AA F0               118 	mov	r2,b
   0002 AB 83               119 	mov	r3,dph
   0004 E5 82               120 	mov	a,dpl
   0006 78r03               121 	mov	r0,#_memset_buf_1_1
   0008 F2                  122 	movx	@r0,a
   0009 08                  123 	inc	r0
   000A EB                  124 	mov	a,r3
   000B F2                  125 	movx	@r0,a
   000C 08                  126 	inc	r0
   000D EA                  127 	mov	a,r2
   000E F2                  128 	movx	@r0,a
                            129 ;	_memset.c:43: while (count--) {
   000F 78r03               130 	mov	r0,#_memset_buf_1_1
   0011 79r06               131 	mov	r1,#_memset_ret_1_1
   0013 E2                  132 	movx	a,@r0
   0014 F3                  133 	movx	@r1,a
   0015 08                  134 	inc	r0
   0016 E2                  135 	movx	a,@r0
   0017 09                  136 	inc	r1
   0018 F3                  137 	movx	@r1,a
   0019 08                  138 	inc	r0
   001A E2                  139 	movx	a,@r0
   001B 09                  140 	inc	r1
   001C F3                  141 	movx	@r1,a
   001D 78r01               142 	mov	r0,#_memset_PARM_3
   001F E2                  143 	movx	a,@r0
   0020 FA                  144 	mov	r2,a
   0021 08                  145 	inc	r0
   0022 E2                  146 	movx	a,@r0
   0023 FB                  147 	mov	r3,a
   0024                     148 00101$:
   0024 8A 04               149 	mov	ar4,r2
   0026 8B 05               150 	mov	ar5,r3
   0028 1A                  151 	dec	r2
   0029 BA FF 01            152 	cjne	r2,#0xff,00109$
   002C 1B                  153 	dec	r3
   002D                     154 00109$:
   002D EC                  155 	mov	a,r4
   002E 4D                  156 	orl	a,r5
   002F 60 1F               157 	jz	00103$
                            158 ;	_memset.c:44: *(unsigned char *) ret = ch;
   0031 78r06               159 	mov	r0,#_memset_ret_1_1
   0033 E2                  160 	movx	a,@r0
   0034 F5 82               161 	mov	dpl,a
   0036 08                  162 	inc	r0
   0037 E2                  163 	movx	a,@r0
   0038 F5 83               164 	mov	dph,a
   003A 08                  165 	inc	r0
   003B E2                  166 	movx	a,@r0
   003C F5 F0               167 	mov	b,a
   003E 79r00               168 	mov	r1,#_memset_PARM_2
   0040 E3                  169 	movx	a,@r1
   0041 12s00r00            170 	lcall	__gptrput
   0044 A3                  171 	inc	dptr
   0045 18                  172 	dec	r0
   0046 18                  173 	dec	r0
   0047 E5 82               174 	mov	a,dpl
   0049 F2                  175 	movx	@r0,a
   004A 08                  176 	inc	r0
   004B E5 83               177 	mov	a,dph
   004D F2                  178 	movx	@r0,a
                            179 ;	_memset.c:45: ret = ((unsigned char *) ret) + 1;
   004E 80 D4               180 	sjmp	00101$
   0050                     181 00103$:
                            182 ;	_memset.c:48: return buf ;
   0050 78r03               183 	mov	r0,#_memset_buf_1_1
   0052 E2                  184 	movx	a,@r0
   0053 F5 82               185 	mov	dpl,a
   0055 08                  186 	inc	r0
   0056 E2                  187 	movx	a,@r0
   0057 F5 83               188 	mov	dph,a
   0059 08                  189 	inc	r0
   005A E2                  190 	movx	a,@r0
   005B F5 F0               191 	mov	b,a
   005D 22                  192 	ret
                            193 	.area CSEG    (CODE)
                            194 	.area CONST   (CODE)
                            195 	.area XINIT   (CODE)
                            196 	.area CABS    (ABS,CODE)
