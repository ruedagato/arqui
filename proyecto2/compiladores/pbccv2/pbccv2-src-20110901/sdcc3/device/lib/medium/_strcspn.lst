                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:26 2015
                              5 ;--------------------------------------------------------
                              6 	.module _strcspn
                              7 	.optsdcc -mmcs51 --model-medium
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _strcspn_PARM_2
                             13 	.globl _strcspn
                             14 ;--------------------------------------------------------
                             15 ; special function registers
                             16 ;--------------------------------------------------------
                             17 	.area RSEG    (ABS,DATA)
   0000                      18 	.org 0x0000
                             19 ;--------------------------------------------------------
                             20 ; special function bits
                             21 ;--------------------------------------------------------
                             22 	.area RSEG    (ABS,DATA)
   0000                      23 	.org 0x0000
                             24 ;--------------------------------------------------------
                             25 ; overlayable register banks
                             26 ;--------------------------------------------------------
                             27 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      28 	.ds 8
                             29 ;--------------------------------------------------------
                             30 ; internal ram data
                             31 ;--------------------------------------------------------
                             32 	.area DSEG    (DATA)
   0000                      33 _strcspn_count_1_1:
   0000                      34 	.ds 2
   0002                      35 _strcspn_sloc0_1_0:
   0002                      36 	.ds 1
                             37 ;--------------------------------------------------------
                             38 ; overlayable items in internal ram 
                             39 ;--------------------------------------------------------
                             40 	.area OSEG    (OVR,DATA)
                             41 ;--------------------------------------------------------
                             42 ; indirectly addressable internal ram data
                             43 ;--------------------------------------------------------
                             44 	.area ISEG    (DATA)
                             45 ;--------------------------------------------------------
                             46 ; absolute internal ram data
                             47 ;--------------------------------------------------------
                             48 	.area IABS    (ABS,DATA)
                             49 	.area IABS    (ABS,DATA)
                             50 ;--------------------------------------------------------
                             51 ; bit data
                             52 ;--------------------------------------------------------
                             53 	.area BSEG    (BIT)
                             54 ;--------------------------------------------------------
                             55 ; paged external ram data
                             56 ;--------------------------------------------------------
                             57 	.area PSEG    (PAG,XDATA)
   0000                      58 _strcspn_PARM_2:
   0000                      59 	.ds 3
                             60 ;--------------------------------------------------------
                             61 ; external ram data
                             62 ;--------------------------------------------------------
                             63 	.area XSEG    (XDATA)
                             64 ;--------------------------------------------------------
                             65 ; absolute external ram data
                             66 ;--------------------------------------------------------
                             67 	.area XABS    (ABS,XDATA)
                             68 ;--------------------------------------------------------
                             69 ; external initialized ram data
                             70 ;--------------------------------------------------------
                             71 	.area XISEG   (XDATA)
                             72 	.area HOME    (CODE)
                             73 	.area GSINIT0 (CODE)
                             74 	.area GSINIT1 (CODE)
                             75 	.area GSINIT2 (CODE)
                             76 	.area GSINIT3 (CODE)
                             77 	.area GSINIT4 (CODE)
                             78 	.area GSINIT5 (CODE)
                             79 	.area GSINIT  (CODE)
                             80 	.area GSFINAL (CODE)
                             81 	.area CSEG    (CODE)
                             82 ;--------------------------------------------------------
                             83 ; global & static initialisations
                             84 ;--------------------------------------------------------
                             85 	.area HOME    (CODE)
                             86 	.area GSINIT  (CODE)
                             87 	.area GSFINAL (CODE)
                             88 	.area GSINIT  (CODE)
                             89 ;--------------------------------------------------------
                             90 ; Home
                             91 ;--------------------------------------------------------
                             92 	.area HOME    (CODE)
                             93 	.area HOME    (CODE)
                             94 ;--------------------------------------------------------
                             95 ; code
                             96 ;--------------------------------------------------------
                             97 	.area CSEG    (CODE)
                             98 ;------------------------------------------------------------
                             99 ;Allocation info for local variables in function 'strcspn'
                            100 ;------------------------------------------------------------
                            101 ;count                     Allocated with name '_strcspn_count_1_1'
                            102 ;ch                        Allocated with name '_strcspn_sloc0_1_0'
                            103 ;sloc0                     Allocated with name '_strcspn_sloc0_1_0'
                            104 ;------------------------------------------------------------
                            105 ;	_strcspn.c:31: size_t strcspn ( 
                            106 ;	-----------------------------------------
                            107 ;	 function strcspn
                            108 ;	-----------------------------------------
   0000                     109 _strcspn:
                    0002    110 	ar2 = 0x02
                    0003    111 	ar3 = 0x03
                    0004    112 	ar4 = 0x04
                    0005    113 	ar5 = 0x05
                    0006    114 	ar6 = 0x06
                    0007    115 	ar7 = 0x07
                    0000    116 	ar0 = 0x00
                    0001    117 	ar1 = 0x01
   0000 AA 82               118 	mov	r2,dpl
   0002 AB 83               119 	mov	r3,dph
   0004 AC F0               120 	mov	r4,b
                            121 ;	_strcspn.c:39: while (ch = *string) {
   0006 E4                  122 	clr	a
   0007 F5*00               123 	mov	_strcspn_count_1_1,a
   0009 F5*01               124 	mov	(_strcspn_count_1_1 + 1),a
   000B                     125 00104$:
   000B 8A 82               126 	mov	dpl,r2
   000D 8B 83               127 	mov	dph,r3
   000F 8C F0               128 	mov	b,r4
   0011 12s00r00            129 	lcall	__gptrget
   0014 FF                  130 	mov	r7,a
   0015 8F*02               131 	mov	_strcspn_sloc0_1_0,r7
   0017 60 3B               132 	jz	00106$
                            133 ;	_strcspn.c:40: if (strchr(control,ch))
   0019 78r00               134 	mov	r0,#_strchr_PARM_2
   001B E5*02               135 	mov	a,_strcspn_sloc0_1_0
   001D F2                  136 	movx	@r0,a
   001E 78r00               137 	mov	r0,#_strcspn_PARM_2
   0020 E2                  138 	movx	a,@r0
   0021 F5 82               139 	mov	dpl,a
   0023 08                  140 	inc	r0
   0024 E2                  141 	movx	a,@r0
   0025 F5 83               142 	mov	dph,a
   0027 08                  143 	inc	r0
   0028 E2                  144 	movx	a,@r0
   0029 F5 F0               145 	mov	b,a
   002B C0 02               146 	push	ar2
   002D C0 03               147 	push	ar3
   002F C0 04               148 	push	ar4
   0031 12s00r00            149 	lcall	_strchr
   0034 AF 82               150 	mov	r7,dpl
   0036 AD 83               151 	mov	r5,dph
   0038 AE F0               152 	mov	r6,b
   003A D0 04               153 	pop	ar4
   003C D0 03               154 	pop	ar3
   003E D0 02               155 	pop	ar2
   0040 EF                  156 	mov	a,r7
   0041 4D                  157 	orl	a,r5
   0042 4E                  158 	orl	a,r6
   0043 70 0F               159 	jnz	00106$
                            160 ;	_strcspn.c:43: count++ ;
   0045 05*00               161 	inc	_strcspn_count_1_1
   0047 E4                  162 	clr	a
   0048 B5*00 02            163 	cjne	a,_strcspn_count_1_1,00115$
   004B 05*01               164 	inc	(_strcspn_count_1_1 + 1)
   004D                     165 00115$:
                            166 ;	_strcspn.c:44: string++ ;
   004D 0A                  167 	inc	r2
   004E BA 00 BA            168 	cjne	r2,#0x00,00104$
   0051 0B                  169 	inc	r3
   0052 80 B7               170 	sjmp	00104$
   0054                     171 00106$:
                            172 ;	_strcspn.c:47: return count ;
   0054 85*00 82            173 	mov	dpl,_strcspn_count_1_1
   0057 85*01 83            174 	mov	dph,(_strcspn_count_1_1 + 1)
   005A 22                  175 	ret
                            176 	.area CSEG    (CODE)
                            177 	.area CONST   (CODE)
                            178 	.area XINIT   (CODE)
                            179 	.area CABS    (ABS,CODE)
