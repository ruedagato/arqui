                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:19 2015
                              5 ;--------------------------------------------------------
                              6 	.module _ulong2fs
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl ___ulong2fs
                             13 ;--------------------------------------------------------
                             14 ;  ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; overlayable items in  ram 
                             19 ;--------------------------------------------------------
                             20 	.area _OVERLAY
                             21 ;--------------------------------------------------------
                             22 ; external initialized ram data
                             23 ;--------------------------------------------------------
                             24 ;--------------------------------------------------------
                             25 ; global & static initialisations
                             26 ;--------------------------------------------------------
                             27 	.area _HOME
                             28 	.area _GSINIT
                             29 	.area _GSFINAL
                             30 	.area _GSINIT
                             31 ;--------------------------------------------------------
                             32 ; Home
                             33 ;--------------------------------------------------------
                             34 	.area _HOME
                             35 ;../_ulong2fs.c:83: float __ulong2fs (unsigned long a )
                             36 ;	---------------------------------
                             37 ; Function __ulong2fs
                             38 ; ---------------------------------
   0000                      39 ___ulong2fs_start::
   0000                      40 ___ulong2fs:
   0000 E8 F2                41 	lda	sp,-14(sp)
                             42 ;../_ulong2fs.c:88: if (!a)
   0002 F8 10                43 	ldhl	sp,#16
   0004 7E                   44 	ld	a,(hl)
   0005 23                   45 	inc	hl
   0006 B6                   46 	or	a,(hl)
   0007 23                   47 	inc	hl
   0008 B6                   48 	or	a,(hl)
   0009 23                   49 	inc	hl
   000A B6                   50 	or	a,(hl)
   000B C2r17s00             51 	jp	NZ,00115$
                             52 ;../_ulong2fs.c:90: return 0.0;
   000E 11 00 00             53 	ld	de,#0x0000
   0011 21 00 00             54 	ld	hl,#0x0000
   0014 C3r97s01             55 	jp	00111$
                             56 ;../_ulong2fs.c:93: while (a & NORM) 
   0017                      57 00115$:
   0017 01 96 00             58 	ld	bc,#0x0096
   001A                      59 00103$:
   001A F8 13                60 	ldhl	sp,#19
   001C 7E                   61 	ld	a,(hl)
   001D B7                   62 	or	a,a
   001E CAr5Ds00             63 	jp	Z,00117$
   0021                      64 00121$:
                             65 ;../_ulong2fs.c:96: a >>= 1;
   0021 C5                   66 	push	bc
   0022 3E 01                67 	ld	a,#0x01
   0024 F5                   68 	push	af
   0025 33                   69 	inc	sp
   0026 F8 15                70 	ldhl	sp,#21
   0028 7E                   71 	ld	a,(hl)
   0029 23                   72 	inc	hl
   002A 66                   73 	ld	h,(hl)
   002B 6F                   74 	ld	l,a
   002C E5                   75 	push	hl
   002D F8 15                76 	ldhl	sp,#21
   002F 7E                   77 	ld	a,(hl)
   0030 23                   78 	inc	hl
   0031 66                   79 	ld	h,(hl)
   0032 6F                   80 	ld	l,a
   0033 E5                   81 	push	hl
   0034 CDr00s00             82 	call	__rrulong_rrx_s
   0037 E8 05                83 	lda	sp,5(sp)
   0039 E5                   84 	push	hl
   003A F8 08                85 	ldhl	sp,#8
   003C 73                   86 	ld	(hl),e
   003D 23                   87 	inc	hl
   003E 72                   88 	ld	(hl),d
   003F D1                   89 	pop	de
   0040 23                   90 	inc	hl
   0041 73                   91 	ld	(hl),e
   0042 23                   92 	inc	hl
   0043 72                   93 	ld	(hl),d
   0044 C1                   94 	pop	bc
   0045 F8 04                95 	ldhl	sp,#4
   0047 54                   96 	ld	d,h
   0048 5D                   97 	ld	e,l
   0049 F8 10                98 	ldhl	sp,#16
   004B 1A                   99 	ld	a,(de)
   004C 77                  100 	ld	(hl),a
   004D 23                  101 	inc	hl
   004E 13                  102 	inc	de
   004F 1A                  103 	ld	a,(de)
   0050 77                  104 	ld	(hl),a
   0051 23                  105 	inc	hl
   0052 13                  106 	inc	de
   0053 1A                  107 	ld	a,(de)
   0054 77                  108 	ld	(hl),a
   0055 23                  109 	inc	hl
   0056 13                  110 	inc	de
   0057 1A                  111 	ld	a,(de)
   0058 77                  112 	ld	(hl),a
                            113 ;../_ulong2fs.c:97: exp++;
   0059 03                  114 	inc	bc
   005A C3r1As00            115 	jp	00103$
                            116 ;../_ulong2fs.c:100: while (a < HIDDEN)
   005D                     117 00117$:
   005D F8 0C               118 	ldhl	sp,#12
   005F 71                  119 	ld	(hl),c
   0060 23                  120 	inc	hl
   0061 70                  121 	ld	(hl),b
   0062                     122 00106$:
   0062 F8 10               123 	ldhl	sp,#16
   0064 7E                  124 	ld	a, (hl)
   0065 D6 00               125 	sub	a, #0x00
   0067 23                  126 	inc	hl
   0068 7E                  127 	ld	a, (hl)
   0069 DE 00               128 	sbc	a, #0x00
   006B 23                  129 	inc	hl
   006C 7E                  130 	ld	a, (hl)
   006D DE 80               131 	sbc	a, #0x80
   006F 23                  132 	inc	hl
   0070 7E                  133 	ld	a, (hl)
   0071 DE 00               134 	sbc	a, #0x00
   0073 D2rBAs00            135 	jp	NC,00120$
                            136 ;../_ulong2fs.c:102: a <<= 1;
   0076 3E 01               137 	ld	a,#0x01
   0078 F5                  138 	push	af
   0079 33                  139 	inc	sp
   007A F8 13               140 	ldhl	sp,#19
   007C 7E                  141 	ld	a,(hl)
   007D 23                  142 	inc	hl
   007E 66                  143 	ld	h,(hl)
   007F 6F                  144 	ld	l,a
   0080 E5                  145 	push	hl
   0081 F8 13               146 	ldhl	sp,#19
   0083 7E                  147 	ld	a,(hl)
   0084 23                  148 	inc	hl
   0085 66                  149 	ld	h,(hl)
   0086 6F                  150 	ld	l,a
   0087 E5                  151 	push	hl
   0088 CDr00s00            152 	call	__rlulong_rrx_s
   008B E8 05               153 	lda	sp,5(sp)
   008D E5                  154 	push	hl
   008E F8 06               155 	ldhl	sp,#6
   0090 73                  156 	ld	(hl),e
   0091 23                  157 	inc	hl
   0092 72                  158 	ld	(hl),d
   0093 D1                  159 	pop	de
   0094 23                  160 	inc	hl
   0095 73                  161 	ld	(hl),e
   0096 23                  162 	inc	hl
   0097 72                  163 	ld	(hl),d
   0098 F8 04               164 	ldhl	sp,#4
   009A 54                  165 	ld	d,h
   009B 5D                  166 	ld	e,l
   009C F8 10               167 	ldhl	sp,#16
   009E 1A                  168 	ld	a,(de)
   009F 77                  169 	ld	(hl),a
   00A0 23                  170 	inc	hl
   00A1 13                  171 	inc	de
   00A2 1A                  172 	ld	a,(de)
   00A3 77                  173 	ld	(hl),a
   00A4 23                  174 	inc	hl
   00A5 13                  175 	inc	de
   00A6 1A                  176 	ld	a,(de)
   00A7 77                  177 	ld	(hl),a
   00A8 23                  178 	inc	hl
   00A9 13                  179 	inc	de
   00AA 1A                  180 	ld	a,(de)
   00AB 77                  181 	ld	(hl),a
                            182 ;../_ulong2fs.c:103: exp--;
   00AC F8 0D               183 	ldhl	sp,#13
   00AE 2B                  184 	dec	hl
   00AF 5E                  185 	ld	e,(hl)
   00B0 23                  186 	inc	hl
   00B1 56                  187 	ld	d,(hl)
   00B2 1B                  188 	dec	de
   00B3 2B                  189 	dec	hl
   00B4 73                  190 	ld	(hl),e
   00B5 23                  191 	inc	hl
   00B6 72                  192 	ld	(hl),d
   00B7 C3r62s00            193 	jp	00106$
   00BA                     194 00120$:
   00BA F8 0D               195 	ldhl	sp,#13
   00BC 2B                  196 	dec	hl
   00BD 4E                  197 	ld	c,(hl)
   00BE 23                  198 	inc	hl
   00BF 46                  199 	ld	b,(hl)
                            200 ;../_ulong2fs.c:107: if ((a&0x7fffff)==0x7fffff) {
   00C0 F8 10               201 	ldhl	sp,#16
   00C2 7E                  202 	ld	a,(hl)
   00C3 F8 00               203 	ldhl	sp,#0
   00C5 77                  204 	ld	(hl),a
   00C6 F8 11               205 	ldhl	sp,#17
   00C8 7E                  206 	ld	a,(hl)
   00C9 F8 01               207 	ldhl	sp,#1
   00CB 77                  208 	ld	(hl),a
   00CC F8 12               209 	ldhl	sp,#18
   00CE 7E                  210 	ld	a,(hl)
   00CF E6 7F               211 	and	a,#0x7F
   00D1 F8 02               212 	ldhl	sp,#2
   00D3 77                  213 	ld	(hl),a
   00D4 23                  214 	inc	hl
   00D5 36 00               215 	ld	(hl),#0x00
   00D7 F8 00               216 	ldhl	sp,#0
   00D9 7E                  217 	ld	a,(hl)
   00DA 3C                  218 	inc	a
   00DB C2r03s01            219 	jp	NZ,00110$
   00DE 23                  220 	inc	hl
   00DF 7E                  221 	ld	a,(hl)
   00E0 3C                  222 	inc	a
   00E1 C2r03s01            223 	jp	NZ,00110$
   00E4 23                  224 	inc	hl
   00E5 7E                  225 	ld	a,(hl)
   00E6 D6 7F               226 	sub	a,#0x7F
   00E8 C2r03s01            227 	jp	NZ,00110$
   00EB 23                  228 	inc	hl
   00EC 7E                  229 	ld	a,(hl)
   00ED B7                  230 	or	a,a
   00EE CArF3s00            231 	jp	Z,00123$
   00F1                     232 00122$:
   00F1 18 10               233 	jr	00110$
   00F3                     234 00123$:
                            235 ;../_ulong2fs.c:108: a=0;
   00F3 AF                  236 	xor	a,a
   00F4 F8 10               237 	ldhl	sp,#16
   00F6 77                  238 	ld	(hl),a
   00F7 23                  239 	inc	hl
   00F8 77                  240 	ld	(hl),a
   00F9 23                  241 	inc	hl
   00FA 77                  242 	ld	(hl),a
   00FB 23                  243 	inc	hl
   00FC 77                  244 	ld	(hl),a
                            245 ;../_ulong2fs.c:109: exp++;
   00FD F8 0C               246 	ldhl	sp,#12
   00FF 4E                  247 	ld	c,(hl)
   0100 23                  248 	inc	hl
   0101 46                  249 	ld	b,(hl)
   0102 03                  250 	inc	bc
   0103                     251 00110$:
                            252 ;../_ulong2fs.c:113: a &= ~HIDDEN ;
   0103 F8 12               253 	ldhl	sp,#18
   0105 7E                  254 	ld	a,(hl)
   0106 E6 7F               255 	and	a,#0x7F
   0108 77                  256 	ld	(hl),a
                            257 ;../_ulong2fs.c:115: fl.l = PACK(0,(unsigned long)exp, a);
   0109 F8 08               258 	ldhl	sp,#8
   010B 7D                  259 	ld	a,l
   010C 54                  260 	ld	d,h
   010D F8 00               261 	ldhl	sp,#0
   010F 77                  262 	ld	(hl),a
   0110 23                  263 	inc	hl
   0111 72                  264 	ld	(hl),d
   0112 F8 04               265 	ldhl	sp,#4
   0114 71                  266 	ld	(hl),c
   0115 23                  267 	inc	hl
   0116 70                  268 	ld	(hl),b
   0117 78                  269 	ld	a,b
   0118 17                  270 	rla	
   0119 9F                  271 	sbc	a,a
   011A 23                  272 	inc	hl
   011B 77                  273 	ld	(hl),a
   011C 23                  274 	inc	hl
   011D 77                  275 	ld	(hl),a
   011E 3E 17               276 	ld	a,#0x17
   0120 F5                  277 	push	af
   0121 33                  278 	inc	sp
   0122 2B                  279 	dec	hl
   0123 7E                  280 	ld	a,(hl)
   0124 23                  281 	inc	hl
   0125 66                  282 	ld	h,(hl)
   0126 6F                  283 	ld	l,a
   0127 E5                  284 	push	hl
   0128 F8 07               285 	ldhl	sp,#7
   012A 7E                  286 	ld	a,(hl)
   012B 23                  287 	inc	hl
   012C 66                  288 	ld	h,(hl)
   012D 6F                  289 	ld	l,a
   012E E5                  290 	push	hl
   012F CDr00s00            291 	call	__rlulong_rrx_s
   0132 E8 05               292 	lda	sp,5(sp)
   0134 E5                  293 	push	hl
   0135 F8 06               294 	ldhl	sp,#6
   0137 73                  295 	ld	(hl),e
   0138 23                  296 	inc	hl
   0139 72                  297 	ld	(hl),d
   013A D1                  298 	pop	de
   013B 23                  299 	inc	hl
   013C 73                  300 	ld	(hl),e
   013D 23                  301 	inc	hl
   013E 72                  302 	ld	(hl),d
   013F F8 04               303 	ldhl	sp,#4
   0141 7E                  304 	ld	a,(hl)
   0142 F8 10               305 	ldhl	sp,#16
   0144 B6                  306 	or	a, (hl)
   0145 F8 04               307 	ldhl	sp,#4
   0147 77                  308 	ld	(hl),a
   0148 23                  309 	inc	hl
   0149 7E                  310 	ld	a,(hl)
   014A F8 11               311 	ldhl	sp,#17
   014C B6                  312 	or	a, (hl)
   014D F8 05               313 	ldhl	sp,#5
   014F 77                  314 	ld	(hl),a
   0150 23                  315 	inc	hl
   0151 7E                  316 	ld	a,(hl)
   0152 F8 12               317 	ldhl	sp,#18
   0154 B6                  318 	or	a, (hl)
   0155 F8 06               319 	ldhl	sp,#6
   0157 77                  320 	ld	(hl),a
   0158 23                  321 	inc	hl
   0159 7E                  322 	ld	a,(hl)
   015A F8 13               323 	ldhl	sp,#19
   015C B6                  324 	or	a, (hl)
   015D F8 07               325 	ldhl	sp,#7
   015F 77                  326 	ld	(hl),a
   0160 F8 01               327 	ldhl	sp,#1
   0162 2B                  328 	dec	hl
   0163 5E                  329 	ld	e,(hl)
   0164 23                  330 	inc	hl
   0165 56                  331 	ld	d,(hl)
   0166 F8 04               332 	ldhl	sp,#4
   0168 7E                  333 	ld	a,(hl)
   0169 12                  334 	ld	(de),a
   016A 13                  335 	inc	de
   016B 23                  336 	inc	hl
   016C 7E                  337 	ld	a,(hl)
   016D 12                  338 	ld	(de),a
   016E 13                  339 	inc	de
   016F 23                  340 	inc	hl
   0170 7E                  341 	ld	a,(hl)
   0171 12                  342 	ld	(de),a
   0172 13                  343 	inc	de
   0173 23                  344 	inc	hl
   0174 7E                  345 	ld	a,(hl)
   0175 12                  346 	ld	(de),a
                            347 ;../_ulong2fs.c:117: return (fl.f);
   0176 F8 08               348 	ldhl	sp,#8
   0178 4D                  349 	ld	c,l
   0179 44                  350 	ld	b,h
   017A 59                  351 	ld	e,c
   017B 50                  352 	ld	d,b
   017C 1A                  353 	ld	a,(de)
   017D F8 00               354 	ldhl	sp,#0
   017F 77                  355 	ld	(hl),a
   0180 13                  356 	inc	de
   0181 1A                  357 	ld	a,(de)
   0182 23                  358 	inc	hl
   0183 77                  359 	ld	(hl),a
   0184 13                  360 	inc	de
   0185 1A                  361 	ld	a,(de)
   0186 23                  362 	inc	hl
   0187 77                  363 	ld	(hl),a
   0188 13                  364 	inc	de
   0189 1A                  365 	ld	a,(de)
   018A 23                  366 	inc	hl
   018B 77                  367 	ld	(hl),a
   018C 2B                  368 	dec	hl
   018D 2B                  369 	dec	hl
   018E 2B                  370 	dec	hl
   018F 5E                  371 	ld	e,(hl)
   0190 23                  372 	inc	hl
   0191 56                  373 	ld	d,(hl)
   0192 23                  374 	inc	hl
   0193 7E                  375 	ld	a,(hl)
   0194 23                  376 	inc	hl
   0195 66                  377 	ld	h,(hl)
   0196 6F                  378 	ld	l,a
   0197                     379 00111$:
   0197 E8 0E               380 	lda	sp,14(sp)
   0199 C9                  381 	ret
   019A                     382 ___ulong2fs_end::
                            383 	.area _HOME
                            384 ;--------------------------------------------------------
                            385 ; code
                            386 ;--------------------------------------------------------
                            387 	.area _CODE
                            388 	.area _CODE
                            389 	.area _CABS
