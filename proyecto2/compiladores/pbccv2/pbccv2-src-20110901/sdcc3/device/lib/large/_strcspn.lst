                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:28 2015
                              5 ;--------------------------------------------------------
                              6 	.module _strcspn
                              7 	.optsdcc -mmcs51 --model-large
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _strcspn_PARM_2
                             13 	.globl _strcspn
                             14 ;--------------------------------------------------------
                             15 ; special function registers
                             16 ;--------------------------------------------------------
                             17 	.area RSEG    (ABS,DATA)
   0000                      18 	.org 0x0000
                             19 ;--------------------------------------------------------
                             20 ; special function bits
                             21 ;--------------------------------------------------------
                             22 	.area RSEG    (ABS,DATA)
   0000                      23 	.org 0x0000
                             24 ;--------------------------------------------------------
                             25 ; overlayable register banks
                             26 ;--------------------------------------------------------
                             27 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      28 	.ds 8
                             29 ;--------------------------------------------------------
                             30 ; internal ram data
                             31 ;--------------------------------------------------------
                             32 	.area DSEG    (DATA)
   0000                      33 _strcspn_count_1_1:
   0000                      34 	.ds 2
                             35 ;--------------------------------------------------------
                             36 ; overlayable items in internal ram 
                             37 ;--------------------------------------------------------
                             38 	.area OSEG    (OVR,DATA)
                             39 ;--------------------------------------------------------
                             40 ; indirectly addressable internal ram data
                             41 ;--------------------------------------------------------
                             42 	.area ISEG    (DATA)
                             43 ;--------------------------------------------------------
                             44 ; absolute internal ram data
                             45 ;--------------------------------------------------------
                             46 	.area IABS    (ABS,DATA)
                             47 	.area IABS    (ABS,DATA)
                             48 ;--------------------------------------------------------
                             49 ; bit data
                             50 ;--------------------------------------------------------
                             51 	.area BSEG    (BIT)
                             52 ;--------------------------------------------------------
                             53 ; paged external ram data
                             54 ;--------------------------------------------------------
                             55 	.area PSEG    (PAG,XDATA)
                             56 ;--------------------------------------------------------
                             57 ; external ram data
                             58 ;--------------------------------------------------------
                             59 	.area XSEG    (XDATA)
   0000                      60 _strcspn_PARM_2:
   0000                      61 	.ds 3
   0003                      62 _strcspn_string_1_1:
   0003                      63 	.ds 3
                             64 ;--------------------------------------------------------
                             65 ; absolute external ram data
                             66 ;--------------------------------------------------------
                             67 	.area XABS    (ABS,XDATA)
                             68 ;--------------------------------------------------------
                             69 ; external initialized ram data
                             70 ;--------------------------------------------------------
                             71 	.area XISEG   (XDATA)
                             72 	.area HOME    (CODE)
                             73 	.area GSINIT0 (CODE)
                             74 	.area GSINIT1 (CODE)
                             75 	.area GSINIT2 (CODE)
                             76 	.area GSINIT3 (CODE)
                             77 	.area GSINIT4 (CODE)
                             78 	.area GSINIT5 (CODE)
                             79 	.area GSINIT  (CODE)
                             80 	.area GSFINAL (CODE)
                             81 	.area CSEG    (CODE)
                             82 ;--------------------------------------------------------
                             83 ; global & static initialisations
                             84 ;--------------------------------------------------------
                             85 	.area HOME    (CODE)
                             86 	.area GSINIT  (CODE)
                             87 	.area GSFINAL (CODE)
                             88 	.area GSINIT  (CODE)
                             89 ;--------------------------------------------------------
                             90 ; Home
                             91 ;--------------------------------------------------------
                             92 	.area HOME    (CODE)
                             93 	.area HOME    (CODE)
                             94 ;--------------------------------------------------------
                             95 ; code
                             96 ;--------------------------------------------------------
                             97 	.area CSEG    (CODE)
                             98 ;------------------------------------------------------------
                             99 ;Allocation info for local variables in function 'strcspn'
                            100 ;------------------------------------------------------------
                            101 ;count                     Allocated with name '_strcspn_count_1_1'
                            102 ;ch                        Allocated to registers r0 
                            103 ;control                   Allocated with name '_strcspn_PARM_2'
                            104 ;string                    Allocated with name '_strcspn_string_1_1'
                            105 ;------------------------------------------------------------
                            106 ;	_strcspn.c:31: size_t strcspn ( 
                            107 ;	-----------------------------------------
                            108 ;	 function strcspn
                            109 ;	-----------------------------------------
   0000                     110 _strcspn:
                    0002    111 	ar2 = 0x02
                    0003    112 	ar3 = 0x03
                    0004    113 	ar4 = 0x04
                    0005    114 	ar5 = 0x05
                    0006    115 	ar6 = 0x06
                    0007    116 	ar7 = 0x07
                    0000    117 	ar0 = 0x00
                    0001    118 	ar1 = 0x01
   0000 AA F0               119 	mov	r2,b
   0002 AB 83               120 	mov	r3,dph
   0004 E5 82               121 	mov	a,dpl
   0006 90s00r03            122 	mov	dptr,#_strcspn_string_1_1
   0009 F0                  123 	movx	@dptr,a
   000A A3                  124 	inc	dptr
   000B EB                  125 	mov	a,r3
   000C F0                  126 	movx	@dptr,a
   000D A3                  127 	inc	dptr
   000E EA                  128 	mov	a,r2
   000F F0                  129 	movx	@dptr,a
                            130 ;	_strcspn.c:39: while (ch = *string) {
   0010 E4                  131 	clr	a
   0011 F5*00               132 	mov	_strcspn_count_1_1,a
   0013 F5*01               133 	mov	(_strcspn_count_1_1 + 1),a
   0015 90s00r03            134 	mov	dptr,#_strcspn_string_1_1
   0018 E0                  135 	movx	a,@dptr
   0019 FC                  136 	mov	r4,a
   001A A3                  137 	inc	dptr
   001B E0                  138 	movx	a,@dptr
   001C FD                  139 	mov	r5,a
   001D A3                  140 	inc	dptr
   001E E0                  141 	movx	a,@dptr
   001F FE                  142 	mov	r6,a
   0020                     143 00104$:
   0020 8C 82               144 	mov	dpl,r4
   0022 8D 83               145 	mov	dph,r5
   0024 8E F0               146 	mov	b,r6
   0026 12s00r00            147 	lcall	__gptrget
   0029 FF                  148 	mov	r7,a
   002A F8                  149 	mov	r0,a
   002B 60 4A               150 	jz	00112$
                            151 ;	_strcspn.c:40: if (strchr(control,ch))
   002D 90s00r00            152 	mov	dptr,#_strcspn_PARM_2
   0030 E0                  153 	movx	a,@dptr
   0031 FF                  154 	mov	r7,a
   0032 A3                  155 	inc	dptr
   0033 E0                  156 	movx	a,@dptr
   0034 F9                  157 	mov	r1,a
   0035 A3                  158 	inc	dptr
   0036 E0                  159 	movx	a,@dptr
   0037 FA                  160 	mov	r2,a
   0038 90s00r00            161 	mov	dptr,#_strchr_PARM_2
   003B E8                  162 	mov	a,r0
   003C F0                  163 	movx	@dptr,a
   003D 8F 82               164 	mov	dpl,r7
   003F 89 83               165 	mov	dph,r1
   0041 8A F0               166 	mov	b,r2
   0043 C0 04               167 	push	ar4
   0045 C0 05               168 	push	ar5
   0047 C0 06               169 	push	ar6
   0049 12s00r00            170 	lcall	_strchr
   004C AA 82               171 	mov	r2,dpl
   004E AB 83               172 	mov	r3,dph
   0050 AF F0               173 	mov	r7,b
   0052 D0 06               174 	pop	ar6
   0054 D0 05               175 	pop	ar5
   0056 D0 04               176 	pop	ar4
   0058 EA                  177 	mov	a,r2
   0059 4B                  178 	orl	a,r3
   005A 4F                  179 	orl	a,r7
   005B 70 1A               180 	jnz	00112$
                            181 ;	_strcspn.c:43: count++ ;
   005D 05*00               182 	inc	_strcspn_count_1_1
   005F E4                  183 	clr	a
   0060 B5*00 02            184 	cjne	a,_strcspn_count_1_1,00115$
   0063 05*01               185 	inc	(_strcspn_count_1_1 + 1)
   0065                     186 00115$:
                            187 ;	_strcspn.c:44: string++ ;
   0065 0C                  188 	inc	r4
   0066 BC 00 01            189 	cjne	r4,#0x00,00116$
   0069 0D                  190 	inc	r5
   006A                     191 00116$:
   006A 90s00r03            192 	mov	dptr,#_strcspn_string_1_1
   006D EC                  193 	mov	a,r4
   006E F0                  194 	movx	@dptr,a
   006F A3                  195 	inc	dptr
   0070 ED                  196 	mov	a,r5
   0071 F0                  197 	movx	@dptr,a
   0072 A3                  198 	inc	dptr
   0073 EE                  199 	mov	a,r6
   0074 F0                  200 	movx	@dptr,a
   0075 80 A9               201 	sjmp	00104$
   0077                     202 00112$:
   0077 90s00r03            203 	mov	dptr,#_strcspn_string_1_1
   007A EC                  204 	mov	a,r4
   007B F0                  205 	movx	@dptr,a
   007C A3                  206 	inc	dptr
   007D ED                  207 	mov	a,r5
   007E F0                  208 	movx	@dptr,a
   007F A3                  209 	inc	dptr
   0080 EE                  210 	mov	a,r6
   0081 F0                  211 	movx	@dptr,a
                            212 ;	_strcspn.c:47: return count ;
   0082 85*00 82            213 	mov	dpl,_strcspn_count_1_1
   0085 85*01 83            214 	mov	dph,(_strcspn_count_1_1 + 1)
   0088 22                  215 	ret
                            216 	.area CSEG    (CODE)
                            217 	.area CONST   (CODE)
                            218 	.area XINIT   (CODE)
                            219 	.area CABS    (ABS,CODE)
