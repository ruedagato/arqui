                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:20 2015
                              5 ;--------------------------------------------------------
                              6 	.module _memchr
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _memchr
                             13 ;--------------------------------------------------------
                             14 ;  ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; overlayable items in  ram 
                             19 ;--------------------------------------------------------
                             20 	.area _OVERLAY
                             21 ;--------------------------------------------------------
                             22 ; external initialized ram data
                             23 ;--------------------------------------------------------
                             24 ;--------------------------------------------------------
                             25 ; global & static initialisations
                             26 ;--------------------------------------------------------
                             27 	.area _HOME
                             28 	.area _GSINIT
                             29 	.area _GSFINAL
                             30 	.area _GSINIT
                             31 ;--------------------------------------------------------
                             32 ; Home
                             33 ;--------------------------------------------------------
                             34 	.area _HOME
                             35 	.area _HOME
                             36 ;--------------------------------------------------------
                             37 ; code
                             38 ;--------------------------------------------------------
                             39 	.area _CODE
                             40 ;../_memchr.c:31: void *memchr(const void *s, int c, size_t n)
                             41 ;	---------------------------------
                             42 ; Function memchr
                             43 ; ---------------------------------
   0000                      44 _memchr_start::
   0000                      45 _memchr:
   0000 E8 FA                46 	lda	sp,-6(sp)
                             47 ;../_memchr.c:33: unsigned char *p = (unsigned char *)s;
   0002 F8 08                48 	ldhl	sp,#8
   0004 7E                   49 	ld	a,(hl)
   0005 23                   50 	inc	hl
   0006 5E                   51 	ld	e,(hl)
   0007 F8 00                52 	ldhl	sp,#0
   0009 77                   53 	ld	(hl),a
   000A 23                   54 	inc	hl
   000B 73                   55 	ld	(hl),e
                             56 ;../_memchr.c:34: unsigned char *end = p + n;
   000C F8 09                57 	ldhl	sp,#9
   000E 2B                   58 	dec	hl
   000F 5E                   59 	ld	e,(hl)
   0010 23                   60 	inc	hl
   0011 56                   61 	ld	d,(hl)
   0012 F8 0C                62 	ldhl	sp,#12
   0014 7E                   63 	ld	a,(hl)
   0015 23                   64 	inc	hl
   0016 66                   65 	ld	h,(hl)
   0017 6F                   66 	ld	l,a
   0018 19                   67 	add	hl,de
   0019 4D                   68 	ld	c,l
   001A 44                   69 	ld	b,h
   001B F8 02                70 	ldhl	sp,#2
   001D 71                   71 	ld	(hl),c
   001E 23                   72 	inc	hl
   001F 70                   73 	ld	(hl),b
                             74 ;../_memchr.c:38: return(0);
   0020 F8 08                75 	ldhl	sp,#8
   0022 7E                   76 	ld	a,(hl)
   0023 23                   77 	inc	hl
   0024 5E                   78 	ld	e,(hl)
   0025 F8 04                79 	ldhl	sp,#4
   0027 77                   80 	ld	(hl),a
   0028 23                   81 	inc	hl
   0029 73                   82 	ld	(hl),e
   002A                      83 00103$:
                             84 ;../_memchr.c:35: for(; p != end; p++)
   002A F8 04                85 	ldhl	sp,#4
   002C 7E                   86 	ld	a,(hl)
   002D 2B                   87 	dec	hl
   002E 2B                   88 	dec	hl
   002F 96                   89 	sub	a,(hl)
   0030 C2r3Cs00             90 	jp	NZ,00112$
   0033 F8 05                91 	ldhl	sp,#5
   0035 7E                   92 	ld	a,(hl)
   0036 2B                   93 	dec	hl
   0037 2B                   94 	dec	hl
   0038 96                   95 	sub	a,(hl)
   0039 CAr71s00             96 	jp	Z,00106$
   003C                      97 00112$:
                             98 ;../_memchr.c:36: if(*p == c)
   003C 23                   99 	inc	hl
   003D 23                  100 	inc	hl
   003E 2B                  101 	dec	hl
   003F 5E                  102 	ld	e,(hl)
   0040 23                  103 	inc	hl
   0041 56                  104 	ld	d,(hl)
   0042 1A                  105 	ld	a,(de)
   0043 4F                  106 	ld	c,a
   0044 06 00               107 	ld	b,#0x00
   0046 79                  108 	ld	a,c
   0047 F8 0A               109 	ldhl	sp,#10
   0049 96                  110 	sub	a,(hl)
   004A C2r5Ds00            111 	jp	NZ,00105$
   004D 78                  112 	ld	a,b
   004E 23                  113 	inc	hl
   004F 96                  114 	sub	a,(hl)
   0050 CAr55s00            115 	jp	Z,00114$
   0053                     116 00113$:
   0053 18 08               117 	jr	00105$
   0055                     118 00114$:
                            119 ;../_memchr.c:37: return((void *)p);
   0055 F8 01               120 	ldhl	sp,#1
   0057 2B                  121 	dec	hl
   0058 5E                  122 	ld	e,(hl)
   0059 23                  123 	inc	hl
   005A 56                  124 	ld	d,(hl)
   005B 18 17               125 	jr	00107$
   005D                     126 00105$:
                            127 ;../_memchr.c:35: for(; p != end; p++)
   005D F8 04               128 	ldhl	sp,#4
   005F 34                  129 	inc	(hl)
   0060 C2r65s00            130 	jp	NZ,00115$
   0063 23                  131 	inc	hl
   0064 34                  132 	inc	(hl)
   0065                     133 00115$:
   0065 2B                  134 	dec	hl
   0066 7E                  135 	ld	a,(hl)
   0067 23                  136 	inc	hl
   0068 5E                  137 	ld	e,(hl)
   0069 F8 00               138 	ldhl	sp,#0
   006B 77                  139 	ld	(hl),a
   006C 23                  140 	inc	hl
   006D 73                  141 	ld	(hl),e
   006E C3r2As00            142 	jp	00103$
   0071                     143 00106$:
                            144 ;../_memchr.c:38: return(0);
   0071 11 00 00            145 	ld	de,#0x0000
   0074                     146 00107$:
   0074 E8 06               147 	lda	sp,6(sp)
   0076 C9                  148 	ret
   0077                     149 _memchr_end::
                            150 	.area _CODE
                            151 	.area _CABS
