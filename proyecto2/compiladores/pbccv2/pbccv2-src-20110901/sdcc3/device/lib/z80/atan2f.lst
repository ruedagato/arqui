                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:17 2015
                              5 ;--------------------------------------------------------
                              6 	.module atan2f
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _atan2f
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../atan2f.c:34: float atan2f(const float x, const float y)
                             44 ;	---------------------------------
                             45 ; Function atan2f
                             46 ; ---------------------------------
   0000                      47 _atan2f_start::
   0000                      48 _atan2f:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 21 F8 FF             52 	ld	hl,#-8
   000B 39                   53 	add	hl,sp
   000C F9                   54 	ld	sp,hl
                             55 ;../atan2f.c:38: if ((x==0.0) && (y==0.0))
   000D DD 7E 04             56 	ld	a,4 (ix)
   0010 DD B6 05             57 	or	a,5 (ix)
   0013 DD B6 06             58 	or	a,6 (ix)
   0016 DD B6 07             59 	or	a,7 (ix)
   0019 20 22                60 	jr	NZ,00102$
   001B DD 7E 08             61 	ld	a,8 (ix)
   001E DD B6 09             62 	or	a,9 (ix)
   0021 DD B6 0A             63 	or	a,10 (ix)
   0024 DD B6 0B             64 	or	a,11 (ix)
   0027 20 14                65 	jr	NZ,00102$
                             66 ;../atan2f.c:40: errno=EDOM;
   0029 FD 21r00s00          67 	ld	iy,#_errno
   002D FD 36 00 21          68 	ld	0 (iy),#0x21
   0031 FD 36 01 00          69 	ld	1 (iy),#0x00
                             70 ;../atan2f.c:41: return 0.0;
   0035 21 00 00             71 	ld	hl,#0x0000
   0038 5D                   72 	ld	e,l
   0039 54                   73 	ld	d,h
   003A C3rDEs01             74 	jp	00109$
   003D                      75 00102$:
                             76 ;../atan2f.c:44: if(fabsf(y)>=fabsf(x))
   003D DD 6E 0A             77 	ld	l,10 (ix)
   0040 DD 66 0B             78 	ld	h,11 (ix)
   0043 E5                   79 	push	hl
   0044 DD 6E 08             80 	ld	l,8 (ix)
   0047 DD 66 09             81 	ld	h,9 (ix)
   004A E5                   82 	push	hl
   004B CDr00s00             83 	call	_fabsf
   004E F1                   84 	pop	af
   004F F1                   85 	pop	af
   0050 DD 72 FB             86 	ld	-5 (ix),d
   0053 DD 73 FA             87 	ld	-6 (ix),e
   0056 DD 74 F9             88 	ld	-7 (ix),h
   0059 DD 75 F8             89 	ld	-8 (ix),l
   005C DD 6E 06             90 	ld	l,6 (ix)
   005F DD 66 07             91 	ld	h,7 (ix)
   0062 E5                   92 	push	hl
   0063 DD 6E 04             93 	ld	l,4 (ix)
   0066 DD 66 05             94 	ld	h,5 (ix)
   0069 E5                   95 	push	hl
   006A CDr00s00             96 	call	_fabsf
   006D F1                   97 	pop	af
   006E F1                   98 	pop	af
   006F 44                   99 	ld	b,h
   0070 4D                  100 	ld	c,l
   0071 D5                  101 	push	de
   0072 C5                  102 	push	bc
   0073 DD 6E FA            103 	ld	l,-6 (ix)
   0076 DD 66 FB            104 	ld	h,-5 (ix)
   0079 E5                  105 	push	hl
   007A DD 6E F8            106 	ld	l,-8 (ix)
   007D DD 66 F9            107 	ld	h,-7 (ix)
   0080 E5                  108 	push	hl
   0081 CDr00s00            109 	call	___fslt
   0084 F1                  110 	pop	af
   0085 F1                  111 	pop	af
   0086 F1                  112 	pop	af
   0087 F1                  113 	pop	af
   0088 AF                  114 	xor	a,a
   0089 B5                  115 	or	a,l
   008A C2r42s01            116 	jp	NZ,00107$
                            117 ;../atan2f.c:46: r=atanf(x/y);
   008D DD 6E 0A            118 	ld	l,10 (ix)
   0090 DD 66 0B            119 	ld	h,11 (ix)
   0093 E5                  120 	push	hl
   0094 DD 6E 08            121 	ld	l,8 (ix)
   0097 DD 66 09            122 	ld	h,9 (ix)
   009A E5                  123 	push	hl
   009B DD 6E 06            124 	ld	l,6 (ix)
   009E DD 66 07            125 	ld	h,7 (ix)
   00A1 E5                  126 	push	hl
   00A2 DD 6E 04            127 	ld	l,4 (ix)
   00A5 DD 66 05            128 	ld	h,5 (ix)
   00A8 E5                  129 	push	hl
   00A9 CDr00s00            130 	call	___fsdiv
   00AC F1                  131 	pop	af
   00AD F1                  132 	pop	af
   00AE F1                  133 	pop	af
   00AF F1                  134 	pop	af
   00B0 44                  135 	ld	b,h
   00B1 4D                  136 	ld	c,l
   00B2 D5                  137 	push	de
   00B3 C5                  138 	push	bc
   00B4 CDr00s00            139 	call	_atanf
   00B7 F1                  140 	pop	af
   00B8 F1                  141 	pop	af
   00B9 DD 75 FC            142 	ld	-4 (ix), l
   00BC DD 74 FD            143 	ld	-3 (ix), h
   00BF DD 73 FE            144 	ld	-2 (ix),e
   00C2 DD 72 FF            145 	ld	-1 (ix),d
                            146 ;../atan2f.c:47: if(y<0.0) r+=(x>=0?PI:-PI);
   00C5 21 00 00            147 	ld	hl,#0x0000
   00C8 E5                  148 	push	hl
   00C9 21 00 00            149 	ld	hl,#0x0000
   00CC E5                  150 	push	hl
   00CD DD 6E 0A            151 	ld	l,10 (ix)
   00D0 DD 66 0B            152 	ld	h,11 (ix)
   00D3 E5                  153 	push	hl
   00D4 DD 6E 08            154 	ld	l,8 (ix)
   00D7 DD 66 09            155 	ld	h,9 (ix)
   00DA E5                  156 	push	hl
   00DB CDr00s00            157 	call	___fslt
   00DE F1                  158 	pop	af
   00DF F1                  159 	pop	af
   00E0 F1                  160 	pop	af
   00E1 F1                  161 	pop	af
   00E2 AF                  162 	xor	a,a
   00E3 B5                  163 	or	a,l
   00E4 CArD2s01            164 	jp	Z,00108$
   00E7 21 00 00            165 	ld	hl,#0x0000
   00EA E5                  166 	push	hl
   00EB 21 00 00            167 	ld	hl,#0x0000
   00EE E5                  168 	push	hl
   00EF DD 6E 06            169 	ld	l,6 (ix)
   00F2 DD 66 07            170 	ld	h,7 (ix)
   00F5 E5                  171 	push	hl
   00F6 DD 6E 04            172 	ld	l,4 (ix)
   00F9 DD 66 05            173 	ld	h,5 (ix)
   00FC E5                  174 	push	hl
   00FD CDr00s00            175 	call	___fslt
   0100 F1                  176 	pop	af
   0101 F1                  177 	pop	af
   0102 F1                  178 	pop	af
   0103 F1                  179 	pop	af
   0104 AF                  180 	xor	a,a
   0105 B5                  181 	or	a,l
   0106 D6 01               182 	sub	a,#0x01
   0108 3E 00               183 	ld	a,#0x00
   010A 17                  184 	rla
   010B B7                  185 	or	a,a
   010C 28 08               186 	jr	Z,00111$
   010E 01 DB 0F            187 	ld	bc,#0x0FDB
   0111 11 49 40            188 	ld	de,#0x4049
   0114 18 06               189 	jr	00112$
   0116                     190 00111$:
   0116 01 DB 0F            191 	ld	bc,#0x0FDB
   0119 11 49 C0            192 	ld	de,#0xC049
   011C                     193 00112$:
   011C D5                  194 	push	de
   011D C5                  195 	push	bc
   011E DD 6E FE            196 	ld	l,-2 (ix)
   0121 DD 66 FF            197 	ld	h,-1 (ix)
   0124 E5                  198 	push	hl
   0125 DD 6E FC            199 	ld	l,-4 (ix)
   0128 DD 66 FD            200 	ld	h,-3 (ix)
   012B E5                  201 	push	hl
   012C CDr00s00            202 	call	___fsadd
   012F F1                  203 	pop	af
   0130 F1                  204 	pop	af
   0131 F1                  205 	pop	af
   0132 F1                  206 	pop	af
   0133 DD 75 FC            207 	ld	-4 (ix), l
   0136 DD 74 FD            208 	ld	-3 (ix), h
   0139 DD 73 FE            209 	ld	-2 (ix),e
   013C DD 72 FF            210 	ld	-1 (ix),d
   013F C3rD2s01            211 	jp	00108$
   0142                     212 00107$:
                            213 ;../atan2f.c:51: r=-atanf(y/x);
   0142 DD 6E 06            214 	ld	l,6 (ix)
   0145 DD 66 07            215 	ld	h,7 (ix)
   0148 E5                  216 	push	hl
   0149 DD 6E 04            217 	ld	l,4 (ix)
   014C DD 66 05            218 	ld	h,5 (ix)
   014F E5                  219 	push	hl
   0150 DD 6E 0A            220 	ld	l,10 (ix)
   0153 DD 66 0B            221 	ld	h,11 (ix)
   0156 E5                  222 	push	hl
   0157 DD 6E 08            223 	ld	l,8 (ix)
   015A DD 66 09            224 	ld	h,9 (ix)
   015D E5                  225 	push	hl
   015E CDr00s00            226 	call	___fsdiv
   0161 F1                  227 	pop	af
   0162 F1                  228 	pop	af
   0163 F1                  229 	pop	af
   0164 F1                  230 	pop	af
   0165 44                  231 	ld	b,h
   0166 4D                  232 	ld	c,l
   0167 D5                  233 	push	de
   0168 C5                  234 	push	bc
   0169 CDr00s00            235 	call	_atanf
   016C F1                  236 	pop	af
   016D F1                  237 	pop	af
   016E 44                  238 	ld	b,h
   016F 4D                  239 	ld	c,l
   0170 7A                  240 	ld	a,d
   0171 EE 80               241 	xor	a,#0x80
   0173 57                  242 	ld	d,a
   0174 DD 71 FC            243 	ld	-4 (ix),c
   0177 DD 70 FD            244 	ld	-3 (ix),b
   017A DD 73 FE            245 	ld	-2 (ix),e
   017D DD 72 FF            246 	ld	-1 (ix),d
                            247 ;../atan2f.c:52: r+=(x<0.0?-HALF_PI:HALF_PI);
   0180 21 00 00            248 	ld	hl,#0x0000
   0183 E5                  249 	push	hl
   0184 21 00 00            250 	ld	hl,#0x0000
   0187 E5                  251 	push	hl
   0188 DD 6E 06            252 	ld	l,6 (ix)
   018B DD 66 07            253 	ld	h,7 (ix)
   018E E5                  254 	push	hl
   018F DD 6E 04            255 	ld	l,4 (ix)
   0192 DD 66 05            256 	ld	h,5 (ix)
   0195 E5                  257 	push	hl
   0196 CDr00s00            258 	call	___fslt
   0199 F1                  259 	pop	af
   019A F1                  260 	pop	af
   019B F1                  261 	pop	af
   019C F1                  262 	pop	af
   019D AF                  263 	xor	a,a
   019E B5                  264 	or	a,l
   019F 28 08               265 	jr	Z,00113$
   01A1 01 DB 0F            266 	ld	bc,#0x0FDB
   01A4 11 C9 BF            267 	ld	de,#0xBFC9
   01A7 18 06               268 	jr	00114$
   01A9                     269 00113$:
   01A9 01 DB 0F            270 	ld	bc,#0x0FDB
   01AC 11 C9 3F            271 	ld	de,#0x3FC9
   01AF                     272 00114$:
   01AF D5                  273 	push	de
   01B0 C5                  274 	push	bc
   01B1 DD 6E FE            275 	ld	l,-2 (ix)
   01B4 DD 66 FF            276 	ld	h,-1 (ix)
   01B7 E5                  277 	push	hl
   01B8 DD 6E FC            278 	ld	l,-4 (ix)
   01BB DD 66 FD            279 	ld	h,-3 (ix)
   01BE E5                  280 	push	hl
   01BF CDr00s00            281 	call	___fsadd
   01C2 F1                  282 	pop	af
   01C3 F1                  283 	pop	af
   01C4 F1                  284 	pop	af
   01C5 F1                  285 	pop	af
   01C6 DD 75 FC            286 	ld	-4 (ix), l
   01C9 DD 74 FD            287 	ld	-3 (ix), h
   01CC DD 73 FE            288 	ld	-2 (ix),e
   01CF DD 72 FF            289 	ld	-1 (ix),d
   01D2                     290 00108$:
                            291 ;../atan2f.c:54: return r;
   01D2 DD 6E FC            292 	ld	l,-4 (ix)
   01D5 DD 66 FD            293 	ld	h,-3 (ix)
   01D8 DD 5E FE            294 	ld	e,-2 (ix)
   01DB DD 56 FF            295 	ld	d,-1 (ix)
   01DE                     296 00109$:
   01DE DD F9               297 	ld	sp,ix
   01E0 DD E1               298 	pop	ix
   01E2 C9                  299 	ret
   01E3                     300 _atan2f_end::
                            301 	.area _CODE
                            302 	.area _CABS
