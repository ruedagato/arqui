                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:22 2015
                              5 ;--------------------------------------------------------
                              6 	.module frexpf
                              7 	.optsdcc -mmcs51 --model-small
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _frexpf_PARM_2
                             13 	.globl _frexpf
                             14 ;--------------------------------------------------------
                             15 ; special function registers
                             16 ;--------------------------------------------------------
                             17 	.area RSEG    (ABS,DATA)
   0000                      18 	.org 0x0000
                             19 ;--------------------------------------------------------
                             20 ; special function bits
                             21 ;--------------------------------------------------------
                             22 	.area RSEG    (ABS,DATA)
   0000                      23 	.org 0x0000
                             24 ;--------------------------------------------------------
                             25 ; overlayable register banks
                             26 ;--------------------------------------------------------
                             27 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      28 	.ds 8
                             29 ;--------------------------------------------------------
                             30 ; internal ram data
                             31 ;--------------------------------------------------------
                             32 	.area DSEG    (DATA)
                             33 ;--------------------------------------------------------
                             34 ; overlayable items in internal ram 
                             35 ;--------------------------------------------------------
                             36 	.area	OSEG    (OVR,DATA)
   0000                      37 _frexpf_PARM_2::
   0000                      38 	.ds 3
   0003                      39 _frexpf_fl_1_1::
   0003                      40 	.ds 4
   0007                      41 _frexpf_i_1_1::
   0007                      42 	.ds 4
   000B                      43 _frexpf_sloc0_1_0::
   000B                      44 	.ds 4
                             45 ;--------------------------------------------------------
                             46 ; indirectly addressable internal ram data
                             47 ;--------------------------------------------------------
                             48 	.area ISEG    (DATA)
                             49 ;--------------------------------------------------------
                             50 ; absolute internal ram data
                             51 ;--------------------------------------------------------
                             52 	.area IABS    (ABS,DATA)
                             53 	.area IABS    (ABS,DATA)
                             54 ;--------------------------------------------------------
                             55 ; bit data
                             56 ;--------------------------------------------------------
                             57 	.area BSEG    (BIT)
                             58 ;--------------------------------------------------------
                             59 ; paged external ram data
                             60 ;--------------------------------------------------------
                             61 	.area PSEG    (PAG,XDATA)
                             62 ;--------------------------------------------------------
                             63 ; external ram data
                             64 ;--------------------------------------------------------
                             65 	.area XSEG    (XDATA)
                             66 ;--------------------------------------------------------
                             67 ; absolute external ram data
                             68 ;--------------------------------------------------------
                             69 	.area XABS    (ABS,XDATA)
                             70 ;--------------------------------------------------------
                             71 ; external initialized ram data
                             72 ;--------------------------------------------------------
                             73 	.area XISEG   (XDATA)
                             74 	.area HOME    (CODE)
                             75 	.area GSINIT0 (CODE)
                             76 	.area GSINIT1 (CODE)
                             77 	.area GSINIT2 (CODE)
                             78 	.area GSINIT3 (CODE)
                             79 	.area GSINIT4 (CODE)
                             80 	.area GSINIT5 (CODE)
                             81 	.area GSINIT  (CODE)
                             82 	.area GSFINAL (CODE)
                             83 	.area CSEG    (CODE)
                             84 ;--------------------------------------------------------
                             85 ; global & static initialisations
                             86 ;--------------------------------------------------------
                             87 	.area HOME    (CODE)
                             88 	.area GSINIT  (CODE)
                             89 	.area GSFINAL (CODE)
                             90 	.area GSINIT  (CODE)
                             91 ;--------------------------------------------------------
                             92 ; Home
                             93 ;--------------------------------------------------------
                             94 	.area HOME    (CODE)
                             95 	.area HOME    (CODE)
                             96 ;--------------------------------------------------------
                             97 ; code
                             98 ;--------------------------------------------------------
                             99 	.area CSEG    (CODE)
                            100 ;------------------------------------------------------------
                            101 ;Allocation info for local variables in function 'frexpf'
                            102 ;------------------------------------------------------------
                            103 ;pw2                       Allocated with name '_frexpf_PARM_2'
                            104 ;x                         Allocated to registers r2 r3 r4 r5 
                            105 ;fl                        Allocated with name '_frexpf_fl_1_1'
                            106 ;i                         Allocated with name '_frexpf_i_1_1'
                            107 ;sloc0                     Allocated with name '_frexpf_sloc0_1_0'
                            108 ;------------------------------------------------------------
                            109 ;	frexpf.c:34: float frexpf(const float x, int *pw2)
                            110 ;	-----------------------------------------
                            111 ;	 function frexpf
                            112 ;	-----------------------------------------
   0000                     113 _frexpf:
                    0002    114 	ar2 = 0x02
                    0003    115 	ar3 = 0x03
                    0004    116 	ar4 = 0x04
                    0005    117 	ar5 = 0x05
                    0006    118 	ar6 = 0x06
                    0007    119 	ar7 = 0x07
                    0000    120 	ar0 = 0x00
                    0001    121 	ar1 = 0x01
   0000 AA 82               122 	mov	r2,dpl
   0002 AB 83               123 	mov	r3,dph
   0004 AC F0               124 	mov	r4,b
   0006 FD                  125 	mov	r5,a
                            126 ;	frexpf.c:39: fl.f=x;
   0007 8A*03               127 	mov	(_frexpf_fl_1_1 + 0),r2
   0009 8B*04               128 	mov	(_frexpf_fl_1_1 + 1),r3
   000B 8C*05               129 	mov	(_frexpf_fl_1_1 + 2),r4
   000D 8D*06               130 	mov	(_frexpf_fl_1_1 + 3),r5
                            131 ;	frexpf.c:41: i  = ( fl.l >> 23) & 0x000000ff;
   000F 85*03*0B            132 	mov	_frexpf_sloc0_1_0,_frexpf_fl_1_1
   0012 85*04*0C            133 	mov	(_frexpf_sloc0_1_0 + 1),(_frexpf_fl_1_1 + 1)
   0015 85*05*0D            134 	mov	(_frexpf_sloc0_1_0 + 2),(_frexpf_fl_1_1 + 2)
   0018 85*06*0E            135 	mov	(_frexpf_sloc0_1_0 + 3),(_frexpf_fl_1_1 + 3)
   001B AE*0D               136 	mov	r6,(_frexpf_sloc0_1_0 + 2)
   001D E5*0E               137 	mov	a,(_frexpf_sloc0_1_0 + 3)
   001F A2 E7               138 	mov	c,acc.7
   0021 CE                  139 	xch	a,r6
   0022 33                  140 	rlc	a
   0023 CE                  141 	xch	a,r6
   0024 33                  142 	rlc	a
   0025 CE                  143 	xch	a,r6
   0026 54 01               144 	anl	a,#0x01
   0028 30 E0 02            145 	jnb	acc.0,00103$
   002B 44 FE               146 	orl	a,#0xfe
   002D                     147 00103$:
   002D 33                  148 	rlc	a
   002E 95 E0               149 	subb	a,acc
   0030 8E*07               150 	mov	_frexpf_i_1_1,r6
                            151 ;	frexpf.c:42: i -= 0x7e;
   0032 E4                  152 	clr	a
   0033 F5*08               153 	mov	(_frexpf_i_1_1 + 1),a
   0035 F5*09               154 	mov	(_frexpf_i_1_1 + 2),a
   0037 F5*0A               155 	mov	(_frexpf_i_1_1 + 3),a
   0039 E5*07               156 	mov	a,_frexpf_i_1_1
   003B 24 82               157 	add	a,#0x82
   003D F5*07               158 	mov	_frexpf_i_1_1,a
   003F E5*08               159 	mov	a,(_frexpf_i_1_1 + 1)
   0041 34 FF               160 	addc	a,#0xff
   0043 F5*08               161 	mov	(_frexpf_i_1_1 + 1),a
   0045 E5*09               162 	mov	a,(_frexpf_i_1_1 + 2)
   0047 34 FF               163 	addc	a,#0xff
   0049 F5*09               164 	mov	(_frexpf_i_1_1 + 2),a
   004B E5*0A               165 	mov	a,(_frexpf_i_1_1 + 3)
   004D 34 FF               166 	addc	a,#0xff
   004F F5*0A               167 	mov	(_frexpf_i_1_1 + 3),a
                            168 ;	frexpf.c:43: *pw2 = i;
   0051 AC*00               169 	mov	r4,_frexpf_PARM_2
   0053 AD*01               170 	mov	r5,(_frexpf_PARM_2 + 1)
   0055 AA*02               171 	mov	r2,(_frexpf_PARM_2 + 2)
   0057 AE*07               172 	mov	r6,_frexpf_i_1_1
   0059 AF*08               173 	mov	r7,(_frexpf_i_1_1 + 1)
   005B 8C 82               174 	mov	dpl,r4
   005D 8D 83               175 	mov	dph,r5
   005F 8A F0               176 	mov	b,r2
   0061 EE                  177 	mov	a,r6
   0062 12s00r00            178 	lcall	__gptrput
   0065 A3                  179 	inc	dptr
   0066 EF                  180 	mov	a,r7
   0067 12s00r00            181 	lcall	__gptrput
                            182 ;	frexpf.c:44: fl.l &= 0x807fffff; /* strip all exponent bits */
   006A AA*0B               183 	mov	r2,_frexpf_sloc0_1_0
   006C AB*0C               184 	mov	r3,(_frexpf_sloc0_1_0 + 1)
   006E 74 7F               185 	mov	a,#0x7F
   0070 55*0D               186 	anl	a,(_frexpf_sloc0_1_0 + 2)
   0072 FC                  187 	mov	r4,a
   0073 74 80               188 	mov	a,#0x80
   0075 55*0E               189 	anl	a,(_frexpf_sloc0_1_0 + 3)
   0077 FD                  190 	mov	r5,a
   0078 8A*03               191 	mov	(_frexpf_fl_1_1 + 0),r2
                            192 ;	frexpf.c:45: fl.l |= 0x3f000000; /* mantissa between 0.5 and 1 */
   007A 8B*04               193 	mov	(_frexpf_fl_1_1 + 1),r3
   007C 8C*05               194 	mov	(_frexpf_fl_1_1 + 2),r4
   007E 8D*06               195 	mov	(_frexpf_fl_1_1 + 3),r5
   0080 AA*03               196 	mov	r2,_frexpf_fl_1_1
   0082 74 3F               197 	mov	a,#0x3F
   0084 45*06               198 	orl	a,(_frexpf_fl_1_1 + 3)
   0086 FD                  199 	mov	r5,a
   0087 8A*03               200 	mov	(_frexpf_fl_1_1 + 0),r2
   0089 8B*04               201 	mov	(_frexpf_fl_1_1 + 1),r3
   008B 8C*05               202 	mov	(_frexpf_fl_1_1 + 2),r4
   008D 8D*06               203 	mov	(_frexpf_fl_1_1 + 3),r5
                            204 ;	frexpf.c:46: return(fl.f);
   008F 85*03 82            205 	mov	dpl,_frexpf_fl_1_1
   0092 85*04 83            206 	mov	dph,(_frexpf_fl_1_1 + 1)
   0095 85*05 F0            207 	mov	b,(_frexpf_fl_1_1 + 2)
   0098 E5*06               208 	mov	a,(_frexpf_fl_1_1 + 3)
   009A 22                  209 	ret
                            210 	.area CSEG    (CODE)
                            211 	.area CONST   (CODE)
                            212 	.area XINIT   (CODE)
                            213 	.area CABS    (ABS,CODE)
