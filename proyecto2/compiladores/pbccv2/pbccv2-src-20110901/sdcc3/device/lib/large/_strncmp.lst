                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:28 2015
                              5 ;--------------------------------------------------------
                              6 	.module _strncmp
                              7 	.optsdcc -mmcs51 --model-large
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _strncmp_PARM_3
                             13 	.globl _strncmp_PARM_2
                             14 	.globl _strncmp
                             15 ;--------------------------------------------------------
                             16 ; special function registers
                             17 ;--------------------------------------------------------
                             18 	.area RSEG    (ABS,DATA)
   0000                      19 	.org 0x0000
                             20 ;--------------------------------------------------------
                             21 ; special function bits
                             22 ;--------------------------------------------------------
                             23 	.area RSEG    (ABS,DATA)
   0000                      24 	.org 0x0000
                             25 ;--------------------------------------------------------
                             26 ; overlayable register banks
                             27 ;--------------------------------------------------------
                             28 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      29 	.ds 8
                             30 ;--------------------------------------------------------
                             31 ; internal ram data
                             32 ;--------------------------------------------------------
                             33 	.area DSEG    (DATA)
                             34 ;--------------------------------------------------------
                             35 ; overlayable items in internal ram 
                             36 ;--------------------------------------------------------
                             37 	.area	OSEG    (OVR,DATA)
   0000                      38 _strncmp_sloc0_1_0::
   0000                      39 	.ds 1
                             40 ;--------------------------------------------------------
                             41 ; indirectly addressable internal ram data
                             42 ;--------------------------------------------------------
                             43 	.area ISEG    (DATA)
                             44 ;--------------------------------------------------------
                             45 ; absolute internal ram data
                             46 ;--------------------------------------------------------
                             47 	.area IABS    (ABS,DATA)
                             48 	.area IABS    (ABS,DATA)
                             49 ;--------------------------------------------------------
                             50 ; bit data
                             51 ;--------------------------------------------------------
                             52 	.area BSEG    (BIT)
                             53 ;--------------------------------------------------------
                             54 ; paged external ram data
                             55 ;--------------------------------------------------------
                             56 	.area PSEG    (PAG,XDATA)
                             57 ;--------------------------------------------------------
                             58 ; external ram data
                             59 ;--------------------------------------------------------
                             60 	.area XSEG    (XDATA)
   0000                      61 _strncmp_PARM_2:
   0000                      62 	.ds 3
   0003                      63 _strncmp_PARM_3:
   0003                      64 	.ds 2
   0005                      65 _strncmp_first_1_1:
   0005                      66 	.ds 3
                             67 ;--------------------------------------------------------
                             68 ; absolute external ram data
                             69 ;--------------------------------------------------------
                             70 	.area XABS    (ABS,XDATA)
                             71 ;--------------------------------------------------------
                             72 ; external initialized ram data
                             73 ;--------------------------------------------------------
                             74 	.area XISEG   (XDATA)
                             75 	.area HOME    (CODE)
                             76 	.area GSINIT0 (CODE)
                             77 	.area GSINIT1 (CODE)
                             78 	.area GSINIT2 (CODE)
                             79 	.area GSINIT3 (CODE)
                             80 	.area GSINIT4 (CODE)
                             81 	.area GSINIT5 (CODE)
                             82 	.area GSINIT  (CODE)
                             83 	.area GSFINAL (CODE)
                             84 	.area CSEG    (CODE)
                             85 ;--------------------------------------------------------
                             86 ; global & static initialisations
                             87 ;--------------------------------------------------------
                             88 	.area HOME    (CODE)
                             89 	.area GSINIT  (CODE)
                             90 	.area GSFINAL (CODE)
                             91 	.area GSINIT  (CODE)
                             92 ;--------------------------------------------------------
                             93 ; Home
                             94 ;--------------------------------------------------------
                             95 	.area HOME    (CODE)
                             96 	.area HOME    (CODE)
                             97 ;--------------------------------------------------------
                             98 ; code
                             99 ;--------------------------------------------------------
                            100 	.area CSEG    (CODE)
                            101 ;------------------------------------------------------------
                            102 ;Allocation info for local variables in function 'strncmp'
                            103 ;------------------------------------------------------------
                            104 ;last                      Allocated with name '_strncmp_PARM_2'
                            105 ;count                     Allocated with name '_strncmp_PARM_3'
                            106 ;first                     Allocated with name '_strncmp_first_1_1'
                            107 ;sloc0                     Allocated with name '_strncmp_sloc0_1_0'
                            108 ;------------------------------------------------------------
                            109 ;	_strncmp.c:31: int strncmp (
                            110 ;	-----------------------------------------
                            111 ;	 function strncmp
                            112 ;	-----------------------------------------
   0000                     113 _strncmp:
                    0002    114 	ar2 = 0x02
                    0003    115 	ar3 = 0x03
                    0004    116 	ar4 = 0x04
                    0005    117 	ar5 = 0x05
                    0006    118 	ar6 = 0x06
                    0007    119 	ar7 = 0x07
                    0000    120 	ar0 = 0x00
                    0001    121 	ar1 = 0x01
   0000 AA F0               122 	mov	r2,b
   0002 AB 83               123 	mov	r3,dph
   0004 E5 82               124 	mov	a,dpl
   0006 90s00r05            125 	mov	dptr,#_strncmp_first_1_1
   0009 F0                  126 	movx	@dptr,a
   000A A3                  127 	inc	dptr
   000B EB                  128 	mov	a,r3
   000C F0                  129 	movx	@dptr,a
   000D A3                  130 	inc	dptr
   000E EA                  131 	mov	a,r2
   000F F0                  132 	movx	@dptr,a
                            133 ;	_strncmp.c:37: if (!count)
   0010 90s00r03            134 	mov	dptr,#_strncmp_PARM_3
   0013 E0                  135 	movx	a,@dptr
   0014 FA                  136 	mov	r2,a
   0015 A3                  137 	inc	dptr
   0016 E0                  138 	movx	a,@dptr
   0017 FB                  139 	mov	r3,a
   0018 4A                  140 	orl	a,r2
   0019 70 04               141 	jnz	00114$
                            142 ;	_strncmp.c:38: return(0);
   001B 90 00 00            143 	mov	dptr,#0x0000
   001E 22                  144 	ret
                            145 ;	_strncmp.c:40: while (--count && *first && *first == *last) {
   001F                     146 00114$:
   001F 90s00r05            147 	mov	dptr,#_strncmp_first_1_1
   0022 E0                  148 	movx	a,@dptr
   0023 FC                  149 	mov	r4,a
   0024 A3                  150 	inc	dptr
   0025 E0                  151 	movx	a,@dptr
   0026 FD                  152 	mov	r5,a
   0027 A3                  153 	inc	dptr
   0028 E0                  154 	movx	a,@dptr
   0029 FE                  155 	mov	r6,a
   002A 90s00r00            156 	mov	dptr,#_strncmp_PARM_2
   002D E0                  157 	movx	a,@dptr
   002E FF                  158 	mov	r7,a
   002F A3                  159 	inc	dptr
   0030 E0                  160 	movx	a,@dptr
   0031 F8                  161 	mov	r0,a
   0032 A3                  162 	inc	dptr
   0033 E0                  163 	movx	a,@dptr
   0034 F9                  164 	mov	r1,a
   0035                     165 00105$:
   0035 1A                  166 	dec	r2
   0036 BA FF 01            167 	cjne	r2,#0xff,00117$
   0039 1B                  168 	dec	r3
   003A                     169 00117$:
   003A EA                  170 	mov	a,r2
   003B 4B                  171 	orl	a,r3
   003C 60 41               172 	jz	00115$
   003E 8C 82               173 	mov	dpl,r4
   0040 8D 83               174 	mov	dph,r5
   0042 8E F0               175 	mov	b,r6
   0044 12s00r00            176 	lcall	__gptrget
   0047 F5*00               177 	mov	_strncmp_sloc0_1_0,a
   0049 60 34               178 	jz	00115$
   004B C0 02               179 	push	ar2
   004D C0 03               180 	push	ar3
   004F 8F 82               181 	mov	dpl,r7
   0051 88 83               182 	mov	dph,r0
   0053 89 F0               183 	mov	b,r1
   0055 12s00r00            184 	lcall	__gptrget
   0058 FA                  185 	mov	r2,a
   0059 B5*00 02            186 	cjne	a,_strncmp_sloc0_1_0,00120$
   005C 80 06               187 	sjmp	00121$
   005E                     188 00120$:
   005E D0 03               189 	pop	ar3
   0060 D0 02               190 	pop	ar2
   0062 80 1B               191 	sjmp	00115$
   0064                     192 00121$:
   0064 D0 03               193 	pop	ar3
   0066 D0 02               194 	pop	ar2
                            195 ;	_strncmp.c:41: first++;
   0068 0C                  196 	inc	r4
   0069 BC 00 01            197 	cjne	r4,#0x00,00122$
   006C 0D                  198 	inc	r5
   006D                     199 00122$:
   006D 90s00r05            200 	mov	dptr,#_strncmp_first_1_1
   0070 EC                  201 	mov	a,r4
   0071 F0                  202 	movx	@dptr,a
   0072 A3                  203 	inc	dptr
   0073 ED                  204 	mov	a,r5
   0074 F0                  205 	movx	@dptr,a
   0075 A3                  206 	inc	dptr
   0076 EE                  207 	mov	a,r6
   0077 F0                  208 	movx	@dptr,a
                            209 ;	_strncmp.c:42: last++;
   0078 0F                  210 	inc	r7
   0079 BF 00 B9            211 	cjne	r7,#0x00,00105$
   007C 08                  212 	inc	r0
   007D 80 B6               213 	sjmp	00105$
   007F                     214 00115$:
   007F 90s00r05            215 	mov	dptr,#_strncmp_first_1_1
   0082 EC                  216 	mov	a,r4
   0083 F0                  217 	movx	@dptr,a
   0084 A3                  218 	inc	dptr
   0085 ED                  219 	mov	a,r5
   0086 F0                  220 	movx	@dptr,a
   0087 A3                  221 	inc	dptr
   0088 EE                  222 	mov	a,r6
   0089 F0                  223 	movx	@dptr,a
                            224 ;	_strncmp.c:45: return( *first - *last );
   008A 8C 82               225 	mov	dpl,r4
   008C 8D 83               226 	mov	dph,r5
   008E 8E F0               227 	mov	b,r6
   0090 12s00r00            228 	lcall	__gptrget
   0093 FC                  229 	mov	r4,a
   0094 33                  230 	rlc	a
   0095 95 E0               231 	subb	a,acc
   0097 FA                  232 	mov	r2,a
   0098 8F 82               233 	mov	dpl,r7
   009A 88 83               234 	mov	dph,r0
   009C 89 F0               235 	mov	b,r1
   009E 12s00r00            236 	lcall	__gptrget
   00A1 FF                  237 	mov	r7,a
   00A2 33                  238 	rlc	a
   00A3 95 E0               239 	subb	a,acc
   00A5 FB                  240 	mov	r3,a
   00A6 EC                  241 	mov	a,r4
   00A7 C3                  242 	clr	c
   00A8 9F                  243 	subb	a,r7
   00A9 FC                  244 	mov	r4,a
   00AA EA                  245 	mov	a,r2
   00AB 9B                  246 	subb	a,r3
   00AC 8C 82               247 	mov	dpl,r4
   00AE F5 83               248 	mov	dph,a
   00B0 22                  249 	ret
                            250 	.area CSEG    (CODE)
                            251 	.area CONST   (CODE)
                            252 	.area XINIT   (CODE)
                            253 	.area CABS    (ABS,CODE)
