                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:20 2015
                              5 ;--------------------------------------------------------
                              6 	.module vprintf
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _vprintf
                             13 	.globl _printf
                             14 ;--------------------------------------------------------
                             15 ;  ram data
                             16 ;--------------------------------------------------------
                             17 	.area _DATA
                             18 ;--------------------------------------------------------
                             19 ; overlayable items in  ram 
                             20 ;--------------------------------------------------------
                             21 	.area _OVERLAY
                             22 ;--------------------------------------------------------
                             23 ; external initialized ram data
                             24 ;--------------------------------------------------------
                             25 ;--------------------------------------------------------
                             26 ; global & static initialisations
                             27 ;--------------------------------------------------------
                             28 	.area _HOME
                             29 	.area _GSINIT
                             30 	.area _GSFINAL
                             31 	.area _GSINIT
                             32 ;--------------------------------------------------------
                             33 ; Home
                             34 ;--------------------------------------------------------
                             35 	.area _HOME
                             36 	.area _HOME
                             37 ;--------------------------------------------------------
                             38 ; code
                             39 ;--------------------------------------------------------
                             40 	.area _CODE
                             41 ;../vprintf.c:34: put_char_to_stdout (char c, void* p) _REENTRANT
                             42 ;	---------------------------------
                             43 ; Function put_char_to_stdout
                             44 ; ---------------------------------
   0000                      45 _put_char_to_stdout:
                             46 	
                             47 ;../vprintf.c:37: putchar (c);
   0000 F8 02                48 	ldhl	sp,#2
   0002 7E                   49 	ld	a,(hl)
   0003 F5                   50 	push	af
   0004 33                   51 	inc	sp
   0005 CDr00s00             52 	call	_putchar
   0008 E8 01                53 	lda	sp,1(sp)
   000A                      54 00101$:
                             55 	
   000A C9                   56 	ret
                             57 ;../vprintf.c:41: vprintf (const char *format, va_list ap)
                             58 ;	---------------------------------
                             59 ; Function vprintf
                             60 ; ---------------------------------
   000B                      61 _vprintf_start::
   000B                      62 _vprintf:
                             63 	
                             64 ;../vprintf.c:43: return _print_format (put_char_to_stdout, NULL, format, ap);
   000B F8 04                65 	ldhl	sp,#4
   000D 7E                   66 	ld	a,(hl)
   000E 23                   67 	inc	hl
   000F 66                   68 	ld	h,(hl)
   0010 6F                   69 	ld	l,a
   0011 E5                   70 	push	hl
   0012 F8 04                71 	ldhl	sp,#4
   0014 7E                   72 	ld	a,(hl)
   0015 23                   73 	inc	hl
   0016 66                   74 	ld	h,(hl)
   0017 6F                   75 	ld	l,a
   0018 E5                   76 	push	hl
   0019 21 00 00             77 	ld	hl,#0x0000
   001C E5                   78 	push	hl
   001D 21r00s00             79 	ld	hl,#_put_char_to_stdout
   0020 E5                   80 	push	hl
   0021 CDr00s00             81 	call	__print_format
   0024 E8 08                82 	lda	sp,8(sp)
   0026 42                   83 	ld	b,d
   0027 4B                   84 	ld	c,e
   0028 59                   85 	ld	e,c
   0029 50                   86 	ld	d,b
   002A                      87 00101$:
                             88 	
   002A C9                   89 	ret
   002B                      90 _vprintf_end::
                             91 ;../vprintf.c:47: printf (const char *format, ...)
                             92 ;	---------------------------------
                             93 ; Function printf
                             94 ; ---------------------------------
   002B                      95 _printf_start::
   002B                      96 _printf:
                             97 	
                             98 ;../vprintf.c:52: va_start (arg, format);
   002B F8 02                99 	ldhl	sp,#2
   002D 4D                  100 	ld	c,l
   002E 44                  101 	ld	b,h
   002F 03                  102 	inc	bc
   0030 03                  103 	inc	bc
                            104 ;../vprintf.c:53: i = _print_format (put_char_to_stdout, NULL, format, arg);
   0031 C5                  105 	push	bc
   0032 F8 04               106 	ldhl	sp,#4
   0034 7E                  107 	ld	a,(hl)
   0035 23                  108 	inc	hl
   0036 66                  109 	ld	h,(hl)
   0037 6F                  110 	ld	l,a
   0038 E5                  111 	push	hl
   0039 21 00 00            112 	ld	hl,#0x0000
   003C E5                  113 	push	hl
   003D 21r00s00            114 	ld	hl,#_put_char_to_stdout
   0040 E5                  115 	push	hl
   0041 CDr00s00            116 	call	__print_format
   0044 E8 08               117 	lda	sp,8(sp)
   0046 42                  118 	ld	b,d
   0047 4B                  119 	ld	c,e
                            120 ;../vprintf.c:56: return i;
   0048 59                  121 	ld	e,c
   0049 50                  122 	ld	d,b
   004A                     123 00101$:
                            124 	
   004A C9                  125 	ret
   004B                     126 _printf_end::
                            127 	.area _CODE
                            128 	.area _CABS
