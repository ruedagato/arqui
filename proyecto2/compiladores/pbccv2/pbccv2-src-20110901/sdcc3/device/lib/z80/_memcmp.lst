                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:18 2015
                              5 ;--------------------------------------------------------
                              6 	.module _memcmp
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _memcmp
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../_memcmp.c:31: int memcmp (
                             44 ;	---------------------------------
                             45 ; Function memcmp
                             46 ; ---------------------------------
   0000                      47 _memcmp_start::
   0000                      48 _memcmp:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 3B                   52 	dec	sp
                             53 ;../_memcmp.c:37: if (!count)
   0009 DD 7E 08             54 	ld	a,8 (ix)
   000C DD B6 09             55 	or	a,9 (ix)
   000F 20 05                56 	jr	NZ,00112$
                             57 ;../_memcmp.c:38: return(0);
   0011 21 00 00             58 	ld	hl,#0x0000
   0014 18 63                59 	jr	00107$
                             60 ;../_memcmp.c:40: while ( --count && *((char *)buf1) == *((char *)buf2) ) {
   0016                      61 00112$:
   0016 DD 4E 08             62 	ld	c,8 (ix)
   0019 DD 46 09             63 	ld	b,9 (ix)
   001C                      64 00104$:
   001C 0B                   65 	dec	bc
   001D 79                   66 	ld	a,c
   001E B0                   67 	or	a,b
   001F 28 40                68 	jr	Z,00106$
   0021 DD 6E 04             69 	ld	l,4 (ix)
   0024 DD 66 05             70 	ld	h,5 (ix)
   0027 7E                   71 	ld	a,(hl)
   0028 DD 77 FF             72 	ld	-1 (ix),a
   002B DD 5E 06             73 	ld	e,6 (ix)
   002E DD 56 07             74 	ld	d,7 (ix)
   0031 1A                   75 	ld	a,(de)
   0032 6F                   76 	ld	l,a
   0033 C5                   77 	push	bc
                             78 ;	direct compare
   0034 DD 4E FF             79 	ld	c,-1 (ix)
   0037 7D                   80 	ld	a,l
   0038 91                   81 	sub	a,c
   0039 20 03                82 	jr	NZ,00114$
   003B C1                   83 	pop	bc
   003C 18 03                84 	jr	00115$
   003E                      85 00114$:
   003E C1                   86 	pop	bc
   003F 18 20                87 	jr	00106$
   0041                      88 00115$:
                             89 ;../_memcmp.c:41: buf1 = (char *)buf1 + 1;
   0041 DD 7E 04             90 	ld	a, 4 (ix)
   0044 DD 66 05             91 	ld	h, 5 (ix)
   0047 C6 01                92 	add	a,#0x01
   0049 DD 77 04             93 	ld	4 (ix),a
   004C 7C                   94 	ld	a,h
   004D CE 00                95 	adc	a,#0x00
   004F DD 77 05             96 	ld	5 (ix),a
                             97 ;../_memcmp.c:42: buf2 = (char *)buf2 + 1;
   0052 7B                   98 	ld	a, e
   0053 62                   99 	ld	h, d
   0054 C6 01               100 	add	a,#0x01
   0056 DD 77 06            101 	ld	6 (ix),a
   0059 7C                  102 	ld	a,h
   005A CE 00               103 	adc	a,#0x00
   005C DD 77 07            104 	ld	7 (ix),a
   005F 18 BB               105 	jr	00104$
   0061                     106 00106$:
                            107 ;../_memcmp.c:45: return( *((unsigned char *)buf1) - *((unsigned char *)buf2) );
   0061 DD 6E 04            108 	ld	l,4 (ix)
   0064 DD 66 05            109 	ld	h,5 (ix)
   0067 4E                  110 	ld	c, (hl)
   0068 06 00               111 	ld	b,#0x00
   006A DD 6E 06            112 	ld	l,6 (ix)
   006D DD 66 07            113 	ld	h,7 (ix)
   0070 6E                  114 	ld	l,(hl)
   0071 26 00               115 	ld	h,#0x00
   0073 79                  116 	ld	a,c
   0074 95                  117 	sub	a,l
   0075 6F                  118 	ld	l,a
   0076 78                  119 	ld	a,b
   0077 9C                  120 	sbc	a,h
   0078 67                  121 	ld	h,a
   0079                     122 00107$:
   0079 DD F9               123 	ld	sp,ix
   007B DD E1               124 	pop	ix
   007D C9                  125 	ret
   007E                     126 _memcmp_end::
                            127 	.area _CODE
                            128 	.area _CABS
