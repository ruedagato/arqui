                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:18 2015
                              5 ;--------------------------------------------------------
                              6 	.module ldexpf
                              7 	.optsdcc -mds400 --model-flat24
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; CPU specific extensions
                             11 ;--------------------------------------------------------
                             12 .flat24 on		; 24 bit flat addressing
                    0084     13 dpl1	=	0x84
                    0085     14 dph1	=	0x85
                    0086     15 dps	=	0x86
                    0093     16 dpx	=	0x93
                    0095     17 dpx1	=	0x95
                    009B     18 esp	=	0x9B
                    009C     19 ap	=	0x9C
                    009C     20 _ap	=	0x9C
                    00D1     21 mcnt0	=	0xD1
                    00D2     22 mcnt1	=	0xD2
                    00D3     23 ma	=	0xD3
                    00D4     24 mb	=	0xD4
                    00D5     25 mc	=	0xD5
                    00D1     26 F1	=	0xD1	; user flag
                             27 ;--------------------------------------------------------
                             28 ; Public variables in this module
                             29 ;--------------------------------------------------------
                             30 	.globl _ldexpf_PARM_2
                             31 	.globl _ldexpf
                             32 ;--------------------------------------------------------
                             33 ; special function registers
                             34 ;--------------------------------------------------------
                             35 ;--------------------------------------------------------
                             36 ; special function bits
                             37 ;--------------------------------------------------------
                             38 ;--------------------------------------------------------
                             39 ; overlayable register banks
                             40 ;--------------------------------------------------------
                             41 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      42 	.ds 8
                             43 	.area REG_BANK_3	(REL,OVR,DATA)
   0000                      44 	.ds 8
                             45 ;--------------------------------------------------------
                             46 ; internal ram data
                             47 ;--------------------------------------------------------
                             48 	.area DSEG    (DATA)
                             49 ;--------------------------------------------------------
                             50 ; overlayable items in internal ram 
                             51 ;--------------------------------------------------------
                             52 	.area OSEG    (OVR,DATA)
                             53 ;--------------------------------------------------------
                             54 ; indirectly addressable internal ram data
                             55 ;--------------------------------------------------------
                             56 	.area ISEG    (DATA)
                             57 ;--------------------------------------------------------
                             58 ; absolute internal ram data
                             59 ;--------------------------------------------------------
                             60 	.area IABS    (ABS,DATA)
                             61 	.area IABS    (ABS,DATA)
                             62 ;--------------------------------------------------------
                             63 ; bit data
                             64 ;--------------------------------------------------------
                             65 	.area BSEG    (BIT)
                             66 ;--------------------------------------------------------
                             67 ; paged external ram data
                             68 ;--------------------------------------------------------
                             69 	.area PSEG    (PAG,XDATA)
                             70 ;--------------------------------------------------------
                             71 ; external ram data
                             72 ;--------------------------------------------------------
                             73 	.area XSEG    (XDATA)
   0000                      74 _ldexpf_PARM_2:
   0000                      75 	.ds 2
   0002                      76 _ldexpf_fl_1_1:
   0002                      77 	.ds 4
   0006                      78 _ldexpf_e_1_1:
   0006                      79 	.ds 4
                             80 ;--------------------------------------------------------
                             81 ; absolute external ram data
                             82 ;--------------------------------------------------------
                             83 	.area XABS    (ABS,XDATA)
                             84 ;--------------------------------------------------------
                             85 ; external initialized ram data
                             86 ;--------------------------------------------------------
                             87 	.area XISEG   (XDATA)
                             88 ;--------------------------------------------------------
                             89 ; global & static initialisations
                             90 ;--------------------------------------------------------
                             91 	.area HOME    (CODE)
                             92 	.area GSINIT  (CODE)
                             93 	.area GSFINAL (CODE)
                             94 	.area GSINIT  (CODE)
                             95 ;--------------------------------------------------------
                             96 ; Home
                             97 ;--------------------------------------------------------
                             98 	.area HOME    (CODE)
                             99 	.area HOME    (CODE)
                            100 ;--------------------------------------------------------
                            101 ; code
                            102 ;--------------------------------------------------------
                            103 	.area CSEG    (CODE)
                            104 ;------------------------------------------------------------
                            105 ;Allocation info for local variables in function 'ldexpf'
                            106 ;------------------------------------------------------------
                            107 ;pw2                       Allocated with name '_ldexpf_PARM_2'
                            108 ;x                         Allocated to registers r2 r3 r4 r5 
                            109 ;fl                        Allocated with name '_ldexpf_fl_1_1'
                            110 ;e                         Allocated with name '_ldexpf_e_1_1'
                            111 ;------------------------------------------------------------
                            112 ;	ldexpf.c:34: float ldexpf(const float x, const int pw2)
                            113 ;	-----------------------------------------
                            114 ;	 function ldexpf
                            115 ;	-----------------------------------------
   0000                     116 _ldexpf:
                    0002    117 	ar2 = 0x02
                    0003    118 	ar3 = 0x03
                    0004    119 	ar4 = 0x04
                    0005    120 	ar5 = 0x05
                    0006    121 	ar6 = 0x06
                    0007    122 	ar7 = 0x07
                    0000    123 	ar0 = 0x00
                    0001    124 	ar1 = 0x01
   0000 AA 82               125 	mov	r2,dpl
   0002 AB 83               126 	mov	r3,dph
   0004 AC 93               127 	mov	r4,dpx
   0006 AD F0               128 	mov	r5,b
                            129 ;	ldexpf.c:39: fl.f = x;
   0008 90s00r00r02         130 	mov	dptr,#_ldexpf_fl_1_1
   000C EA                  131 	mov	a,r2
   000D F0                  132 	movx	@dptr,a
   000E A3                  133 	inc	dptr
   000F EB                  134 	mov	a,r3
   0010 F0                  135 	movx	@dptr,a
   0011 A3                  136 	inc	dptr
   0012 EC                  137 	mov	a,r4
   0013 F0                  138 	movx	@dptr,a
   0014 A3                  139 	inc	dptr
   0015 ED                  140 	mov	a,r5
   0016 F0                  141 	movx	@dptr,a
                            142 ;	ldexpf.c:41: e=(fl.l >> 23) & 0x000000ff;
   0017 90s00r00r02         143 	mov	dptr,#_ldexpf_fl_1_1
   001B E0                  144 	movx	a,@dptr
   001C A3                  145 	inc	dptr
   001D FA                  146 	mov	r2,a
   001E E0                  147 	movx	a,@dptr
   001F A3                  148 	inc	dptr
   0020 FB                  149 	mov	r3,a
   0021 E0                  150 	movx	a,@dptr
   0022 A3                  151 	inc	dptr
   0023 FC                  152 	mov	r4,a
   0024 E0                  153 	movx	a,@dptr
   0025 FD                  154 	mov	r5,a
   0026 8C 06               155 	mov	ar6,r4
   0028 ED                  156 	mov	a,r5
   0029 A2 E7               157 	mov	c,acc.7
   002B CE                  158 	xch	a,r6
   002C 33                  159 	rlc	a
   002D CE                  160 	xch	a,r6
   002E 33                  161 	rlc	a
   002F CE                  162 	xch	a,r6
   0030 54 01               163 	anl	a,#0x01
   0032 30 E0 02            164 	jnb	acc.0,00103$
   0035 44 FE               165 	orl	a,#0xFE
   0037                     166 00103$:
   0037 FF                  167 	mov	r7,a
   0038 33                  168 	rlc	a
   0039 95 E0               169 	subb	a,acc
   003B F8                  170 	mov	r0,a
   003C F9                  171 	mov	r1,a
   003D 90s00r00r06         172 	mov	dptr,#_ldexpf_e_1_1
   0041 EE                  173 	mov	a,r6
   0042 F0                  174 	movx	@dptr,a
   0043 A3                  175 	inc	dptr
   0044 E4                  176 	clr	a
   0045 F0                  177 	movx	@dptr,a
   0046 A3                  178 	inc	dptr
   0047 E4                  179 	clr	a
   0048 F0                  180 	movx	@dptr,a
   0049 A3                  181 	inc	dptr
   004A E4                  182 	clr	a
   004B F0                  183 	movx	@dptr,a
                            184 ;	ldexpf.c:42: e+=pw2;
   004C 90s00r00r00         185 	mov	dptr,#_ldexpf_PARM_2
   0050 E0                  186 	movx	a,@dptr
   0051 FE                  187 	mov	r6,a
   0052 A3                  188 	inc	dptr
   0053 E0                  189 	movx	a,@dptr
   0054 FF                  190 	mov	r7,a
   0055 E0                  191 	movx	a,@dptr
   0056 33                  192 	rlc	a
   0057 95 E0               193 	subb	a,acc
   0059 F8                  194 	mov	r0,a
   005A F9                  195 	mov	r1,a
   005B 90s00r00r06         196 	mov	dptr,#_ldexpf_e_1_1
   005F E0                  197 	movx	a,@dptr
   0060 2E                  198 	add	a,r6
   0061 F0                  199 	movx	@dptr,a
   0062 A3                  200 	inc	dptr
   0063 E0                  201 	movx	a,@dptr
   0064 3F                  202 	addc	a,r7
   0065 F0                  203 	movx	@dptr,a
   0066 A3                  204 	inc	dptr
   0067 E0                  205 	movx	a,@dptr
   0068 38                  206 	addc	a,r0
   0069 F0                  207 	movx	@dptr,a
   006A A3                  208 	inc	dptr
   006B E0                  209 	movx	a,@dptr
   006C 39                  210 	addc	a,r1
   006D F0                  211 	movx	@dptr,a
                            212 ;	ldexpf.c:43: fl.l= ((e & 0xff) << 23) | (fl.l & 0x807fffff);
   006E 90s00r00r06         213 	mov	dptr,#_ldexpf_e_1_1
   0072 E0                  214 	movx	a,@dptr
   0073 FE                  215 	mov	r6,a
   0074 7F 00               216 	mov	r7,#0
   0076 78 00               217 	mov	r0,#0
   0078 79 00               218 	mov	r1,#0
   007A 75 F0 18            219 	mov	b,#0x18
   007D 80 0D               220 	sjmp	00105$
   007F                     221 00104$:
   007F EE                  222 	mov	a,r6
   0080 25 E0               223 	add	a,acc
   0082 FE                  224 	mov	r6,a
   0083 EF                  225 	mov	a,r7
   0084 33                  226 	rlc	a
   0085 FF                  227 	mov	r7,a
   0086 E8                  228 	mov	a,r0
   0087 33                  229 	rlc	a
   0088 F8                  230 	mov	r0,a
   0089 E9                  231 	mov	a,r1
   008A 33                  232 	rlc	a
   008B F9                  233 	mov	r1,a
   008C                     234 00105$:
   008C D5 F0 F0            235 	djnz	b,00104$
   008F 53 04 7F            236 	anl	ar4,#0x7F
   0092 53 05 80            237 	anl	ar5,#0x80
   0095 EA                  238 	mov	a,r2
   0096 42 06               239 	orl	ar6,a
   0098 EB                  240 	mov	a,r3
   0099 42 07               241 	orl	ar7,a
   009B EC                  242 	mov	a,r4
   009C 42 00               243 	orl	ar0,a
   009E ED                  244 	mov	a,r5
   009F 42 01               245 	orl	ar1,a
   00A1 90s00r00r02         246 	mov	dptr,#_ldexpf_fl_1_1
   00A5 EE                  247 	mov	a,r6
   00A6 F0                  248 	movx	@dptr,a
   00A7 A3                  249 	inc	dptr
   00A8 EF                  250 	mov	a,r7
   00A9 F0                  251 	movx	@dptr,a
   00AA A3                  252 	inc	dptr
   00AB E8                  253 	mov	a,r0
   00AC F0                  254 	movx	@dptr,a
   00AD A3                  255 	inc	dptr
   00AE E9                  256 	mov	a,r1
   00AF F0                  257 	movx	@dptr,a
                            258 ;	ldexpf.c:45: return(fl.f);
   00B0 90s00r00r02         259 	mov	dptr,#_ldexpf_fl_1_1
   00B4 E0                  260 	movx	a,@dptr
   00B5 A3                  261 	inc	dptr
   00B6 FA                  262 	mov	r2,a
   00B7 E0                  263 	movx	a,@dptr
   00B8 A3                  264 	inc	dptr
   00B9 FB                  265 	mov	r3,a
   00BA E0                  266 	movx	a,@dptr
   00BB A3                  267 	inc	dptr
   00BC FC                  268 	mov	r4,a
   00BD E0                  269 	movx	a,@dptr
   00BE FD                  270 	mov	r5,a
   00BF 8A 82               271 	mov	dpl,r2
   00C1 8B 83               272 	mov	dph,r3
   00C3 8C 93               273 	mov	dpx,r4
   00C5 8D F0               274 	mov	b,r5
   00C7                     275 00101$:
   00C7 22                  276 	ret
                            277 	.area CSEG    (CODE)
                            278 	.area CONST   (CODE)
                            279 	.area XINIT   (CODE)
                            280 	.area CABS    (ABS,CODE)
