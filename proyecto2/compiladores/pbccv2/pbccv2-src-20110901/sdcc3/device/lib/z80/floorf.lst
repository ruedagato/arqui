                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:17 2015
                              5 ;--------------------------------------------------------
                              6 	.module floorf
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _floorf
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../floorf.c:33: float floorf (float x) _FLOAT_FUNC_REENTRANT
                             44 ;	---------------------------------
                             45 ; Function floorf
                             46 ; ---------------------------------
   0000                      47 _floorf_start::
   0000                      48 _floorf:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 F5                   52 	push	af
   0009 F5                   53 	push	af
                             54 ;../floorf.c:36: r=x;
   000A DD 6E 06             55 	ld	l,6 (ix)
   000D DD 66 07             56 	ld	h,7 (ix)
   0010 E5                   57 	push	hl
   0011 DD 6E 04             58 	ld	l,4 (ix)
   0014 DD 66 05             59 	ld	h,5 (ix)
   0017 E5                   60 	push	hl
   0018 CDr00s00             61 	call	___fs2slong
   001B F1                   62 	pop	af
   001C F1                   63 	pop	af
   001D 44                   64 	ld	b,h
   001E 4D                   65 	ld	c,l
   001F DD 71 FC             66 	ld	-4 (ix),c
   0022 DD 70 FD             67 	ld	-3 (ix),b
   0025 DD 73 FE             68 	ld	-2 (ix),e
   0028 DD 72 FF             69 	ld	-1 (ix),d
                             70 ;../floorf.c:37: if (r<=0)
   002B 3E 00                71 	ld	a,#0x00
   002D DD 96 FC             72 	sub	a, -4 (ix)
   0030 3E 00                73 	ld	a,#0x00
   0032 DD 9E FD             74 	sbc	a, -3 (ix)
   0035 3E 00                75 	ld	a,#0x00
   0037 DD 9E FE             76 	sbc	a, -2 (ix)
   003A 3E 00                77 	ld	a,#0x00
   003C DD 9E FF             78 	sbc	a, -1 (ix)
   003F E2r44s00             79 	jp	PO, 00110$
   0042 EE 80                80 	xor	a, #0x80
   0044                      81 00110$:
   0044 FArA1s00             82 	jp	M,00102$
                             83 ;../floorf.c:38: return (r+((r>x)?-1:0));
   0047 DD 6E FE             84 	ld	l,-2 (ix)
   004A DD 66 FF             85 	ld	h,-1 (ix)
   004D E5                   86 	push	hl
   004E DD 6E FC             87 	ld	l,-4 (ix)
   0051 DD 66 FD             88 	ld	h,-3 (ix)
   0054 E5                   89 	push	hl
   0055 CDr00s00             90 	call	___slong2fs
   0058 F1                   91 	pop	af
   0059 F1                   92 	pop	af
   005A 44                   93 	ld	b,h
   005B 4D                   94 	ld	c,l
   005C DD 6E 06             95 	ld	l,6 (ix)
   005F DD 66 07             96 	ld	h,7 (ix)
   0062 E5                   97 	push	hl
   0063 DD 6E 04             98 	ld	l,4 (ix)
   0066 DD 66 05             99 	ld	h,5 (ix)
   0069 E5                  100 	push	hl
   006A D5                  101 	push	de
   006B C5                  102 	push	bc
   006C CDr00s00            103 	call	___fsgt
   006F F1                  104 	pop	af
   0070 F1                  105 	pop	af
   0071 F1                  106 	pop	af
   0072 F1                  107 	pop	af
   0073 AF                  108 	xor	a,a
   0074 B5                  109 	or	a,l
   0075 28 04               110 	jr	Z,00106$
   0077 0E FF               111 	ld	c,#0xFF
   0079 18 02               112 	jr	00107$
   007B                     113 00106$:
   007B 0E 00               114 	ld	c,#0x00
   007D                     115 00107$:
   007D 79                  116 	ld	a,c
   007E 17                  117 	rla	
   007F 9F                  118 	sbc	a,a
   0080 47                  119 	ld	b,a
   0081 5F                  120 	ld	e,a
   0082 57                  121 	ld	d,a
   0083 DD 7E FC            122 	ld	a,-4 (ix)
   0086 81                  123 	add	a,c
   0087 4F                  124 	ld	c,a
   0088 DD 7E FD            125 	ld	a,-3 (ix)
   008B 88                  126 	adc	a,b
   008C 47                  127 	ld	b,a
   008D DD 7E FE            128 	ld	a,-2 (ix)
   0090 8B                  129 	adc	a,e
   0091 5F                  130 	ld	e,a
   0092 DD 7E FF            131 	ld	a,-1 (ix)
   0095 8A                  132 	adc	a,d
   0096 67                  133 	ld	h, a
   0097 6B                  134 	ld	l, e
   0098 E5                  135 	push	hl
   0099 C5                  136 	push	bc
   009A CDr00s00            137 	call	___slong2fs
   009D F1                  138 	pop	af
   009E F1                  139 	pop	af
   009F 18 13               140 	jr	00104$
   00A1                     141 00102$:
                            142 ;../floorf.c:40: return r;
   00A1 DD 6E FE            143 	ld	l,-2 (ix)
   00A4 DD 66 FF            144 	ld	h,-1 (ix)
   00A7 E5                  145 	push	hl
   00A8 DD 6E FC            146 	ld	l,-4 (ix)
   00AB DD 66 FD            147 	ld	h,-3 (ix)
   00AE E5                  148 	push	hl
   00AF CDr00s00            149 	call	___slong2fs
   00B2 F1                  150 	pop	af
   00B3 F1                  151 	pop	af
   00B4                     152 00104$:
   00B4 DD F9               153 	ld	sp,ix
   00B6 DD E1               154 	pop	ix
   00B8 C9                  155 	ret
   00B9                     156 _floorf_end::
                            157 	.area _CODE
                            158 	.area _CABS
