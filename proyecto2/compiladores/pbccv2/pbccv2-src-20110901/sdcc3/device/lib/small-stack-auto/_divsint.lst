                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:15:31 2015
                              5 ;--------------------------------------------------------
                              6 	.module _divsint
                              7 	.optsdcc -mmcs51 --model-small
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 ;--------------------------------------------------------
                             13 ; special function registers
                             14 ;--------------------------------------------------------
                             15 	.area RSEG    (ABS,DATA)
   0000                      16 	.org 0x0000
                             17 ;--------------------------------------------------------
                             18 ; special function bits
                             19 ;--------------------------------------------------------
                             20 	.area RSEG    (ABS,DATA)
   0000                      21 	.org 0x0000
                             22 ;--------------------------------------------------------
                             23 ; overlayable register banks
                             24 ;--------------------------------------------------------
                             25 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      26 	.ds 8
                             27 ;--------------------------------------------------------
                             28 ; internal ram data
                             29 ;--------------------------------------------------------
                             30 	.area DSEG    (DATA)
                             31 ;--------------------------------------------------------
                             32 ; overlayable items in internal ram 
                             33 ;--------------------------------------------------------
                             34 	.area OSEG    (OVR,DATA)
                             35 ;--------------------------------------------------------
                             36 ; indirectly addressable internal ram data
                             37 ;--------------------------------------------------------
                             38 	.area ISEG    (DATA)
                             39 ;--------------------------------------------------------
                             40 ; absolute internal ram data
                             41 ;--------------------------------------------------------
                             42 	.area IABS    (ABS,DATA)
                             43 	.area IABS    (ABS,DATA)
                             44 ;--------------------------------------------------------
                             45 ; bit data
                             46 ;--------------------------------------------------------
                             47 	.area BSEG    (BIT)
                             48 ;--------------------------------------------------------
                             49 ; paged external ram data
                             50 ;--------------------------------------------------------
                             51 	.area PSEG    (PAG,XDATA)
                             52 ;--------------------------------------------------------
                             53 ; external ram data
                             54 ;--------------------------------------------------------
                             55 	.area XSEG    (XDATA)
                             56 ;--------------------------------------------------------
                             57 ; absolute external ram data
                             58 ;--------------------------------------------------------
                             59 	.area XABS    (ABS,XDATA)
                             60 ;--------------------------------------------------------
                             61 ; external initialized ram data
                             62 ;--------------------------------------------------------
                             63 	.area XISEG   (XDATA)
                             64 	.area HOME    (CODE)
                             65 	.area GSINIT0 (CODE)
                             66 	.area GSINIT1 (CODE)
                             67 	.area GSINIT2 (CODE)
                             68 	.area GSINIT3 (CODE)
                             69 	.area GSINIT4 (CODE)
                             70 	.area GSINIT5 (CODE)
                             71 	.area GSINIT  (CODE)
                             72 	.area GSFINAL (CODE)
                             73 	.area CSEG    (CODE)
                             74 ;--------------------------------------------------------
                             75 ; global & static initialisations
                             76 ;--------------------------------------------------------
                             77 	.area HOME    (CODE)
                             78 	.area GSINIT  (CODE)
                             79 	.area GSFINAL (CODE)
                             80 	.area GSINIT  (CODE)
                             81 ;--------------------------------------------------------
                             82 ; Home
                             83 ;--------------------------------------------------------
                             84 	.area HOME    (CODE)
                             85 	.area HOME    (CODE)
                             86 ;--------------------------------------------------------
                             87 ; code
                             88 ;--------------------------------------------------------
                             89 	.area CSEG    (CODE)
                             90 ;------------------------------------------------------------
                             91 ;Allocation info for local variables in function '_divsint_dummy'
                             92 ;------------------------------------------------------------
                             93 ;------------------------------------------------------------
                             94 ;	_divsint.c:132: _divsint_dummy (void) __naked
                             95 ;	-----------------------------------------
                             96 ;	 function _divsint_dummy
                             97 ;	-----------------------------------------
   0000                      98 __divsint_dummy:
                             99 ;	naked function: no prologue.
                            100 ;	_divsint.c:201: __endasm;
                            101 	
                            102 	
                            103 	
                            104 	
                            105 	
                            106 	 .globl __divsint
                            107 	
   0000                     108 	__divsint:
                            109 	
   0000 C2 D5               110 	 clr F0 ; Flag 0 in PSW
                            111     ; available to user for general purpose
   0002 E5 83               112 	 mov a,dph
   0004 30 E7 0D            113 	 jnb acc.7,a_not_negative
                            114 	
   0007 D2 D5               115 	 setb F0
                            116 	
   0009 E4                  117 	 clr a
   000A C3                  118 	 clr c
   000B 95 82               119 	 subb a,dpl
   000D F5 82               120 	 mov dpl,a
   000F E4                  121 	 clr a
   0010 95 83               122 	 subb a,dph
   0012 F5 83               123 	 mov dph,a
                            124 	
   0014                     125 	a_not_negative:
                            126 	
   0014 E5 81               127 	 mov a,sp
   0016 24 FE               128 	 add a,#-2 ; 2 bytes return address
   0018 F8                  129 	 mov r0,a ; r0 points to yh
   0019 E6                  130 	 mov a,@r0 ; a = yh
                            131 	
   001A 30 E7 0A            132 	 jnb acc.7,b_not_negative
                            133 	
   001D B2 D5               134 	 cpl F0
                            135 	
   001F 18                  136 	 dec r0
                            137 	
   0020 E4                  138 	 clr a
   0021 C3                  139 	 clr c
   0022 96                  140 	 subb a,@r0 ; yl
   0023 F6                  141 	 mov @r0,a
   0024 E4                  142 	 clr a
   0025 08                  143 	 inc r0
   0026 96                  144 	 subb a,@r0 ; a = yh
                            145 	
   0027                     146 	b_not_negative:
                            147 	
   0027 F9                  148 	 mov r1,a ; yh
   0028 18                  149 	 dec r0
   0029 E6                  150 	 mov a,@r0 ; yl
   002A F8                  151 	 mov r0,a
                            152 	
   002B 12s00r00            153 	 lcall __divint
                            154 	
   002E 30 D5 0B            155 	 jnb F0,not_negative
                            156 	
   0031 E4                  157 	 clr a
   0032 C3                  158 	 clr c
   0033 95 82               159 	 subb a,dpl
   0035 F5 82               160 	 mov dpl,a
   0037 E4                  161 	 clr a
   0038 95 83               162 	 subb a,dph
   003A F5 83               163 	 mov dph,a
                            164 	
   003C                     165 	not_negative:
   003C 22                  166 	 ret
                            167 	
                            168 	 
                            169 ;	naked function: no epilogue.
                            170 	.area CSEG    (CODE)
                            171 	.area CONST   (CODE)
                            172 	.area XINIT   (CODE)
                            173 	.area CABS    (ABS,CODE)
