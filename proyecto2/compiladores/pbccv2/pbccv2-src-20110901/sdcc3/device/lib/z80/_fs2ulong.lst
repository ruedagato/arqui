                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.0.1 #6227 (Oct  2 2015) (Linux)
                              4 ; This file was generated Fri Oct  2 17:18:16 2015
                              5 ;--------------------------------------------------------
                              6 	.module _fs2ulong
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl ___fs2ulong
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 ;../_fs2ulong.c:103: __fs2ulong (float a1)
                             39 ;	---------------------------------
                             40 ; Function __fs2ulong
                             41 ; ---------------------------------
   0000                      42 ___fs2ulong_start::
   0000                      43 ___fs2ulong:
   0000 DD E5                44 	push	ix
   0002 DD 21 00 00          45 	ld	ix,#0
   0006 DD 39                46 	add	ix,sp
   0008 21 F6 FF             47 	ld	hl,#-10
   000B 39                   48 	add	hl,sp
   000C F9                   49 	ld	sp,hl
                             50 ;../_fs2ulong.c:109: fl1.f = a1;
   000D 21 06 00             51 	ld	hl,#0x0006
   0010 39                   52 	add	hl,sp
   0011 DD 7E 04             53 	ld	a,4 (ix)
   0014 77                   54 	ld	(hl),a
   0015 23                   55 	inc	hl
   0016 DD 7E 05             56 	ld	a,5 (ix)
   0019 77                   57 	ld	(hl),a
   001A 23                   58 	inc	hl
   001B DD 7E 06             59 	ld	a,6 (ix)
   001E 77                   60 	ld	(hl),a
   001F 23                   61 	inc	hl
   0020 DD 7E 07             62 	ld	a,7 (ix)
   0023 77                   63 	ld	(hl),a
                             64 ;../_fs2ulong.c:111: if (!fl1.l || SIGN(fl1.l))
   0024 21 06 00             65 	ld	hl,#0x0006
   0027 39                   66 	add	hl,sp
   0028 4E                   67 	ld	c,(hl)
   0029 23                   68 	inc	hl
   002A 46                   69 	ld	b,(hl)
   002B 23                   70 	inc	hl
   002C 5E                   71 	ld	e,(hl)
   002D 23                   72 	inc	hl
   002E 56                   73 	ld	d,(hl)
   002F 79                   74 	ld	a,c
   0030 B0                   75 	or	a,b
   0031 B3                   76 	or	a,e
   0032 B2                   77 	or	a,d
   0033 28 08                78 	jr	Z,00101$
   0035 21 09 00             79 	ld	hl,#0x0006+1+1+1
   0038 39                   80 	add	hl,sp
   0039 7E                   81 	ld	a, (hl)
   003A 07                   82 	rlca
   003B 30 08                83 	jr	NC,00102$
   003D                      84 00101$:
                             85 ;../_fs2ulong.c:112: return (0);
   003D 21 00 00             86 	ld	hl,#0x0000
   0040 5D                   87 	ld	e,l
   0041 54                   88 	ld	d,h
   0042 C3rCFs00             89 	jp	00104$
   0045                      90 00102$:
                             91 ;../_fs2ulong.c:114: exp = EXP (fl1.l) - EXCESS - 24;
   0045 21 06 00             92 	ld	hl,#0x0006
   0048 39                   93 	add	hl,sp
   0049 4E                   94 	ld	c,(hl)
   004A 23                   95 	inc	hl
   004B 46                   96 	ld	b,(hl)
   004C 23                   97 	inc	hl
   004D 5E                   98 	ld	e,(hl)
   004E 23                   99 	inc	hl
   004F 56                  100 	ld	d,(hl)
   0050 3E 17               101 	ld	a,#0x17
   0052 F5                  102 	push	af
   0053 33                  103 	inc	sp
   0054 D5                  104 	push	de
   0055 C5                  105 	push	bc
   0056 CDr00s00            106 	call	__rrulong_rrx_s
   0059 F1                  107 	pop	af
   005A F1                  108 	pop	af
   005B 33                  109 	inc	sp
   005C 4D                  110 	ld	c,l
   005D 06 00               111 	ld	b,#0x00
   005F 11 00 00            112 	ld	de,#0x0000
   0062 79                  113 	ld	a,c
   0063 C6 6A               114 	add	a,#0x6A
   0065 4F                  115 	ld	c,a
   0066 78                  116 	ld	a,b
   0067 CE FF               117 	adc	a,#0xFF
   0069 47                  118 	ld	b,a
   006A 7B                  119 	ld	a,e
   006B CE FF               120 	adc	a,#0xFF
   006D 7A                  121 	ld	a,d
   006E CE FF               122 	adc	a,#0xFF
   0070 DD 71 FA            123 	ld	-6 (ix),c
   0073 DD 70 FB            124 	ld	-5 (ix),b
                            125 ;../_fs2ulong.c:115: l = MANT (fl1.l);
   0076 21 06 00            126 	ld	hl,#0x0006
   0079 39                  127 	add	hl,sp
   007A 4E                  128 	ld	c,(hl)
   007B 23                  129 	inc	hl
   007C 46                  130 	ld	b,(hl)
   007D 23                  131 	inc	hl
   007E 5E                  132 	ld	e,(hl)
   007F 23                  133 	inc	hl
   0080 7B                  134 	ld	a,e
   0081 E6 7F               135 	and	a,#0x7F
   0083 5F                  136 	ld	e,a
   0084 16 00               137 	ld	d,#0x00
   0086 DD 71 F6            138 	ld	-10 (ix),c
   0089 DD 70 F7            139 	ld	-9 (ix),b
   008C 7B                  140 	ld	a,e
   008D CB FF               141 	set	7, a
   008F DD 77 F8            142 	ld	-8 (ix),a
   0092 DD 72 F9            143 	ld	-7 (ix),d
                            144 ;../_fs2ulong.c:117: l >>= -exp;
   0095 AF                  145 	xor	a,a
   0096 DD 9E FA            146 	sbc	a,-6 (ix)
   0099 6F                  147 	ld	l,a
   009A 3E 00               148 	ld	a,#0x00
   009C DD 9E FB            149 	sbc	a,-5 (ix)
   009F 67                  150 	ld	h,a
   00A0 E5                  151 	push	hl
   00A1 DD 6E F8            152 	ld	l,-8 (ix)
   00A4 DD 66 F9            153 	ld	h,-7 (ix)
   00A7 E5                  154 	push	hl
   00A8 DD 6E F6            155 	ld	l,-10 (ix)
   00AB DD 66 F7            156 	ld	h,-9 (ix)
   00AE E5                  157 	push	hl
   00AF CDr00s00            158 	call	__rrslong_rrx_s
   00B2 F1                  159 	pop	af
   00B3 F1                  160 	pop	af
   00B4 F1                  161 	pop	af
   00B5 DD 75 F6            162 	ld	-10 (ix), l
   00B8 DD 74 F7            163 	ld	-9 (ix), h
   00BB DD 73 F8            164 	ld	-8 (ix),e
   00BE DD 72 F9            165 	ld	-7 (ix),d
                            166 ;../_fs2ulong.c:119: return l;
   00C1 DD 4E F6            167 	ld	c,-10 (ix)
   00C4 DD 46 F7            168 	ld	b,-9 (ix)
   00C7 DD 5E F8            169 	ld	e,-8 (ix)
   00CA DD 56 F9            170 	ld	d,-7 (ix)
   00CD 69                  171 	ld	l,c
   00CE 60                  172 	ld	h,b
   00CF                     173 00104$:
   00CF DD F9               174 	ld	sp,ix
   00D1 DD E1               175 	pop	ix
   00D3 C9                  176 	ret
   00D4                     177 ___fs2ulong_end::
                            178 	.area _HOME
                            179 ;--------------------------------------------------------
                            180 ; code
                            181 ;--------------------------------------------------------
                            182 	.area _CODE
                            183 	.area _CODE
                            184 	.area _CABS
